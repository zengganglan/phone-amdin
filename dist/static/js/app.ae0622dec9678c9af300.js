webpackJsonp([2],{"+Ayi":function(t,e){},"+aSx":function(t,e,a){(function(t){var n,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},a=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in a,i=/constructor/i.test(t.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},r=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(c,u,d){d||(c=r(c));var h,m=this,p="application/octet-stream"===c.type,f=function(){!function(t,e,a){for(var n=(e=[].concat(e)).length;n--;){var i=t["on"+e[n]];if("function"==typeof i)try{i.call(t,a||t)}catch(t){o(t)}}}(m,"writestart progress write writeend".split(" "))};if(m.readyState=m.INIT,n)return h=e().createObjectURL(c),void setTimeout(function(){var t,e;a.href=h,a.download=u,t=a,e=new MouseEvent("click"),t.dispatchEvent(e),f(),l(h),m.readyState=m.DONE});!function(){if((s||p&&i)&&t.FileReader){var a=new FileReader;return a.onloadend=function(){var e=s?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,m.readyState=m.DONE,f()},a.readAsDataURL(c),void(m.readyState=m.INIT)}h||(h=e().createObjectURL(c)),p?t.location.href=h:t.open(h,"_blank")||(t.location.href=h);m.readyState=m.DONE,f(),l(h)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,a){return e=e||t.name||"download",a||(t=r(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,a){return new c(t,e||t.name||"download",a)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?(console.log(t),t.exports.saveAs=i):null!==a("LGuY")&&null!==a("nErl")&&(void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n))}).call(e,a("3IRH")(t))},"+mHE":function(t,e){},0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"2/HI":function(t,e){},"24Rq":function(t,e){},"2HLi":function(t,e){},"2T5n":function(t,e,a){"use strict";var n={name:"SidebarItem",props:{item:{type:Object,required:!0}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item.items?a("span",{staticClass:"navlist"},[0==t.item.items.length?[a("el-menu-item",{attrs:{index:"/"+t.item.menu_route}},[t._v("\n        "+t._s(t.item.menu_name)+"\n      ")])]:a("el-submenu",{attrs:{index:"/"+t.item.menu_route}},[a("template",{slot:"title"},[t._v("\n      "+t._s(t.item.menu_name)+"\n    ")]),t._v(" "),t._l(t.item.items,function(e,n){return[e.items&&0!==e.items.length?a("sidebar-item",{key:n,attrs:{item:e}}):a("el-menu-item",{key:e.menu_route,attrs:{index:"/"+e.menu_route}},[t._v("\n        "+t._s(e.menu_name)+"\n      ")])]})],2)],2):t._e()},staticRenderFns:[]};var s=a("VU/8")(n,i,!1,function(t){a("y5V3")},"data-v-f8bdfdec",null).exports,o=a("7t+N"),l=a.n(o),r={data:function(){return{menuList1:"",treeflag:!1}},name:"Sidebar",components:{SidebarItem:s},watch:{},created:function(){var t=this;console.log(0xf6b75ab2bc47200,this.$store.state.navdata),this.$root.Bus.$on("setright",function(e){console.log(e),t.menuList1=e.rightdata}),this.$root.Bus.$on("headflag",function(e){console.log(e),t.treeflag=e})},mounted:function(){this.horizontalMove({innerId:".el-scrollbar",warpId:".head",speed:.5})},methods:{horizontalMove:function(t){var e,a,n=0,i=0;if(e=(t=t||{}).speed,t.innerId&&t.warpId){var s=function(t){if(event.touches)var e=t.touches[0];else e=t;a=e.pageX},o=function(t){if(event.touches)var s=t.touches[0];else s=t;n=s.pageX-a,d.css({left:i+n*e})},r=function(t){i=parseInt(d.css("left")),n>0&&i>0&&(d.animate({left:0},200),i=0),n<0&&i<-(c-u)&&(d.animate({left:-(c-u)},200),i=-(c-u))},c=l()(t.innerId).width(),u=l()(t.warpId).width(),d=l()(t.innerId),h=l()(t.warpId)[0];h.addEventListener("touchstart",s,!1),h.addEventListener("touchmove",o,!1),h.addEventListener("touchend",r,!1),h.addEventListener("mousedown",s,!1),h.addEventListener("mousemove",o,!1),h.addEventListener("mouseup",r,!1)}}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head"},[e("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[e("el-menu",{attrs:{"default-active":this.$route.path,"menu-trigger":"hover",router:"",mode:"horizontal","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"}},this._l(this.$store.state.navdata.rightdata,function(t,a){return e("sidebar-item",{key:a,attrs:{item:t}})}),1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("aL9x")},"data-v-bc3a7f78",null);e.a=u.exports},"2bHb":function(t,e){},"2eSV":function(t,e){},"37r8":function(t,e){},"3TXs":function(t,e,a){"use strict";(function(t,e){var n,i=a("pFYg"),s=a.n(i),o=t.exports;!function(n){if("object"==(void 0===o?"undefined":s()(o))&&void 0!==t)t.exports=n();else if("function"==typeof define&&a("nErl"))define([],n);else{var i;"undefined"!=typeof window?i=window:void 0!==e?i=e:"undefined"!=typeof self&&(i=self),i.htmlDocx=n(),console.log(i,t.exports,n(),i.htmlDocx,11111)}}(function(){return function t(e,a,i){function s(l,r){if(!a[l]){if(!e[l]){if(!r&&("function"==typeof n&&n))return n(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+l+"'")}var c=a[l]={exports:{}};e[l][0].call(c.exports,function(t){return s(e[l][1][t]||t)},c,c.exports,t,e,a,i)}return a[l].exports}for(var o="function"==typeof n&&n,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(t,e,a){
/*!
            * The buffer module from node.js, for the browser.
            *
            * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
            * @license  MIT
            */
var n=t("base64-js"),i=t("ieee754"),o=t("is-array");a.Buffer=r,a.SlowBuffer=r,a.INSPECT_MAX_BYTES=50,r.poolSize=8192;var l=1073741823;function r(t,e,a){if(!(this instanceof r))return new r(t,e,a);var n,i,c,u=void 0===t?"undefined":s()(t);if("number"===u)n=t>0?t>>>0:0;else if("string"===u)"base64"===e&&(t=function(t){for(t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(C,"");t.length%4!=0;)t+="=";return t}(t)),n=r.byteLength(t,e);else{if("object"!==u||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&o(t.data)&&(t=t.data),n=+t.length>0?Math.floor(+t.length):0}if(this.length>l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");if(r.TYPED_ARRAY_SUPPORT?i=r._augment(new Uint8Array(n)):((i=this).length=n,i._isBuffer=!0),r.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)i._set(t);else if(function(t){return o(t)||r.isBuffer(t)||t&&"object"==(void 0===t?"undefined":s()(t))&&"number"==typeof t.length}(t))if(r.isBuffer(t))for(c=0;c<n;c++)i[c]=t.readUInt8(c);else for(c=0;c<n;c++)i[c]=(t[c]%256+256)%256;else if("string"===u)i.write(t,0,e);else if("number"===u&&!r.TYPED_ARRAY_SUPPORT&&!a)for(c=0;c<n;c++)i[c]=0;return i}function c(t,e,a,n){return F(function(t){for(var e=[],a=0;a<t.length;a++)e.push(255&t.charCodeAt(a));return e}(e),t,a,n)}function u(t,e,a){return 0===e&&a===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,a))}function d(t,e,a){var n="",i="";a=Math.min(t.length,a);for(var s=e;s<a;s++)t[s]<=127?(n+=D(i)+String.fromCharCode(t[s]),i=""):i+="%"+t[s].toString(16);return n+D(i)}function h(t,e,a){var n="";a=Math.min(t.length,a);for(var i=e;i<a;i++)n+=String.fromCharCode(t[i]);return n}function m(t,e,a){return h(t,e,a)}function p(t,e,a){var n=t.length;(!e||e<0)&&(e=0),(!a||a<0||a>n)&&(a=n);for(var i="",s=e;s<a;s++)i+=$(t[s]);return i}function f(t,e,a){for(var n=t.slice(e,a),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function g(t,e,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>a)throw new RangeError("Trying to access beyond buffer length")}function v(t,e,a,n,i,s){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||e<s)throw new TypeError("value is out of bounds");if(a+n>t.length)throw new TypeError("index out of range")}function _(t,e,a,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-a,2);i<s;i++)t[a+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function b(t,e,a,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-a,4);i<s;i++)t[a+i]=e>>>8*(n?i:3-i)&255}function y(t,e,a,n,i,s){if(e>i||e<s)throw new TypeError("value is out of bounds");if(a+n>t.length)throw new TypeError("index out of range")}function x(t,e,a,n,s){return s||y(t,e,a,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(t,e,a,n,23,4),a+4}function w(t,e,a,n,s){return s||y(t,e,a,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(t,e,a,n,52,8),a+8}r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(t){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var a=t.length,n=e.length,i=0,s=Math.min(a,n);i<s&&t[i]===e[i];i++);return i!==s&&(a=t[i],n=e[i]),a<n?-1:n<a?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!o(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new r(0);if(1===t.length)return t[0];var a;if(void 0===e)for(e=0,a=0;a<t.length;a++)e+=t[a].length;var n=new r(e),i=0;for(a=0;a<t.length;a++){var s=t[a];s.copy(n,i),i+=s.length}return n},r.byteLength=function(t,e){var a;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":a=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=2*t.length;break;case"hex":a=t.length>>>1;break;case"utf8":case"utf-8":a=z(t).length;break;case"base64":a=S(t).length;break;default:a=t.length}return a},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,a){var n=!1;if(t||(t="utf8"),(e>>>=0)<0&&(e=0),(a=void 0===a||a===1/0?this.length:a>>>0)>this.length&&(a=this.length),a<=e)return"";for(;;)switch(t){case"hex":return p(this,e,a);case"utf8":case"utf-8":return d(this,e,a);case"ascii":return h(this,e,a);case"binary":return m(this,e,a);case"base64":return u(this,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,e,a);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=a.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return r.compare(this,t)},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,a,n){if(isFinite(e))isFinite(a)||(n=a,a=void 0);else{var i=n;n=e,e=a,a=i}e=Number(e)||0;var s,o=this.length-e;switch(a?(a=Number(a))>o&&(a=o):a=o,n=String(n||"utf8").toLowerCase()){case"hex":s=function(t,e,a,n){a=Number(a)||0;var i=t.length-a;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;if(s%2!=0)throw new Error("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;o++){var l=parseInt(e.substr(2*o,2),16);if(isNaN(l))throw new Error("Invalid hex string");t[a+o]=l}return o}(this,t,e,a);break;case"utf8":case"utf-8":s=function(t,e,a,n){return F(z(e),t,a,n)}(this,t,e,a);break;case"ascii":s=c(this,t,e,a);break;case"binary":s=function(t,e,a,n){return c(t,e,a,n)}(this,t,e,a);break;case"base64":s=function(t,e,a,n){return F(S(e),t,a,n)}(this,t,e,a);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=function(t,e,a,n){return F(function(t){for(var e,a,n,i=[],s=0;s<t.length;s++)a=(e=t.charCodeAt(s))>>8,n=e%256,i.push(n),i.push(a);return i}(e),t,a,n,2)}(this,t,e,a);break;default:throw new TypeError("Unknown encoding: "+n)}return s},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var a=this.length;if((t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(e=void 0===e?a:~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)return r._augment(this.subarray(t,e));for(var n=e-t,i=new r(n,void 0,!0),s=0;s<n;s++)i[s]=this[s+t];return i},r.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},r.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},r.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),i.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),i.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),i.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),i.read(this,t,!1,52,8)},r.prototype.writeUInt8=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeInt8=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):_(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,a){return t=+t,e>>>=0,a||v(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,a){return x(this,t,e,!0,a)},r.prototype.writeFloatBE=function(t,e,a){return x(this,t,e,!1,a)},r.prototype.writeDoubleLE=function(t,e,a){return w(this,t,e,!0,a)},r.prototype.writeDoubleBE=function(t,e,a){return w(this,t,e,!1,a)},r.prototype.copy=function(t,e,a,n){if(a||(a=0),n||0===n||(n=this.length),e||(e=0),n!==a&&0!==t.length&&0!==this.length){if(n<a)throw new TypeError("sourceEnd < sourceStart");if(e<0||e>=t.length)throw new TypeError("targetStart out of bounds");if(a<0||a>=this.length)throw new TypeError("sourceStart out of bounds");if(n<0||n>this.length)throw new TypeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-a&&(n=t.length-e+a);var i=n-a;if(i<1e3||!r.TYPED_ARRAY_SUPPORT)for(var s=0;s<i;s++)t[s+e]=this[s+a];else t._set(this.subarray(a,a+i),e)}},r.prototype.fill=function(t,e,a){if(t||(t=0),e||(e=0),a||(a=this.length),a<e)throw new TypeError("end < start");if(a!==e&&0!==this.length){if(e<0||e>=this.length)throw new TypeError("start out of bounds");if(a<0||a>this.length)throw new TypeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<a;n++)this[n]=t;else{var i=z(t.toString()),s=i.length;for(n=e;n<a;n++)this[n]=i[n%s]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,a=t.length;e<a;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var k=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=k.get,t.set=k.set,t.write=k.write,t.toString=k.toString,t.toLocaleString=k.toString,t.toJSON=k.toJSON,t.equals=k.equals,t.compare=k.compare,t.copy=k.copy,t.slice=k.slice,t.readUInt8=k.readUInt8,t.readUInt16LE=k.readUInt16LE,t.readUInt16BE=k.readUInt16BE,t.readUInt32LE=k.readUInt32LE,t.readUInt32BE=k.readUInt32BE,t.readInt8=k.readInt8,t.readInt16LE=k.readInt16LE,t.readInt16BE=k.readInt16BE,t.readInt32LE=k.readInt32LE,t.readInt32BE=k.readInt32BE,t.readFloatLE=k.readFloatLE,t.readFloatBE=k.readFloatBE,t.readDoubleLE=k.readDoubleLE,t.readDoubleBE=k.readDoubleBE,t.writeUInt8=k.writeUInt8,t.writeUInt16LE=k.writeUInt16LE,t.writeUInt16BE=k.writeUInt16BE,t.writeUInt32LE=k.writeUInt32LE,t.writeUInt32BE=k.writeUInt32BE,t.writeInt8=k.writeInt8,t.writeInt16LE=k.writeInt16LE,t.writeInt16BE=k.writeInt16BE,t.writeInt32LE=k.writeInt32LE,t.writeInt32BE=k.writeInt32BE,t.writeFloatLE=k.writeFloatLE,t.writeFloatBE=k.writeFloatBE,t.writeDoubleLE=k.writeDoubleLE,t.writeDoubleBE=k.writeDoubleBE,t.fill=k.fill,t.inspect=k.inspect,t.toArrayBuffer=k.toArrayBuffer,t};var C=/[^+\/0-9A-z]/g;function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t){for(var e=[],a=0;a<t.length;a++){var n=t.charCodeAt(a);if(n<=127)e.push(n);else{var i=a;n>=55296&&n<=57343&&a++;for(var s=encodeURIComponent(t.slice(i,a+1)).substr(1).split("%"),o=0;o<s.length;o++)e.push(parseInt(s[o],16))}}return e}function S(t){return n.toByteArray(t)}function F(t,e,a,n,i){i&&(n-=n%i);for(var s=0;s<n&&!(s+a>=e.length||s>=t.length);s++)e[s+a]=t[s];return s}function D(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(t,e,a){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){var e="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),i="/".charCodeAt(0),s="0".charCodeAt(0),o="a".charCodeAt(0),l="A".charCodeAt(0);function r(t){var e=t.charCodeAt(0);return e===a?62:e===i?63:e<s?-1:e<s+10?e-s+26+26:e<l+26?e-l:e<o+26?e-o+26:void 0}t.toByteArray=function(t){var a,n,i,s,o,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;o="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new e(3*t.length/4-o),i=o>0?t.length-4:t.length;var u=0;function d(t){l[u++]=t}for(a=0,n=0;a<i;a+=4,n+=3)d((16711680&(s=r(t.charAt(a))<<18|r(t.charAt(a+1))<<12|r(t.charAt(a+2))<<6|r(t.charAt(a+3))))>>16),d((65280&s)>>8),d(255&s);return 2===o?d(255&(s=r(t.charAt(a))<<2|r(t.charAt(a+1))>>4)):1===o&&(d((s=r(t.charAt(a))<<10|r(t.charAt(a+1))<<4|r(t.charAt(a+2))>>2)>>8&255),d(255&s)),l},t.fromByteArray=function(t){var e,a,i,s,o=t.length%3,l="";function r(t){return n.charAt(t)}for(e=0,i=t.length-o;e<i;e+=3)l+=r((s=a=(t[e]<<16)+(t[e+1]<<8)+t[e+2])>>18&63)+r(s>>12&63)+r(s>>6&63)+r(63&s);switch(o){case 1:l+=r((a=t[t.length-1])>>2),l+=r(a<<4&63),l+="==";break;case 2:l+=r((a=(t[t.length-2]<<8)+t[t.length-1])>>10),l+=r(a>>4&63),l+=r(a<<2&63),l+="="}return l}}(void 0===a?this.base64js={}:a)},{}],3:[function(t,e,a){a.read=function(t,e,a,n,i){var s,o,l=8*i-n-1,r=(1<<l)-1,c=r>>1,u=-7,d=a?i-1:0,h=a?-1:1,m=t[e+d];for(d+=h,s=m&(1<<-u)-1,m>>=-u,u+=l;u>0;s=256*s+t[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+t[e+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===r)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,n),s-=c}return(m?-1:1)*o*Math.pow(2,s-n)},a.write=function(t,e,a,n,i,s){var o,l,r,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,p=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(r=Math.pow(2,-o))<1&&(o--,r*=2),(e+=o+d>=1?h/r:h*Math.pow(2,1-d))*r>=2&&(o++,r/=2),o+d>=u?(l=0,o=u):o+d>=1?(l=(e*r-1)*Math.pow(2,i),o+=d):(l=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[a+m]=255&l,m+=p,l/=256,i-=8);for(o=o<<i|l,c+=i;c>0;t[a+m]=255&o,m+=p,o/=256,c-=8);t[a+m-p]|=128*f}},{}],4:[function(t,e,a){var n=Array.isArray,i=Object.prototype.toString;e.exports=n||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],5:[function(t,e,a){var n=t("./dataReader");function i(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}i.prototype=new n,i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),a=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===a&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":10}],6:[function(t,e,a){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(t,e){for(var a,i,s,o,l,r,c,u="",d=0;d<t.length;)o=(a=t.charCodeAt(d++))>>2,l=(3&a)<<4|(i=t.charCodeAt(d++))>>4,r=(15&i)<<2|(s=t.charCodeAt(d++))>>6,c=63&s,isNaN(i)?r=c=64:isNaN(s)&&(c=64),u=u+n.charAt(o)+n.charAt(l)+n.charAt(r)+n.charAt(c);return u},a.decode=function(t,e){var a,i,s,o,l,r,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)a=n.indexOf(t.charAt(u++))<<2|(o=n.indexOf(t.charAt(u++)))>>4,i=(15&o)<<4|(l=n.indexOf(t.charAt(u++)))>>2,s=(3&l)<<6|(r=n.indexOf(t.charAt(u++))),c+=String.fromCharCode(a),64!=l&&(c+=String.fromCharCode(i)),64!=r&&(c+=String.fromCharCode(s));return c}},{}],7:[function(t,e,a){function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},{}],8:[function(t,e,a){a.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},a.DEFLATE=t("./flate")},{"./flate":13}],9:[function(t,e,a){var n=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var a="string"!==n.getTypeOf(t);void 0===e&&(e=0);var s=0;e^=-1;for(var o=0,l=t.length;o<l;o++)s=a?t[o]:t.charCodeAt(o),e=e>>>8^i[255&(e^s)];return-1^e}},{"./utils":26}],10:[function(t,e,a){var n=t("./utils");function i(t){this.data=null,this.length=0,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,a=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)a=(a<<8)+this.byteAt(e);return this.index+=t,a},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=i},{"./utils":26}],11:[function(t,e,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!1,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],12:[function(t,e,a){var n=t("./utils");a.string2binary=function(t){return n.string2binary(t)},a.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},a.uint8Array2String=function(t){return n.transformTo("string",t)},a.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},a.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},a.transformTo=function(t,e){return n.transformTo(t,e)},a.getTypeOf=function(t){return n.getTypeOf(t)},a.checkSupport=function(t){return n.checkSupport(t)},a.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,a.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,a.pretty=function(t){return n.pretty(t)},a.findCompression=function(t){return n.findCompression(t)},a.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":26}],13:[function(t,e,a){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");a.uncompressInputType=n?"uint8array":"array",a.compressInputType=n?"uint8array":"array",a.magic="\b\0",a.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},a.uncompress=function(t){return i.inflateRaw(t)}},{pako:29}],14:[function(t,e,a){var n=t("./base64");function i(t,e){if(!(this instanceof i))return new i(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=t("./object"),i.prototype.load=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.utils=t("./deprecatedPublicUtils"),i.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},i.compressions=t("./compressions"),e.exports=i},{"./base64":6,"./compressions":8,"./defaults":11,"./deprecatedPublicUtils":12,"./load":15,"./object":18,"./support":22}],15:[function(t,e,a){var n=t("./base64"),i=t("./utf8"),s=t("./utils"),o=t("./zipEntries");e.exports=function(t,e){var a,l,r,c;for((e=s.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode})).base64&&(t=n.decode(t)),a=(l=new o(t,e)).files,r=0;r<a.length;r++)c=a[r],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:e.createFolders});return l.zipComment.length&&(this.comment=l.zipComment),this}},{"./base64":6,"./utf8":25,"./utils":26,"./zipEntries":27}],16:[function(t,e,a){(function(t){e.exports=function(e,a){return new t(e,a)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,t("buffer").Buffer)},{buffer:1}],17:[function(t,e,a){var n=t("./uint8ArrayReader");function i(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}i.prototype=new n,i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./uint8ArrayReader":23}],18:[function(t,e,a){var n=t("./support"),i=t("./utils"),s=t("./crc32"),o=t("./signature"),l=t("./defaults"),r=t("./base64"),c=t("./compressions"),u=t("./compressedObject"),d=t("./nodeBuffer"),h=t("./utf8"),m=t("./stringWriter"),p=t("./uint8ArrayWriter"),f=function(t){if(t._data instanceof u&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=f(t);return"string"===i.getTypeOf(e)?!t.options.binary&&n.nodebuffer?d(e,"utf-8"):t.asBinary():e},v=function(t){var e=f(this);return null==e?"":(this.options.base64&&(e=r.decode(e)),e=t&&this.options.binary?z.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",z.utf8encode(e))),e)},_=function(t,e,a){this.name=t,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=e,this.options=a,this._initialMetadata={dir:a.dir,date:a.date}};_.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var a,n="";for(a=0;a<e;a++)n+=String.fromCharCode(255&t),t>>>=8;return n},y=function(t,e,a){var n,s=i.getTypeOf(e);if("string"==typeof(a=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=i.extend(t,l)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(a)).unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=w(t)),a.createFolders&&(n=x(t))&&k.call(this,n,!0),a.dir||null==e)a.base64=!1,a.binary=!1,e=null,s=null;else if("string"===s)a.binary&&!a.base64&&!0!==a.optimizedBinaryString&&(e=i.string2binary(e));else{if(a.base64=!1,a.binary=!0,!(s||e instanceof u))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===s&&(e=i.transformTo("uint8array",e))}var o=new _(t,e,a);return this.files[t]=o,o},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},w=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e=void 0!==e&&e,t=w(t),this.files[t]||y.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},C=function(t,e,a){var n,o=new u;return t._data instanceof u?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=c.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(n=t._data.getContent(),o.compressedContent=e.compress(i.transformTo(e.compressInputType,n),a))):((n=g(t))&&0!==n.length&&!t.dir||(e=c.STORE,n=""),o.uncompressedSize=n.length,o.crc32=s(n),o.compressedContent=e.compress(i.transformTo(e.compressInputType,n),a)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},$=function(t,e,a,n,l,r){a.compressedContent;var c,u,d,m,p=r!==h.utf8encode,f=i.transformTo("string",r(e.name)),g=i.transformTo("string",h.utf8encode(e.name)),v=e.comment||"",_=i.transformTo("string",r(v)),y=i.transformTo("string",h.utf8encode(v)),x=g.length!==e.name.length,w=y.length!==v.length,k=e.options,C="",$="",z="";d=e._initialMetadata.dir!==e.dir?e.dir:k.dir,m=e._initialMetadata.date!==e.date?e.date:k.date;var S,F,D=0,A=0;d&&(D|=16),"UNIX"===l?(A=798,D|=(F=S=e.unixPermissions,S||(F=d?16893:33204),(65535&F)<<16)):(A=20,D|=63&(e.dosPermissions||0)),c=m.getHours(),c<<=6,c|=m.getMinutes(),c<<=5,c|=m.getSeconds()/2,u=m.getFullYear()-1980,u<<=4,u|=m.getMonth()+1,u<<=5,u|=m.getDate(),x&&($=b(1,1)+b(s(f),4)+g,C+="up"+b($.length,2)+$),w&&(z=b(1,1)+b(this.crc32(_),4)+y,C+="uc"+b(z.length,2)+z);var E="";return E+="\n\0",E+=p||!x&&!w?"\0\0":"\0\b",E+=a.compressionMethod,E+=b(c,2),E+=b(u,2),E+=b(a.crc32,4),E+=b(a.compressedSize,4),E+=b(a.uncompressedSize,4),E+=b(f.length,2),E+=b(C.length,2),{fileRecord:o.LOCAL_FILE_HEADER+E+f+C,dirRecord:o.CENTRAL_FILE_HEADER+b(A,2)+E+b(_.length,2)+"\0\0\0\0"+b(D,4)+b(n,4)+f+C+_,compressedObject:a}},z={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,a,n,s,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],s=new _(n.name,n._data,i.extend(n.options)),a=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(a,s)&&o.push(s));return o},file:function(t,e,a){if(1===arguments.length){if(i.isRegExp(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}return this.filter(function(e,a){return!a.dir&&e===t})[0]||null}return t=this.root+t,y.call(this,t,e,a),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,a){return a.dir&&t.test(e)});var e=this.root+t,a=k.call(this,e),n=this.clone();return n.root=a.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var a=this.filter(function(e,a){return a.name.slice(0,t.length)===t}),n=0;n<a.length;n++)delete this.files[a[n].name];return this},generate:function(t){t=i.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,a,n,s=[],l=0,u=0,d=i.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var f in this.files)if(this.files.hasOwnProperty(f)){var g=this.files[f],v=g.options.compression||t.compression.toUpperCase(),_=c[v];if(!_)throw new Error(v+" is not a valid compression method !");var y=g.options.compressionOptions||t.compressionOptions||{},x=C.call(this,g,_,y),w=$.call(this,f,g,x,l,t.platform,t.encodeFileName);l+=w.fileRecord.length+x.compressedSize,u+=w.dirRecord.length,s.push(w)}n=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(s.length,2)+b(s.length,2)+b(u,4)+b(l,4)+b(d.length,2)+d;var k=t.type.toLowerCase();for(e="uint8array"===k||"arraybuffer"===k||"blob"===k||"nodebuffer"===k?new p(l+u+n.length):new m(l+u+n.length),a=0;a<s.length;a++)e.append(s[a].fileRecord),e.append(s[a].compressedObject.compressedContent);for(a=0;a<s.length;a++)e.append(s[a].dirRecord);e.append(n);var z=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),z);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",z),t.mimeType);case"base64":return t.base64?r.encode(z):z;default:return z}},crc32:function(t,e){return s(t,e)},utf8encode:function(t){return i.transformTo("string",h.utf8encode(t))},utf8decode:function(t){return h.utf8decode(t)}};e.exports=z},{"./base64":6,"./compressedObject":7,"./compressions":8,"./crc32":9,"./defaults":11,"./nodeBuffer":16,"./signature":19,"./stringWriter":21,"./support":22,"./uint8ArrayWriter":24,"./utf8":25,"./utils":26}],19:[function(t,e,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\b"},{}],20:[function(t,e,a){var n=t("./dataReader"),i=t("./utils");function s(t,e){this.data=t,e||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}s.prototype=new n,s.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},s.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},s.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=s},{"./dataReader":10,"./utils":26}],21:[function(t,e,a){var n=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=n.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":26}],22:[function(t,e,a){(function(t){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,a.nodebuffer=void 0!==t,a.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)a.blob=!1;else{var e=new ArrayBuffer(0);try{a.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e),a.blob=0===n.getBlob("application/zip").size}catch(t){a.blob=!1}}}}).call(this,t("buffer").Buffer)},{buffer:1}],23:[function(t,e,a){var n=t("./arrayReader");function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}i.prototype=new n,i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./arrayReader":5}],24:[function(t,e,a){var n=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=n.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":26}],25:[function(t,e,a){for(var n=t("./utils"),i=t("./support"),s=t("./nodeBuffer"),o=new Array(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1;var r=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e},c=function(t){var e,a,i,s,l=t.length,r=new Array(2*l);for(a=0,e=0;e<l;)if((i=t[e++])<128)r[a++]=i;else if((s=o[i])>4)r[a++]=65533,e+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&e<l;)i=i<<6|63&t[e++],s--;s>1?r[a++]=65533:i<65536?r[a++]=i:(i-=65536,r[a++]=55296|i>>10&1023,r[a++]=56320|1023&i)}return r.length!==a&&(r.subarray?r=r.subarray(0,a):r.length=a),n.applyFromCharCode(r)};a.utf8encode=function(t){return i.nodebuffer?s(t,"utf-8"):function(t){var e,a,n,s,o,l=t.length,r=0;for(s=0;s<l;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(n=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(n-56320),s++),r+=a<128?1:a<2048?2:a<65536?3:4;for(e=i.uint8array?new Uint8Array(r):new Array(r),o=0,s=0;o<r;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(n=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(n-56320),s++),a<128?e[o++]=a:a<2048?(e[o++]=192|a>>>6,e[o++]=128|63&a):a<65536?(e[o++]=224|a>>>12,e[o++]=128|a>>>6&63,e[o++]=128|63&a):(e[o++]=240|a>>>18,e[o++]=128|a>>>12&63,e[o++]=128|a>>>6&63,e[o++]=128|63&a);return e}(t)},a.utf8decode=function(t){if(i.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],a=0,s=(t=n.transformTo(i.uint8array?"uint8array":"array",t)).length;a<s;){var o=r(t,Math.min(a+65536,s));i.uint8array?e.push(c(t.subarray(a,o))):e.push(c(t.slice(a,o))),a=o}return e.join("")}},{"./nodeBuffer":16,"./support":22,"./utils":26}],26:[function(t,e,a){var n=t("./support"),i=t("./compressions"),s=t("./nodeBuffer");function o(t){return t}function l(t,e){for(var a=0;a<t.length;++a)e[a]=255&t.charCodeAt(a);return e}function r(t){var e=65536,n=[],i=t.length,o=a.getTypeOf(t),l=0,r=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,s(0))}}catch(t){r=!1}if(!r){for(var c="",u=0;u<t.length;u++)c+=String.fromCharCode(t[u]);return c}for(;l<i&&e>1;)try{"array"===o||"nodebuffer"===o?n.push(String.fromCharCode.apply(null,t.slice(l,Math.min(l+e,i)))):n.push(String.fromCharCode.apply(null,t.subarray(l,Math.min(l+e,i)))),l+=e}catch(t){e=Math.floor(e/2)}return n.join("")}function c(t,e){for(var a=0;a<t.length;a++)e[a]=t[a];return e}a.string2binary=function(t){for(var e="",a=0;a<t.length;a++)e+=String.fromCharCode(255&t.charCodeAt(a));return e},a.arrayBuffer2Blob=function(t,e){a.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(a){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return n.append(t),n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},a.applyFromCharCode=r;var u={};u.string={string:o,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return u.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,s(t.length))}},u.array={string:r,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s(t)}},u.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s(new Uint8Array(t))}},u.uint8array={string:r,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return s(t)}},u.nodebuffer={string:r,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return u.nodebuffer.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:o},a.transformTo=function(t,e){if(e||(e=""),!t)return e;a.checkSupport(t);var n=a.getTypeOf(e);return u[n][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&s.test(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,a,n="";for(a=0;a<(t||"").length;a++)n+="\\x"+((e=t.charCodeAt(a))<16?"0":"")+e.toString(16).toUpperCase();return n},a.findCompression=function(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e].magic===t)return i[e];return null},a.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},a.extend=function(){var t,e,a={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===a[e]&&(a[e]=arguments[t][e]);return a}},{"./compressions":8,"./nodeBuffer":16,"./support":22}],27:[function(t,e,a){var n=t("./stringReader"),i=t("./nodeBufferReader"),s=t("./uint8ArrayReader"),o=t("./arrayReader"),l=t("./utils"),r=t("./signature"),c=t("./zipEntry"),u=t("./support");function d(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}t("./object"),d.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(e)+", expected "+l.pretty(t)+")")},isSignature:function(t,e){var a=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(a),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",a=l.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(a)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,a,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),a=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===r.CENTRAL_FILE_HEADER;)(t=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var a=this.centralDirOffset+this.centralDirSize;this.zip64&&(a+=20,a+=12+this.zip64EndOfCentralSize);var n=e-a;if(n>0)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){var e=l.getTypeOf(t);if(l.checkSupport(e),"string"!==e||u.uint8array)if("nodebuffer"===e)this.reader=new i(t);else if(u.uint8array)this.reader=new s(l.transformTo("uint8array",t));else{if(!u.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new o(l.transformTo("array",t))}else this.reader=new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=d},{"./arrayReader":5,"./nodeBufferReader":17,"./object":18,"./signature":19,"./stringReader":20,"./support":22,"./uint8ArrayReader":23,"./utils":26,"./zipEntry":28}],28:[function(t,e,a){var n=t("./stringReader"),i=t("./utils"),s=t("./compressedObject"),o=t("./object"),l=t("./support");function r(t,e){this.options=t,this.loadOptions=e}r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,a){return function(){var n=t.index;t.setIndex(e);var i=t.readData(a);return t.setIndex(n),i}},prepareContent:function(t,e,a,n,s){return function(){var t=i.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==s)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,a;if(t.skip(22),this.fileNameLength=t.readInt(2),a=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(a),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=i.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,a,n,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),a=t.readInt(2),n=t.readString(a),this.extraFields[e]={id:e,length:a,value:n}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var a=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=r},{"./compressedObject":7,"./object":18,"./stringReader":20,"./support":22,"./utils":26}],29:[function(t,e,a){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":30,"./lib/inflate":31,"./lib/utils/common":32,"./lib/zlib/constants":35}],30:[function(t,e,a){var n=t("./zlib/deflate"),i=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/messages"),l=t("./zlib/zstream"),r=Object.prototype.toString,c=0,u=-1,d=0,h=8;function m(t){if(!(this instanceof m))return new m(t);this.options=i.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var a=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==c)throw new Error(o[a]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===r.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(o[a]);this._dict_set=!0}}function p(t,e){var a=new m(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}m.prototype.push=function(t,e){var a,o,l=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?l.input=s.string2buf(t):"[object ArrayBuffer]"===r.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(u),l.next_out=0,l.avail_out=u),1!==(a=n.deflate(l,o))&&a!==c)return this.onEnd(a),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(l.output,l.next_out))):this.onData(i.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==a);return 4===o?(a=n.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c):2!==o||(this.onEnd(c),l.avail_out=0,!0)},m.prototype.onData=function(t){this.chunks.push(t)},m.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=m,a.deflate=p,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":32,"./utils/strings":33,"./zlib/deflate":37,"./zlib/messages":42,"./zlib/zstream":44}],31:[function(t,e,a){var n=t("./zlib/inflate"),i=t("./utils/common"),s=t("./utils/strings"),o=t("./zlib/constants"),l=t("./zlib/messages"),r=t("./zlib/zstream"),c=t("./zlib/gzheader"),u=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var a=n.inflateInit2(this.strm,e.windowBits);if(a!==o.Z_OK)throw new Error(l[a]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function h(t,e){var a=new d(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}d.prototype.push=function(t,e){var a,l,r,c,d,h,m=this.strm,p=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;l=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?m.input=s.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?m.input=new Uint8Array(t):m.input=t,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new i.Buf8(p),m.next_out=0,m.avail_out=p),(a=n.inflate(m,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(h="string"==typeof f?s.string2buf(f):"[object ArrayBuffer]"===u.call(f)?new Uint8Array(f):f,a=n.inflateSetDictionary(this.strm,h)),a===o.Z_BUF_ERROR&&!0===g&&(a=o.Z_OK,g=!1),a!==o.Z_STREAM_END&&a!==o.Z_OK)return this.onEnd(a),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&a!==o.Z_STREAM_END&&(0!==m.avail_in||l!==o.Z_FINISH&&l!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(r=s.utf8border(m.output,m.next_out),c=m.next_out-r,d=s.buf2string(m.output,r),m.next_out=c,m.avail_out=p-c,c&&i.arraySet(m.output,m.output,r,c,0),this.onData(d)):this.onData(i.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(g=!0)}while((m.avail_in>0||0===m.avail_out)&&a!==o.Z_STREAM_END);return a===o.Z_STREAM_END&&(l=o.Z_FINISH),l===o.Z_FINISH?(a=n.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===o.Z_OK):l!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),m.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=d,a.inflate=h,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},a.ungzip=h},{"./utils/common":32,"./utils/strings":33,"./zlib/constants":35,"./zlib/gzheader":38,"./zlib/inflate":40,"./zlib/messages":42,"./zlib/zstream":44}],32:[function(t,e,a){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=(void 0===a?"undefined":s()(a)))throw new TypeError(a+"must be non-object");for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,a,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+n),i);else for(var s=0;s<n;s++)t[i+s]=e[a+s]},flattenChunks:function(t){var e,a,n,i,s,o;for(n=0,e=0,a=t.length;e<a;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,a=t.length;e<a;e++)s=t[e],o.set(s,i),i+=s.length;return o}},o={arraySet:function(t,e,a,n,i){for(var s=0;s<n;s++)t[i+s]=e[a+s]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,i)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(n)},{}],33:[function(t,e,a){var n=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function r(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",o=0;o<e;o++)a+=String.fromCharCode(t[o]);return a}o[254]=o[254]=1,a.string2buf=function(t){var e,a,i,s,o,l=t.length,r=0;for(s=0;s<l;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(i=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(i-56320),s++),r+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(r),o=0,s=0;o<r;s++)55296==(64512&(a=t.charCodeAt(s)))&&s+1<l&&56320==(64512&(i=t.charCodeAt(s+1)))&&(a=65536+(a-55296<<10)+(i-56320),s++),a<128?e[o++]=a:a<2048?(e[o++]=192|a>>>6,e[o++]=128|63&a):a<65536?(e[o++]=224|a>>>12,e[o++]=128|a>>>6&63,e[o++]=128|63&a):(e[o++]=240|a>>>18,e[o++]=128|a>>>12&63,e[o++]=128|a>>>6&63,e[o++]=128|63&a);return e},a.buf2binstring=function(t){return r(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,i,s,l=e||t.length,c=new Array(2*l);for(n=0,a=0;a<l;)if((i=t[a++])<128)c[n++]=i;else if((s=o[i])>4)c[n++]=65533,a+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&a<l;)i=i<<6|63&t[a++],s--;s>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return r(c,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;a>=0&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":32}],34:[function(t,e,a){e.exports=function(t,e,a,n){for(var i=65535&t|0,s=t>>>16&65535|0,o=0;0!==a;){a-=o=a>2e3?2e3:a;do{s=s+(i=i+e[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},{}],35:[function(t,e,a){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],36:[function(t,e,a){var n=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,i){var s=n,o=i+a;t^=-1;for(var l=i;l<o;l++)t=t>>>8^s[255&(t^e[l])];return-1^t}},{}],37:[function(t,e,a){var n,i=t("../utils/common"),s=t("./trees"),o=t("./adler32"),l=t("./crc32"),r=t("./messages"),c=0,u=4,d=0,h=-2,m=-1,p=1,f=4,g=2,v=8,_=9,b=286,y=30,x=19,w=2*b+1,k=15,C=3,$=258,z=$+C+1,S=42,F=103,D=113,A=666,E=1,V=2,L=3,T=4;function I(t,e){return t.msg=r[e],e}function R(t){return(t<<1)-(t>4?9:0)}function j(t){for(var e=t.length;--e>=0;)t[e]=0}function P(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(i.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function W(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,P(t.strm)}function N(t,e){t.pending_buf[t.pending++]=e}function U(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function B(t,e){var a,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,l=t.nice_match,r=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,c=t.window,u=t.w_mask,d=t.prev,h=t.strstart+$,m=c[s+o-1],p=c[s+o];t.prev_length>=t.good_match&&(i>>=2),l>t.lookahead&&(l=t.lookahead);do{if(c[(a=e)+o]===p&&c[a+o-1]===m&&c[a]===c[s]&&c[++a]===c[s+1]){s+=2,a++;do{}while(c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&s<h);if(n=$-(h-s),s=h-$,n>o){if(t.match_start=e,o=n,n>=l)break;m=c[s+o-1],p=c[s+o]}}}while((e=d[e&u])>r&&0!=--i);return o<=t.lookahead?o:t.lookahead}function O(t){var e,a,n,s,r,c,u,d,h,m,p=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-z)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=p?n-p:0}while(--a);e=a=p;do{n=t.prev[--e],t.prev[e]=n>=p?n-p:0}while(--a);s+=p}if(0===t.strm.avail_in)break;if(c=t.strm,u=t.window,d=t.strstart+t.lookahead,h=s,m=void 0,(m=c.avail_in)>h&&(m=h),a=0===m?0:(c.avail_in-=m,i.arraySet(u,c.input,c.next_in,m,d),1===c.state.wrap?c.adler=o(c.adler,u,m,d):2===c.state.wrap&&(c.adler=l(c.adler,u,m,d)),c.next_in+=m,c.total_in+=m,m),t.lookahead+=a,t.lookahead+t.insert>=C)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+C-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function M(t,e){for(var a,n;;){if(t.lookahead<z){if(O(t),t.lookahead<z&&e===c)return E;if(0===t.lookahead)break}if(a=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-z&&(t.match_length=B(t,a)),t.match_length>=C)if(n=s._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(W(t,!1),0===t.strm.avail_out))return E}return t.insert=t.strstart<C-1?t.strstart:C-1,e===u?(W(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(W(t,!1),0===t.strm.avail_out)?E:V}function q(t,e){for(var a,n,i;;){if(t.lookahead<z){if(O(t),t.lookahead<z&&e===c)return E;if(0===t.lookahead)break}if(a=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-z&&(t.match_length=B(t,a),t.match_length<=5&&(t.strategy===p||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-C,n=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=C-1,t.strstart++,n&&(W(t,!1),0===t.strm.avail_out))return E}else if(t.match_available){if((n=s._tr_tally(t,0,t.window[t.strstart-1]))&&W(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return E}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===u?(W(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(W(t,!1),0===t.strm.avail_out)?E:V}function H(t,e,a,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=i}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=g,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?S:D,t.adler=2===e.wrap?0:1,e.last_flush=c,s._tr_init(e),d):I(t,h)}function G(t){var e,a=Y(t);return a===d&&((e=t.state).window_size=2*e.w_size,j(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0),a}function Z(t,e,a,n,s,o){if(!t)return h;var l=1;if(e===m&&(e=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),s<1||s>_||a!==v||n<8||n>15||e<0||e>9||o<0||o>f)return I(t,h);8===n&&(n=9);var r=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*x+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(k+1),this.heap=new i.Buf16(2*b+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*b+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=r,r.strm=t,r.wrap=l,r.gzhead=null,r.w_bits=n,r.w_size=1<<r.w_bits,r.w_mask=r.w_size-1,r.hash_bits=s+7,r.hash_size=1<<r.hash_bits,r.hash_mask=r.hash_size-1,r.hash_shift=~~((r.hash_bits+C-1)/C),r.window=new i.Buf8(2*r.w_size),r.head=new i.Buf16(r.hash_size),r.prev=new i.Buf16(r.w_size),r.lit_bufsize=1<<s+6,r.pending_buf_size=4*r.lit_bufsize,r.pending_buf=new i.Buf8(r.pending_buf_size),r.d_buf=r.lit_bufsize>>1,r.l_buf=3*r.lit_bufsize,r.level=e,r.strategy=o,r.method=a,G(t)}n=[new H(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(O(t),0===t.lookahead&&e===c)return E;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,W(t,!1),0===t.strm.avail_out))return E;if(t.strstart-t.block_start>=t.w_size-z&&(W(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(W(t,!0),0===t.strm.avail_out?L:T):(t.strstart>t.block_start&&(W(t,!1),t.strm.avail_out),E)}),new H(4,4,8,4,M),new H(4,5,16,8,M),new H(4,6,32,32,M),new H(4,4,16,16,q),new H(8,16,32,32,q),new H(8,16,128,128,q),new H(8,32,128,256,q),new H(32,128,258,1024,q),new H(32,258,258,4096,q)],a.deflateInit=function(t,e){return Z(t,e,v,15,8,0)},a.deflateInit2=Z,a.deflateReset=G,a.deflateResetKeep=Y,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?h:(t.state.gzhead=e,d):h},a.deflate=function(t,e){var a,i,o,r;if(!t||!t.state||e>5||e<0)return t?I(t,h):h;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===A&&e!==u)return I(t,0===t.avail_out?-5:h);if(i.strm=t,a=i.last_flush,i.last_flush=e,i.status===S)if(2===i.wrap)t.adler=0,N(i,31),N(i,139),N(i,8),i.gzhead?(N(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),N(i,255&i.gzhead.time),N(i,i.gzhead.time>>8&255),N(i,i.gzhead.time>>16&255),N(i,i.gzhead.time>>24&255),N(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),N(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(N(i,255&i.gzhead.extra.length),N(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=l(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(N(i,0),N(i,0),N(i,0),N(i,0),N(i,0),N(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),N(i,3),i.status=D);else{var m=v+(i.w_bits-8<<4)<<8;m|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=32),m+=31-m%31,i.status=D,U(i,m),0!==i.strstart&&(U(i,t.adler>>>16),U(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),P(t),o=i.pending,i.pending!==i.pending_buf_size));)N(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),P(t),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,N(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),P(t),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,N(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>o&&(t.adler=l(t.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.status=F)}else i.status=F;if(i.status===F&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&P(t),i.pending+2<=i.pending_buf_size&&(N(i,255&t.adler),N(i,t.adler>>8&255),t.adler=0,i.status=D)):i.status=D),0!==i.pending){if(P(t),0===t.avail_out)return i.last_flush=-1,d}else if(0===t.avail_in&&R(e)<=R(a)&&e!==u)return I(t,-5);if(i.status===A&&0!==t.avail_in)return I(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==c&&i.status!==A){var p=2===i.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(O(t),0===t.lookahead)){if(e===c)return E;break}if(t.match_length=0,a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(W(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(W(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(W(t,!1),0===t.strm.avail_out)?E:V}(i,e):3===i.strategy?function(t,e){for(var a,n,i,o,l=t.window;;){if(t.lookahead<=$){if(O(t),t.lookahead<=$&&e===c)return E;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(n=l[i=t.strstart-1])===l[++i]&&n===l[++i]&&n===l[++i]){o=t.strstart+$;do{}while(n===l[++i]&&n===l[++i]&&n===l[++i]&&n===l[++i]&&n===l[++i]&&n===l[++i]&&n===l[++i]&&n===l[++i]&&i<o);t.match_length=$-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(a=s._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(W(t,!1),0===t.strm.avail_out))return E}return t.insert=0,e===u?(W(t,!0),0===t.strm.avail_out?L:T):t.last_lit&&(W(t,!1),0===t.strm.avail_out)?E:V}(i,e):n[i.level].func(i,e);if(p!==L&&p!==T||(i.status=A),p===E||p===L)return 0===t.avail_out&&(i.last_flush=-1),d;if(p===V&&(1===e?s._tr_align(i):5!==e&&(s._tr_stored_block(i,0,0,!1),3===e&&(j(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),P(t),0===t.avail_out))return i.last_flush=-1,d}return e!==u?d:i.wrap<=0?1:(2===i.wrap?(N(i,255&t.adler),N(i,t.adler>>8&255),N(i,t.adler>>16&255),N(i,t.adler>>24&255),N(i,255&t.total_in),N(i,t.total_in>>8&255),N(i,t.total_in>>16&255),N(i,t.total_in>>24&255)):(U(i,t.adler>>>16),U(i,65535&t.adler)),P(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?d:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==S&&69!==e&&73!==e&&91!==e&&e!==F&&e!==D&&e!==A?I(t,h):(t.state=null,e===D?I(t,-3):d):h},a.deflateSetDictionary=function(t,e){var a,n,s,l,r,c,u,m,p=e.length;if(!t||!t.state)return h;if(2===(l=(a=t.state).wrap)||1===l&&a.status!==S||a.lookahead)return h;for(1===l&&(t.adler=o(t.adler,e,p,0)),a.wrap=0,p>=a.w_size&&(0===l&&(j(a.head),a.strstart=0,a.block_start=0,a.insert=0),m=new i.Buf8(a.w_size),i.arraySet(m,e,p-a.w_size,a.w_size,0),e=m,p=a.w_size),r=t.avail_in,c=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,O(a);a.lookahead>=C;){n=a.strstart,s=a.lookahead-(C-1);do{a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+C-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++}while(--s);a.strstart=n,a.lookahead=C-1,O(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=C-1,a.match_available=0,t.next_in=c,t.input=u,t.avail_in=r,a.wrap=l,d},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./messages":42,"./trees":43}],38:[function(t,e,a){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],39:[function(t,e,a){e.exports=function(t,e){var a,n,i,s,o,l,r,c,u,d,h,m,p,f,g,v,_,b,y,x,w,k,C,$,z;a=t.state,n=t.next_in,$=t.input,i=n+(t.avail_in-5),s=t.next_out,z=t.output,o=s-(e-t.avail_out),l=s+(t.avail_out-257),r=a.dmax,c=a.wsize,u=a.whave,d=a.wnext,h=a.window,m=a.hold,p=a.bits,f=a.lencode,g=a.distcode,v=(1<<a.lenbits)-1,_=(1<<a.distbits)-1;t:do{p<15&&(m+=$[n++]<<p,p+=8,m+=$[n++]<<p,p+=8),b=f[m&v];e:for(;;){if(m>>>=y=b>>>24,p-=y,0==(y=b>>>16&255))z[s++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=f[(65535&b)+(m&(1<<y)-1)];continue e}if(32&y){a.mode=12;break t}t.msg="invalid literal/length code",a.mode=30;break t}x=65535&b,(y&=15)&&(p<y&&(m+=$[n++]<<p,p+=8),x+=m&(1<<y)-1,m>>>=y,p-=y),p<15&&(m+=$[n++]<<p,p+=8,m+=$[n++]<<p,p+=8),b=g[m&_];a:for(;;){if(m>>>=y=b>>>24,p-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(m&(1<<y)-1)];continue a}t.msg="invalid distance code",a.mode=30;break t}if(w=65535&b,p<(y&=15)&&(m+=$[n++]<<p,(p+=8)<y&&(m+=$[n++]<<p,p+=8)),(w+=m&(1<<y)-1)>r){t.msg="invalid distance too far back",a.mode=30;break t}if(m>>>=y,p-=y,w>(y=s-o)){if((y=w-y)>u&&a.sane){t.msg="invalid distance too far back",a.mode=30;break t}if(k=0,C=h,0===d){if(k+=c-y,y<x){x-=y;do{z[s++]=h[k++]}while(--y);k=s-w,C=z}}else if(d<y){if(k+=c+d-y,(y-=d)<x){x-=y;do{z[s++]=h[k++]}while(--y);if(k=0,d<x){x-=y=d;do{z[s++]=h[k++]}while(--y);k=s-w,C=z}}}else if(k+=d-y,y<x){x-=y;do{z[s++]=h[k++]}while(--y);k=s-w,C=z}for(;x>2;)z[s++]=C[k++],z[s++]=C[k++],z[s++]=C[k++],x-=3;x&&(z[s++]=C[k++],x>1&&(z[s++]=C[k++]))}else{k=s-w;do{z[s++]=z[k++],z[s++]=z[k++],z[s++]=z[k++],x-=3}while(x>2);x&&(z[s++]=z[k++],x>1&&(z[s++]=z[k++]))}break}}break}}while(n<i&&s<l);n-=x=p>>3,m&=(1<<(p-=x<<3))-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=s<l?l-s+257:257-(s-l),a.hold=m,a.bits=p}},{}],40:[function(t,e,a){var n=t("../utils/common"),i=t("./adler32"),s=t("./crc32"),o=t("./inffast"),l=t("./inftrees"),r=1,c=2,u=0,d=-2,h=1,m=12,p=30,f=852,g=592;function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function _(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=h,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(f),e.distcode=e.distdyn=new n.Buf32(g),e.sane=1,e.back=-1,u):d}function b(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,_(t)):d}function y(t,e){var a,n;return t&&t.state?(n=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?d:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=a,n.wbits=e,b(t))):d}function x(t,e){var a,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(a=y(t,e))!==u&&(t.state=null),a):d}var w,k,C=!0;function $(t){if(C){var e;for(w=new n.Buf32(512),k=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(l(r,t.lens,0,288,w,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;l(c,t.lens,0,32,k,0,t.work,{bits:5}),C=!1}t.lencode=w,t.lenbits=9,t.distcode=k,t.distbits=5}function z(t,e,a,i){var s,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,e,a-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,e,a-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,e,a-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}a.inflateReset=b,a.inflateReset2=y,a.inflateResetKeep=_,a.inflateInit=function(t){return x(t,15)},a.inflateInit2=x,a.inflate=function(t,e){var a,f,g,_,b,y,x,w,k,C,S,F,D,A,E,V,L,T,I,R,j,P,W,N,U=0,B=new n.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return d;(a=t.state).mode===m&&(a.mode=13),b=t.next_out,g=t.output,x=t.avail_out,_=t.next_in,f=t.input,y=t.avail_in,w=a.hold,k=a.bits,C=y,S=x,P=u;t:for(;;)switch(a.mode){case h:if(0===a.wrap){a.mode=13;break}for(;k<16;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(2&a.wrap&&35615===w){a.check=0,B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0),w=0,k=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&w)<<8)+(w>>8))%31){t.msg="incorrect header check",a.mode=p;break}if(8!=(15&w)){t.msg="unknown compression method",a.mode=p;break}if(k-=4,j=8+(15&(w>>>=4)),0===a.wbits)a.wbits=j;else if(j>a.wbits){t.msg="invalid window size",a.mode=p;break}a.dmax=1<<j,t.adler=a.check=1,a.mode=512&w?10:m,w=0,k=0;break;case 2:for(;k<16;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(a.flags=w,8!=(255&a.flags)){t.msg="unknown compression method",a.mode=p;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=p;break}a.head&&(a.head.text=w>>8&1),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0,a.mode=3;case 3:for(;k<32;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.head&&(a.head.time=w),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,a.check=s(a.check,B,4,0)),w=0,k=0,a.mode=4;case 4:for(;k<16;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.head&&(a.head.xflags=255&w,a.head.os=w>>8),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0,a.mode=5;case 5:if(1024&a.flags){for(;k<16;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.length=w,a.head&&(a.head.extra_len=w),512&a.flags&&(B[0]=255&w,B[1]=w>>>8&255,a.check=s(a.check,B,2,0)),w=0,k=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((F=a.length)>y&&(F=y),F&&(a.head&&(j=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),n.arraySet(a.head.extra,f,_,F,j)),512&a.flags&&(a.check=s(a.check,f,F,_)),y-=F,_+=F,a.length-=F),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===y)break t;F=0;do{j=f[_+F++],a.head&&j&&a.length<65536&&(a.head.name+=String.fromCharCode(j))}while(j&&F<y);if(512&a.flags&&(a.check=s(a.check,f,F,_)),y-=F,_+=F,j)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===y)break t;F=0;do{j=f[_+F++],a.head&&j&&a.length<65536&&(a.head.comment+=String.fromCharCode(j))}while(j&&F<y);if(512&a.flags&&(a.check=s(a.check,f,F,_)),y-=F,_+=F,j)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;k<16;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(w!==(65535&a.check)){t.msg="header crc mismatch",a.mode=p;break}w=0,k=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=m;break;case 10:for(;k<32;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}t.adler=a.check=v(w),w=0,k=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=b,t.avail_out=x,t.next_in=_,t.avail_in=y,a.hold=w,a.bits=k,2;t.adler=a.check=1,a.mode=m;case m:if(5===e||6===e)break t;case 13:if(a.last){w>>>=7&k,k-=7&k,a.mode=27;break}for(;k<3;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}switch(a.last=1&w,k-=1,3&(w>>>=1)){case 0:a.mode=14;break;case 1:if($(a),a.mode=20,6===e){w>>>=2,k-=2;break t}break;case 2:a.mode=17;break;case 3:t.msg="invalid block type",a.mode=p}w>>>=2,k-=2;break;case 14:for(w>>>=7&k,k-=7&k;k<32;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",a.mode=p;break}if(a.length=65535&w,w=0,k=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(F=a.length){if(F>y&&(F=y),F>x&&(F=x),0===F)break t;n.arraySet(g,f,_,F,b),y-=F,_+=F,x-=F,b+=F,a.length-=F;break}a.mode=m;break;case 17:for(;k<14;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(a.nlen=257+(31&w),w>>>=5,k-=5,a.ndist=1+(31&w),w>>>=5,k-=5,a.ncode=4+(15&w),w>>>=4,k-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=p;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;k<3;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.lens[O[a.have++]]=7&w,w>>>=3,k-=3}for(;a.have<19;)a.lens[O[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,W={bits:a.lenbits},P=l(0,a.lens,0,19,a.lencode,0,a.work,W),a.lenbits=W.bits,P){t.msg="invalid code lengths set",a.mode=p;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;V=(U=a.lencode[w&(1<<a.lenbits)-1])>>>16&255,L=65535&U,!((E=U>>>24)<=k);){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(L<16)w>>>=E,k-=E,a.lens[a.have++]=L;else{if(16===L){for(N=E+2;k<N;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(w>>>=E,k-=E,0===a.have){t.msg="invalid bit length repeat",a.mode=p;break}j=a.lens[a.have-1],F=3+(3&w),w>>>=2,k-=2}else if(17===L){for(N=E+3;k<N;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}k-=E,j=0,F=3+(7&(w>>>=E)),w>>>=3,k-=3}else{for(N=E+7;k<N;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}k-=E,j=0,F=11+(127&(w>>>=E)),w>>>=7,k-=7}if(a.have+F>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=p;break}for(;F--;)a.lens[a.have++]=j}}if(a.mode===p)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=p;break}if(a.lenbits=9,W={bits:a.lenbits},P=l(r,a.lens,0,a.nlen,a.lencode,0,a.work,W),a.lenbits=W.bits,P){t.msg="invalid literal/lengths set",a.mode=p;break}if(a.distbits=6,a.distcode=a.distdyn,W={bits:a.distbits},P=l(c,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,W),a.distbits=W.bits,P){t.msg="invalid distances set",a.mode=p;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(y>=6&&x>=258){t.next_out=b,t.avail_out=x,t.next_in=_,t.avail_in=y,a.hold=w,a.bits=k,o(t,S),b=t.next_out,g=t.output,x=t.avail_out,_=t.next_in,f=t.input,y=t.avail_in,w=a.hold,k=a.bits,a.mode===m&&(a.back=-1);break}for(a.back=0;V=(U=a.lencode[w&(1<<a.lenbits)-1])>>>16&255,L=65535&U,!((E=U>>>24)<=k);){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(V&&0==(240&V)){for(T=E,I=V,R=L;V=(U=a.lencode[R+((w&(1<<T+I)-1)>>T)])>>>16&255,L=65535&U,!(T+(E=U>>>24)<=k);){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}w>>>=T,k-=T,a.back+=T}if(w>>>=E,k-=E,a.back+=E,a.length=L,0===V){a.mode=26;break}if(32&V){a.back=-1,a.mode=m;break}if(64&V){t.msg="invalid literal/length code",a.mode=p;break}a.extra=15&V,a.mode=22;case 22:if(a.extra){for(N=a.extra;k<N;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.length+=w&(1<<a.extra)-1,w>>>=a.extra,k-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;V=(U=a.distcode[w&(1<<a.distbits)-1])>>>16&255,L=65535&U,!((E=U>>>24)<=k);){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(0==(240&V)){for(T=E,I=V,R=L;V=(U=a.distcode[R+((w&(1<<T+I)-1)>>T)])>>>16&255,L=65535&U,!(T+(E=U>>>24)<=k);){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}w>>>=T,k-=T,a.back+=T}if(w>>>=E,k-=E,a.back+=E,64&V){t.msg="invalid distance code",a.mode=p;break}a.offset=L,a.extra=15&V,a.mode=24;case 24:if(a.extra){for(N=a.extra;k<N;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}a.offset+=w&(1<<a.extra)-1,w>>>=a.extra,k-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=p;break}a.mode=25;case 25:if(0===x)break t;if(F=S-x,a.offset>F){if((F=a.offset-F)>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=p;break}F>a.wnext?(F-=a.wnext,D=a.wsize-F):D=a.wnext-F,F>a.length&&(F=a.length),A=a.window}else A=g,D=b-a.offset,F=a.length;F>x&&(F=x),x-=F,a.length-=F;do{g[b++]=A[D++]}while(--F);0===a.length&&(a.mode=21);break;case 26:if(0===x)break t;g[b++]=a.length,x--,a.mode=21;break;case 27:if(a.wrap){for(;k<32;){if(0===y)break t;y--,w|=f[_++]<<k,k+=8}if(S-=x,t.total_out+=S,a.total+=S,S&&(t.adler=a.check=a.flags?s(a.check,g,S,b-S):i(a.check,g,S,b-S)),S=x,(a.flags?w:v(w))!==a.check){t.msg="incorrect data check",a.mode=p;break}w=0,k=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;k<32;){if(0===y)break t;y--,w+=f[_++]<<k,k+=8}if(w!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=p;break}w=0,k=0}a.mode=29;case 29:P=1;break t;case p:P=-3;break t;case 31:return-4;case 32:default:return d}return t.next_out=b,t.avail_out=x,t.next_in=_,t.avail_in=y,a.hold=w,a.bits=k,(a.wsize||S!==t.avail_out&&a.mode<p&&(a.mode<27||4!==e))&&z(t,t.output,t.next_out,S-t.avail_out)?(a.mode=31,-4):(C-=t.avail_in,S-=t.avail_out,t.total_in+=C,t.total_out+=S,a.total+=S,a.wrap&&S&&(t.adler=a.check=a.flags?s(a.check,g,S,t.next_out-S):i(a.check,g,S,t.next_out-S)),t.data_type=a.bits+(a.last?64:0)+(a.mode===m?128:0)+(20===a.mode||15===a.mode?256:0),(0===C&&0===S||4===e)&&P===u&&(P=-5),P)},a.inflateEnd=function(t){if(!t||!t.state)return d;var e=t.state;return e.window&&(e.window=null),t.state=null,u},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?d:(a.head=e,e.done=!1,u):d},a.inflateSetDictionary=function(t,e){var a,n=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?d:11===a.mode&&i(1,e,n,0)!==a.check?-3:z(t,e,n,n)?(a.mode=31,-4):(a.havedict=1,u):d},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":32,"./adler32":34,"./crc32":36,"./inffast":39,"./inftrees":41}],41:[function(t,e,a){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,r,c,u,d,h){var m,p,f,g,v,_,b,y,x,w=h.bits,k=0,C=0,$=0,z=0,S=0,F=0,D=0,A=0,E=0,V=0,L=null,T=0,I=new n.Buf16(16),R=new n.Buf16(16),j=null,P=0;for(k=0;k<=15;k++)I[k]=0;for(C=0;C<r;C++)I[e[a+C]]++;for(S=w,z=15;z>=1&&0===I[z];z--);if(S>z&&(S=z),0===z)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for($=1;$<z&&0===I[$];$++);for(S<$&&(S=$),A=1,k=1;k<=15;k++)if(A<<=1,(A-=I[k])<0)return-1;if(A>0&&(0===t||1!==z))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+I[k];for(C=0;C<r;C++)0!==e[a+C]&&(d[R[e[a+C]]++]=C);if(0===t?(L=j=d,_=19):1===t?(L=i,T-=257,j=s,P-=257,_=256):(L=o,j=l,_=-1),V=0,C=0,k=$,v=u,F=S,D=0,f=-1,g=(E=1<<S)-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){b=k-D,d[C]<_?(y=0,x=d[C]):d[C]>_?(y=j[P+d[C]],x=L[T+d[C]]):(y=96,x=0),m=1<<k-D,$=p=1<<F;do{c[v+(V>>D)+(p-=m)]=b<<24|y<<16|x|0}while(0!==p);for(m=1<<k-1;V&m;)m>>=1;if(0!==m?(V&=m-1,V+=m):V=0,C++,0==--I[k]){if(k===z)break;k=e[a+d[C]]}if(k>S&&(V&g)!==f){for(0===D&&(D=S),v+=$,A=1<<(F=k-D);F+D<z&&!((A-=I[F+D])<=0);)F++,A<<=1;if(E+=1<<F,1===t&&E>852||2===t&&E>592)return 1;c[f=V&g]=S<<24|F<<16|v-u|0}}return 0!==V&&(c[v+V]=k-D<<24|64<<16|0),h.bits=S,0}},{"../utils/common":32}],42:[function(t,e,a){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],43:[function(t,e,a){var n=t("../utils/common");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var s=0,o=256,l=o+1+29,r=30,c=19,u=2*l+1,d=15,h=16,m=256,p=16,f=17,g=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(l+2));i(x);var w=new Array(2*r);i(w);var k=new Array(512);i(k);var C=new Array(256);i(C);var $=new Array(29);i($);var z,S,F,D=new Array(r);function A(t,e,a,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function E(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function V(t){return t<256?k[t]:k[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function T(t,e,a){t.bi_valid>h-a?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>h-t.bi_valid,t.bi_valid+=a-h):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function I(t,e,a){T(t,a[2*e],a[2*e+1])}function R(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1}function j(t,e,a){var n,i,s=new Array(d+1),o=0;for(n=1;n<=d;n++)s[n]=o=o+a[n-1]<<1;for(i=0;i<=e;i++){var l=t[2*i+1];0!==l&&(t[2*i]=R(s[l]++,l))}}function P(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function W(t){t.bi_valid>8?L(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function N(t,e,a,n){var i=2*e,s=2*a;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[a]}function U(t,e,a){for(var n=t.heap[a],i=a<<1;i<=t.heap_len&&(i<t.heap_len&&N(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!N(e,n,t.heap[i],t.depth));)t.heap[a]=t.heap[i],a=i,i<<=1;t.heap[a]=n}function B(t,e,a){var n,i,s,l,r=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*r]<<8|t.pending_buf[t.d_buf+2*r+1],i=t.pending_buf[t.l_buf+r],r++,0===n?I(t,i,e):(I(t,(s=C[i])+o+1,e),0!==(l=v[s])&&T(t,i-=$[s],l),I(t,s=V(--n),a),0!==(l=_[s])&&T(t,n-=D[s],l))}while(r<t.last_lit);I(t,m,e)}function O(t,e){var a,n,i,s=e.dyn_tree,o=e.stat_desc.static_tree,l=e.stat_desc.has_stree,r=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=u,a=0;a<r;a++)0!==s[2*a]?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,l&&(t.static_len-=o[2*i+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)U(t,s,a);i=r;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*i]=s[2*a]+s[2*n],t.depth[i]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=i,t.heap[1]=i++,U(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,i,s,o,l,r=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,m=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(s=0;s<=d;s++)t.bl_count[s]=0;for(r[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<u;a++)(s=r[2*r[2*(n=t.heap[a])+1]+1]+1)>g&&(s=g,v++),r[2*n+1]=s,n>c||(t.bl_count[s]++,o=0,n>=f&&(o=p[n-f]),l=r[2*n],t.opt_len+=l*(s+o),m&&(t.static_len+=l*(h[2*n+1]+o)));if(0!==v){do{for(s=g-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[g]--,v-=2}while(v>0);for(s=g;0!==s;s--)for(n=t.bl_count[s];0!==n;)(i=t.heap[--a])>c||(r[2*i+1]!==s&&(t.opt_len+=(s-r[2*i+1])*r[2*i],r[2*i+1]=s),n--)}}(t,e),j(s,c,t.bl_count)}function M(t,e,a){var n,i,s=-1,o=e[1],l=0,r=7,c=4;for(0===o&&(r=138,c=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)i=o,o=e[2*(n+1)+1],++l<r&&i===o||(l<c?t.bl_tree[2*i]+=l:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[2*p]++):l<=10?t.bl_tree[2*f]++:t.bl_tree[2*g]++,l=0,s=i,0===o?(r=138,c=3):i===o?(r=6,c=3):(r=7,c=4))}function q(t,e,a){var n,i,s=-1,o=e[1],l=0,r=7,c=4;for(0===o&&(r=138,c=3),n=0;n<=a;n++)if(i=o,o=e[2*(n+1)+1],!(++l<r&&i===o)){if(l<c)do{I(t,i,t.bl_tree)}while(0!=--l);else 0!==i?(i!==s&&(I(t,i,t.bl_tree),l--),I(t,p,t.bl_tree),T(t,l-3,2)):l<=10?(I(t,f,t.bl_tree),T(t,l-3,3)):(I(t,g,t.bl_tree),T(t,l-11,7));l=0,s=i,0===o?(r=138,c=3):i===o?(r=6,c=3):(r=7,c=4)}}i(D);var H=!1;function Y(t,e,a,i){T(t,(s<<1)+(i?1:0),3),function(t,e,a,i){W(t),L(t,a),L(t,~a),n.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}(t,e,a)}a._tr_init=function(t){H||(function(){var t,e,a,n,i,s=new Array(d+1);for(a=0,n=0;n<28;n++)for($[n]=a,t=0;t<1<<v[n];t++)C[a++]=n;for(C[a-1]=n,i=0,n=0;n<16;n++)for(D[n]=i,t=0;t<1<<_[n];t++)k[i++]=n;for(i>>=7;n<r;n++)for(D[n]=i<<7,t=0;t<1<<_[n]-7;t++)k[256+i++]=n;for(e=0;e<=d;e++)s[e]=0;for(t=0;t<=143;)x[2*t+1]=8,t++,s[8]++;for(;t<=255;)x[2*t+1]=9,t++,s[9]++;for(;t<=279;)x[2*t+1]=7,t++,s[7]++;for(;t<=287;)x[2*t+1]=8,t++,s[8]++;for(j(x,l+1,s),t=0;t<r;t++)w[2*t+1]=5,w[2*t]=R(t,5);z=new A(x,v,o+1,l,d),S=new A(w,_,0,r,d),F=new A(new Array(0),b,0,c,7)}(),H=!0),t.l_desc=new E(t.dyn_ltree,z),t.d_desc=new E(t.dyn_dtree,S),t.bl_desc=new E(t.bl_tree,F),t.bi_buf=0,t.bi_valid=0,P(t)},a._tr_stored_block=Y,a._tr_flush_block=function(t,e,a,n){var i,s,l=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),O(t,t.l_desc),O(t,t.d_desc),l=function(t){var e;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=c-1;e>=3&&0===t.bl_tree[2*y[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=a+5,a+4<=i&&-1!==e?Y(t,e,a,n):4===t.strategy||s===i?(T(t,2+(n?1:0),3),B(t,x,w)):(T(t,4+(n?1:0),3),function(t,e,a,n){var i;for(T(t,e-257,5),T(t,a-1,5),T(t,n-4,4),i=0;i<n;i++)T(t,t.bl_tree[2*y[i]+1],3);q(t,t.dyn_ltree,e-1),q(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),B(t,t.dyn_ltree,t.dyn_dtree)),P(t),n&&W(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(C[a]+o+1)]++,t.dyn_dtree[2*V(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){T(t,2,3),I(t,m,x),function(t){16===t.bi_valid?(L(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":32}],44:[function(t,e,a){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],45:[function(t,e,a){var n=t("lodash._root"),i=1/0,o="[object Symbol]",l=/[&<>"'`]/g,r=RegExp(l.source),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};function u(t){return c[t]}var d=Object.prototype.toString,h=n.Symbol,m=h?h.prototype:void 0,p=h?m.toString:void 0;e.exports=function(t){return(t=function(t){if("string"==typeof t)return t;if(null==t)return"";if(function(t){return"symbol"==(void 0===t?"undefined":s()(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&d.call(t)==o}(t))return h?p.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(t))&&r.test(t)?t.replace(l,u):t}},{"lodash._root":46}],46:[function(t,e,a){(function(t){var n={function:!0,object:!0},i=n[void 0===a?"undefined":s()(a)]&&a&&!a.nodeType?a:void 0,o=n[void 0===e?"undefined":s()(e)]&&e&&!e.nodeType?e:void 0,l=h(i&&o&&"object"==(void 0===t?"undefined":s()(t))&&t),r=h(n["undefined"==typeof self?"undefined":s()(self)]&&self),c=h(n["undefined"==typeof window?"undefined":s()(window)]&&window),u=h(n[s()(this)]&&this),d=l||c!==(u&&u.window)&&c||r||u||Function("return this")();function h(t){return t&&t.Object===Object?t:null}e.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e,a){var n,i=t("lodash._arraycopy"),o=t("lodash._arrayeach"),l=t("lodash._createassigner"),r=t("lodash.isarguments"),c=t("lodash.isarray"),u=t("lodash.isplainobject"),d=t("lodash.istypedarray"),h=t("lodash.keys"),m=t("lodash.toplainobject"),p=9007199254740991,f=(n="length",function(t){return null==t?void 0:t[n]});function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}(f(t))}var v=l(function t(e,a,n,l,p){if(v=s()(f=e),!f||"object"!=v&&"function"!=v)return e;var f,v,_=g(a)&&(c(a)||d(a)),b=_?void 0:h(a);return o(b||a,function(o,h){if(b&&(o=a[h=o]),function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(o))l||(l=[]),p||(p=[]),function(t,e,a,n,s,o,l){for(var h=o.length,p=e[a];h--;)if(o[h]==p)return void(t[a]=l[h]);var f=t[a],v=s?s(f,p,a,t,e):void 0,_=void 0===v;_&&(v=p,g(p)&&(c(p)||d(p))?v=c(f)?f:g(f)?i(f):[]:u(p)||r(p)?v=r(f)?m(f):u(f)?f:{}:_=!1),o.push(p),l.push(v),_?t[a]=n(v,p,s,o,l):(v==v?v!==f:f==f)&&(t[a]=v)}(e,a,h,t,n,l,p);else{var f=e[h],v=n?n(f,o,h,e,a):void 0,y=void 0===v;y&&(v=o),void 0===v&&(!_||h in e)||!y&&(v==v?v===f:f!=f)||(e[h]=v)}}),e});e.exports=v},{"lodash._arraycopy":48,"lodash._arrayeach":49,"lodash._createassigner":50,"lodash.isarguments":55,"lodash.isarray":56,"lodash.isplainobject":57,"lodash.istypedarray":59,"lodash.keys":60,"lodash.toplainobject":62}],48:[function(t,e,a){e.exports=function(t,e){var a=-1,n=t.length;for(e||(e=Array(n));++a<n;)e[a]=t[a];return e}},{}],49:[function(t,e,a){e.exports=function(t,e){for(var a=-1,n=t.length;++a<n&&!1!==e(t[a],a,t););return t}},{}],50:[function(t,e,a){var n=t("lodash._bindcallback"),i=t("lodash._isiterateecall"),s=t("lodash.restparam");e.exports=function(t){return s(function(e,a){var s=-1,o=null==e?0:a.length,l=o>2?a[o-2]:void 0,r=o>2?a[2]:void 0,c=o>1?a[o-1]:void 0;for("function"==typeof l?(l=n(l,c,5),o-=2):o-=(l="function"==typeof c?c:void 0)?1:0,r&&i(a[0],a[1],r)&&(l=o<3?void 0:l,o=1);++s<o;){var u=a[s];u&&t(e,u,l)}return e})}},{"lodash._bindcallback":51,"lodash._isiterateecall":52,"lodash.restparam":53}],51:[function(t,e,a){function n(t){return t}e.exports=function(t,e,a){if("function"!=typeof t)return n;if(void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 3:return function(a,n,i){return t.call(e,a,n,i)};case 4:return function(a,n,i,s){return t.call(e,a,n,i,s)};case 5:return function(a,n,i,s,o){return t.call(e,a,n,i,s,o)}}return function(){return t.apply(e,arguments)}}},{}],52:[function(t,e,a){var n,i=/^\d+$/,o=9007199254740991,l=(n="length",function(t){return null==t?void 0:t[n]});function r(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(l(t))}e.exports=function(t,e,a){if(!function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(a))return!1;var n=void 0===e?"undefined":s()(e);if("number"==n?r(a)&&function(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&t<e}(e,a.length):"string"==n&&e in a){var l=a[e];return t==t?t===l:l!=l}return!1}},{}],53:[function(t,e,a){var n=Math.max;e.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(void 0===e?t.length-1:+e||0,0),function(){for(var a=arguments,i=-1,s=n(a.length-e,0),o=Array(s);++i<s;)o[i]=a[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,a[0],o);case 2:return t.call(this,a[0],a[1],o)}var l=Array(e+1);for(i=-1;++i<e;)l[i]=a[i];return l[e]=o,t.apply(this,l)}}},{}],54:[function(t,e,a){var n=/^\[object .+?Constructor\]$/,i=Object.prototype,o=Function.prototype.toString,l=i.hasOwnProperty,r=i.toString,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t,e){var a=null==t?void 0:t[e];return function(t){return null!=t&&(function(t){return function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==r.call(t)}(t)?c.test(o.call(t)):function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&n.test(t))}(a)?a:void 0}},{}],55:[function(t,e,a){var n,i=Object.prototype,o=i.hasOwnProperty,l=i.toString,r=i.propertyIsEnumerable,c=(n="length",function(t){return null==t?void 0:t[n]});e.exports=function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(c(t))&&!function(t){var e=function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&o.call(t,"callee")&&(!r.call(t,"callee")||"[object Arguments]"==l.call(t))}},{}],56:[function(t,e,a){var n=/^\[object .+?Constructor\]$/;function i(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}var o,l,r=Object.prototype,c=Function.prototype.toString,u=r.hasOwnProperty,d=r.toString,h=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=(function(t){return null!=t&&(function(t){return function(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}(t)&&"[object Function]"==d.call(t)}(t)?h.test(c.call(t)):i(t)&&n.test(t))}(l=null==(o=Array)?void 0:o.isArray)?l:void 0)||function(t){return i(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&"[object Array]"==d.call(t)};e.exports=m},{}],57:[function(t,e,a){var n=t("lodash._basefor"),i=t("lodash.isarguments"),o=t("lodash.keysin"),l=Object.prototype,r=l.hasOwnProperty,c=l.toString;e.exports=function(t){var e,a;return!(!function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)||"[object Object]"!=c.call(t)||i(t)||!(r.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(n(t,function(t,e){a=e},o),void 0===a||r.call(t,a))}},{"lodash._basefor":58,"lodash.isarguments":55,"lodash.keysin":61}],58:[function(t,e,a){e.exports=function(t,e,a){for(var n=-1,i=Object(t),s=a(t),o=s.length;o--;){var l=s[++n];if(!1===e(i[l],l,i))break}return t}},{}],59:[function(t,e,a){var n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1;var i=Object.prototype.toString;e.exports=function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":s()(t))}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!!n[i.call(t)]}},{}],60:[function(t,e,a){var n,i=t("lodash._getnative"),o=t("lodash.isarguments"),l=t("lodash.isarray"),r=/^\d+$/,c=Object.prototype.hasOwnProperty,u=i(Object,"keys"),d=9007199254740991,h=(n="length",function(t){return null==t?void 0:t[n]});function m(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?d:e,t>-1&&t%1==0&&t<e}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function f(t){for(var e=function(t){if(null==t)return[];g(t)||(t=Object(t));var e=t.length;e=e&&p(e)&&(l(t)||o(t))&&e||0;for(var a=t.constructor,n=-1,i="function"==typeof a&&a.prototype===t,s=Array(e),r=e>0;++n<e;)s[n]=n+"";for(var u in t)r&&m(u,e)||"constructor"==u&&(i||!c.call(t,u))||s.push(u);return s}(t),a=e.length,n=a&&t.length,i=!!n&&p(n)&&(l(t)||o(t)),s=-1,r=[];++s<a;){var u=e[s];(i&&m(u,n)||c.call(t,u))&&r.push(u)}return r}function g(t){var e=void 0===t?"undefined":s()(t);return!!t&&("object"==e||"function"==e)}var v=u?function(t){var e,a=null==t?void 0:t.constructor;return"function"==typeof a&&a.prototype===t||"function"!=typeof t&&null!=(e=t)&&p(h(e))?f(t):g(t)?u(t):[]}:f;e.exports=v},{"lodash._getnative":54,"lodash.isarguments":55,"lodash.isarray":56}],61:[function(t,e,a){var n=t("lodash.isarguments"),i=t("lodash.isarray"),o=/^\d+$/,l=Object.prototype.hasOwnProperty,r=9007199254740991;function c(t,e){return t="number"==typeof t||o.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&t<e}e.exports=function(t){if(null==t)return[];var e,a;a=s()(e=t),(!e||"object"!=a&&"function"!=a)&&(t=Object(t));var o=t.length;o=o&&"number"==typeof o&&o>-1&&o%1==0&&o<=r&&(i(t)||n(t))&&o||0;for(var u=t.constructor,d=-1,h="function"==typeof u&&u.prototype===t,m=Array(o),p=o>0;++d<o;)m[d]=d+"";for(var f in t)p&&c(f,o)||"constructor"==f&&(h||!l.call(t,f))||m.push(f);return m}},{"lodash.isarguments":55,"lodash.isarray":56}],62:[function(t,e,a){var n=t("lodash._basecopy"),i=t("lodash.keysin");e.exports=function(t){return n(t,i(t))}},{"lodash._basecopy":63,"lodash.keysin":61}],63:[function(t,e,a){e.exports=function(t,e,a){a||(a={});for(var n=-1,i=e.length;++n<i;){var s=e[n];a[s]=t[s]}return a}},{}],64:[function(t,e,a){var n,i;n=t("jszip"),i=t("./internal"),e.exports={asBlob:function(t,e){var a;return a=new n,i.addFiles(a,t,e),i.generateDocument(a)}}},{"./internal":65,jszip:14}],65:[function(t,e,a){(function(a,n){var i,s,o;i=t("./templates/document"),s=t("./utils"),o={merge:t("lodash.merge")},e.exports={generateDocument:function(t){var e;if(e=t.generate({type:"arraybuffer"}),a.Blob)return new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});if(a.Buffer)return new n(new Uint8Array(e));throw new Error("Neither Blob nor Buffer are accessible in this environment. Consider adding Blob.js shim")},renderDocumentFile:function(t){var e;return null==t&&(t={}),e=o.merge({margins:{top:1440,right:1440,bottom:1440,left:1440,header:720,footer:720,gutter:0}},function(){switch(t.orientation){case"landscape":return{height:12240,width:15840,orient:"landscape"};default:return{width:12240,height:15840,orient:"portrait"}}}(),{margins:t.margins}),i(e)},addFiles:function(t,e,a){return t.file("[Content_Types].xml",n("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8VHlwZXMgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvY29udGVudC10eXBlcyI+CiAgPERlZmF1bHQgRXh0ZW5zaW9uPSJyZWxzIiBDb250ZW50VHlwZT0KICAgICJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5yZWxhdGlvbnNoaXBzK3htbCIgLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2RvY3VtZW50LnhtbCIgQ29udGVudFR5cGU9CiAgICAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQubWFpbit4bWwiLz4KICA8T3ZlcnJpZGUgUGFydE5hbWU9Ii93b3JkL2FmY2h1bmsubWh0IiBDb250ZW50VHlwZT0ibWVzc2FnZS9yZmM4MjIiLz4KPC9UeXBlcz4K","base64")),t.folder("_rels").file(".rels",n("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwCiAgICAgIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnQiCiAgICAgIFRhcmdldD0iL3dvcmQvZG9jdW1lbnQueG1sIiBJZD0iUjA5YzgzZmFmYzA2NzQ4OGUiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64")),t.folder("word").file("document.xml",this.renderDocumentFile(a)).file("afchunk.mht",s.getMHTdocument(e)).folder("_rels").file("document.xml.rels",n("PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8UmVsYXRpb25zaGlwcyB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzIj4KICA8UmVsYXRpb25zaGlwIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvYUZDaHVuayIKICAgIFRhcmdldD0iL3dvcmQvYWZjaHVuay5taHQiIElkPSJodG1sQ2h1bmsiIC8+CjwvUmVsYXRpb25zaGlwcz4K","base64"))}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./templates/document":66,"./utils":69,buffer:1,"lodash.merge":47}],66:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),console.log(t),a+='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<w:document\n  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"\n  xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"\n  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"\n  xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing"\n  xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n  xmlns:ns6="http://schemas.openxmlformats.org/schemaLibrary/2006/main"\n  xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"\n  xmlns:ns8="http://schemas.openxmlformats.org/drawingml/2006/chartDrawing"\n  xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram"\n  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"\n  xmlns:ns11="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n  xmlns:dsp="http://schemas.microsoft.com/office/drawing/2008/diagram"\n  xmlns:ns13="urn:schemas-microsoft-com:office:excel"\n  xmlns:o="urn:schemas-microsoft-com:office:office"\n  xmlns:v="urn:schemas-microsoft-com:vml"\n  xmlns:w10="urn:schemas-microsoft-com:office:word"\n  xmlns:ns17="urn:schemas-microsoft-com:office:powerpoint"\n  xmlns:odx="http://opendope.org/xpaths"\n  xmlns:odc="http://opendope.org/conditions"\n  xmlns:odq="http://opendope.org/questions"\n  xmlns:odi="http://opendope.org/components"\n  xmlns:odgm="http://opendope.org/SmartArt/DataHierarchy"\n  xmlns:ns24="http://schemas.openxmlformats.org/officeDocument/2006/bibliography"\n  xmlns:ns25="http://schemas.openxmlformats.org/drawingml/2006/compatibility"\n  xmlns:ns26="http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas">\n  <w:body>\n    <w:altChunk r:id="htmlChunk" />\n    <w:sectPr>\n      <w:pgSz w:w="'+(null==(e=t.width)?"":e)+'" w:h="'+(null==(e=t.height)?"":e)+'" w:orient="'+(null==(e=t.orient)?"":e)+'" />\n      <w:pgMar w:top="'+(null==(e=t.margins.top)?"":e)+'"\n               w:right="'+(null==(e=t.margins.right)?"":e)+'"\n               w:bottom="'+(null==(e=t.margins.bottom)?"":e)+'"\n               w:left="'+(null==(e=t.margins.left)?"":e)+'"\n               w:header="'+(null==(e=t.margins.header)?"":e)+'"\n               w:footer="'+(null==(e=t.margins.footer)?"":e)+'"\n               w:gutter="'+(null==(e=t.margins.gutter)?"":e)+'"/>\n    </w:sectPr>\n  </w:body>\n</w:document>\n'}},{"lodash.escape":45}],67:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),a+='MIME-Version: 1.0\nContent-Type: multipart/related;\n    type="text/html";\n    boundary="----=mhtDocumentPart"\n\n\n------=mhtDocumentPart\nContent-Type: text/html;\n    charset="utf-8"\nContent-Transfer-Encoding: quoted-printable\nContent-Location: file:///C:/fake/document.html\n\n'+(null==(e=t.htmlSource)?"":e)+"\n\n"+(null==(e=t.contentParts)?"":e)+"\n\n------=mhtDocumentPart--\n"}},{"lodash.escape":45}],68:[function(t,e,a){t("lodash.escape");e.exports=function(t){var e,a="";Array.prototype.join;return t||(t={}),console.log(t),a+="------=mhtDocumentPart\nContent-Type: "+(null==(e=t.contentType)?"":e)+"\nContent-Transfer-Encoding: "+(null==(e=t.contentEncoding)?"":e)+"\nContent-Location: "+(null==(e=t.contentLocation)?"":e)+"\n\n"+(null==(e=t.encodedContent)?"":e)+"\n"}},{"lodash.escape":45}],69:[function(t,e,a){var n,i;n=t("./templates/mht_document"),i=t("./templates/mht_part"),e.exports={getMHTdocument:function(t){var e,a;return t=(a=this._prepareImageParts(t)).htmlSource,e=a.imageContentParts,t=t.replace(/\=/g,"=3D"),n({htmlSource:t,contentParts:e.join("\n")})},_prepareImageParts:function(t){var e,a,n;if(e=[],n=/"data:(\w+\/\w+);(\w+),(\S+)"/g,a=function(t,a,n,s){var o;return o="file:///C:/fake/image"+e.length+"."+a.split("/")[1],e.push(i({contentType:a,contentEncoding:n,contentLocation:o,encodedContent:s})),'"'+o+'"'},"string"==typeof t)return/<img/g.test(t)?{htmlSource:t=t.replace(n,a),imageContentParts:e}:{htmlSource:t,imageContentParts:e};throw new Error("Not a valid source provided!")}}},{"./templates/mht_document":67,"./templates/mht_part":68}]},{},[64])(64)})}).call(e,a("f1Eh")(t),a("DuR2"))},"4CR6":function(t,e){},"4QAK":function(t,e,a){t.exports=a.p+"static/img/School_Picture_22733.7146acb.jpg"},"4Tl9":function(t,e){},"4pPW":function(t,e){},"50Ze":function(t,e){},"5ehE":function(t,e){},"5yLb":function(t,e){},"6GXs":function(t,e){},"7LAQ":function(t,e){},"7mbv":function(t,e){},"84/M":function(t,e){},"85E7":function(t,e){},"8SHa":function(t,e){},"8o+N":function(t,e){},"8xdo":function(t,e){},"8y5t":function(t,e,a){t.exports=a.p+"static/img/4.8b1edac.png"},"9fhA":function(t,e){},"9o6C":function(t,e,a){(function(t){var e;void 0!==t&&"undefined"!=typeof saveAs?(e=t,console.log(111),e.fn.wordExport=function(t){t=void 0!==t?t:"jQuery-Word-Export";var a={mhtml:{top:"Mime-Version: 1.0\nContent-Base: "+location.href+'\nContent-Type: Multipart/related; boundary="NEXT.ITEM-BOUNDARY";type="text/html"\n\n--NEXT.ITEM-BOUNDARY\nContent-Type: text/html; charset="utf-8"\nContent-Location: '+location.href+"\n\n<!DOCTYPE html>\n<html>\n_html_</html>",head:'<head>\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n<style>\n_styles_\n</style>\n</head>\n',body:"<body>_body_</body>"}},n=624,i=e(this).clone();i.each(function(){var t=e(this);t.is(":hidden")&&t.remove()});for(var s=Array(),o=i.find("img"),l=0;l<o.length;l++){var r=Math.min(o[l].width,n),c=o[l].height*(r/o[l].width),u=document.createElement("CANVAS");u.width=r,u.height=c,u.getContext("2d").drawImage(o[l],0,0,r,c);var d=u.toDataURL("image/png/jpg");e(o[l]).attr("src",o[l].src),o[l].width=r,o[l].height=c,s[l]={type:d.substring(d.indexOf(":")+1,d.indexOf(";")),encoding:d.substring(d.indexOf(";")+1,d.indexOf(",")),location:e(o[l]).attr("src"),data:d.substring(d.indexOf(",")+1)}}var h="\n";for(l=0;l<s.length;l++)h+="--NEXT.ITEM-BOUNDARY\n",h+="Content-Location: "+s[l].location+"\n",h+="Content-Type: "+s[l].type+"\n",h+="Content-Transfer-Encoding: "+s[l].encoding+"\n\n",h+=s[l].data+"\n\n";h+="--NEXT.ITEM-BOUNDARY--";var m=a.mhtml.top.replace("_html_",a.mhtml.head.replace("_styles_","")+a.mhtml.body.replace("_body_",i.html()))+h,p=new Blob([m],{type:"application/msword;charset=utf-8"});saveAs(p,t+".doc")}):(void 0===t&&console.error("jQuery Word Export: missing dependency (jQuery)"),"undefined"==typeof saveAs&&console.error("jQuery Word Export: missing dependency (FileSaver.js)"))}).call(e,a("7t+N"))},"9xKQ":function(t,e){},AFh3:function(t,e){},BJvq:function(t,e){},BYsb:function(t,e){},C5Mh:function(t,e){},E0VQ:function(t,e){},EDgR:function(t,e){function a(){var t=document.getElementsByTagName("html")[0],e=100/434*window.innerWidth;t.style.fontSize=e+"px"}a(),window.onresize=function(){a()}},ERsK:function(t,e){},F7fv:function(t,e,a){t.exports=a.p+"static/img/33.d7d3c4b.png"},FQta:function(t,e){},FcGx:function(t,e){},GUuK:function(t,e){},HzXQ:function(t,e){},I62t:function(t,e){},I8bY:function(t,e){},ISub:function(t,e){},IYvL:function(t,e,a){t.exports=a.p+"static/img/22.9798cbb.png"},IoCr:function(t,e){},JSVU:function(t,e){},JsJn:function(t,e){},Jz5f:function(t,e){},KU6C:function(t,e){},KbDX:function(t,e){},LcKl:function(t,e){},M5l7:function(t,e){t.exports=["头痛","神经过敏，心中不踏实","头脑中有不必要的想法或字句盘旋","头昏或昏倒","对异性的兴趣减退","对旁人责备求全","感到别人能控制您的思想","责怪别人制造麻烦","忘记性大","担心自己的衣饰整齐及仪态的端正","容易烦恼和激动","胸痛","害怕空旷的场所或街道","感到自己的精力下降，活动减慢","想结束自己的生命","听到旁人听不到的声音","发抖","感到大多数入都不可信任","胃口不好","容易哭泣","同异性相处时感害羞不自在","感到受骗、中了圈套或有人想抓住您","无缘无故地突然感到害怕","自己不能控制地大发脾气","怕单独出门","经常责怪自己","腰痛","感到难以完成任务","感到孤独","感到苦闷","过分担忧","对事物不感兴趣","感到害怕","我的感情容易受到伤害","旁人能知道您的想法","感到别人不理解","感到人们对您不友好，不喜欢您","做事必须做得很慢以保证做得正确","心跳得很厉害","恶心或胃部不舒服","感到比不上他人","肌肉酸痛","感到有人在监视您谈论您","难以入睡","做事必须反复检查","难以作出决定","怕乘电车、公共汽车、地铁或火车","呼吸有困难","一阵阵发冷或发热","因为感到害怕而避开某些东西、场合","脑子变空了","身体发麻或刺痛","喉咙有梗塞感","感到前途没有希望","不能集中注意","感到身体的某一部分软弱无力","感到紧张或容易紧张","感到手或脚发重","想到死亡的事","吃得太多","当别人看着您或谈论您时感到不自在","有一些不属于您自己的想法","有想打人或伤害他人的冲动","醒得太早","必须反复洗手，点数目或触摸某些东","睡得不稳不深","有想摔坏或破坏东西的冲动","有一些别人没有的想法或念头","感到对别人神经过敏","在商店或电影院等人多的地方感到不","感到任何事情都很困难","一阵阵恐惧或惊恐","感到在公共场合吃东西很不舒服","经常与人争论","单独一人时神经很紧张","别人对您的成绩没有作出恰当的评价","即使和别人在一起也感到孤单","感到坐立不安心神不定","感到自己没有什么价值","感到熟悉的东西变成陌生或不象是真","大叫或摔东西","害怕会在公共场合昏倒","感到别人想占您的便宜","为一些有关“性”的想法而很苦恼","您认为应该因为自己的过错而受到惩","感到要赶快把事情做完","感到自己的身体有严重问题","从未感到和其他人很亲近","感到自己有罪","感到自己的脑子有毛病"]},MX0Y:function(t,e){},MiSi:function(t,e){},N2ME:function(t,e,a){"use strict";var n=a("Gu7T"),i=a.n(n),s=a("MqC/"),o=a.n(s),l=(a("olwm"),a("7t+N")),r=a.n(l),c={props:{events:{default:function(){return[]}},eventSources:{default:function(){return[]}},editable:{default:function(){return!0}},selectable:{default:function(){return!0}},selectHelper:{default:function(){return!0}},header:{default:function(){return{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"}}},defaultView:{default:function(){return"agendaWeek"}},sync:{default:function(){return!1}},config:{type:Object,default:function(){return{}}}},computed:{defaultConfig:function(){var t=this;return{header:this.header,defaultView:this.defaultView,editable:this.editable,selectable:this.selectable,selectHelper:this.selectHelper,aspectRatio:2,timeFormat:"HH:mm",events:this.events,eventSources:this.eventSources,eventRender:function(){this.sync&&(t.events=cal.fullCalendar("clientEvents"));for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["event-render"].concat(i()(a)))},viewRender:function(){this.sync&&(t.events=cal.fullCalendar("clientEvents"));for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["view-render"].concat(i()(a)))},eventDestroy:function(e){this.sync&&(t.events=cal.fullCalendar("clientEvents"))},eventClick:function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["event-selected"].concat(i()(a)))},eventDrop:function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["event-drop"].concat(i()(a)))},eventReceive:function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["event-receive"].concat(i()(a)))},eventResize:function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["event-resize"].concat(i()(a)))},dayClick:function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];t.$emit.apply(t,["day-click"].concat(i()(a)))},select:function(e,a,n,i,s){t.$emit("event-created",{start:e,end:a,allDay:!e.hasTime()&&!a.hasTime(),view:i,resource:s})}}}},mounted:function(){var t=this,e=r()(this.$el);this.$on("remove-event",function(e){e&&e.hasOwnProperty("id")?r()(t.$el).fullCalendar("removeEvents",e.id):r()(t.$el).fullCalendar("removeEvents",e)}),this.$on("rerender-events",function(){r()(t.$el).fullCalendar("rerenderEvents")}),this.$on("refetch-events",function(){r()(t.$el).fullCalendar("refetchEvents")}),this.$on("render-event",function(e){r()(t.$el).fullCalendar("renderEvent",e)}),this.$on("reload-events",function(){r()(t.$el).fullCalendar("removeEvents"),r()(t.$el).fullCalendar("addEventSource",t.events)}),this.$on("rebuild-sources",function(){r()(t.$el).fullCalendar("removeEventSources"),t.eventSources.map(function(e){r()(t.$el).fullCalendar("addEventSource",e)})}),e.fullCalendar(o()(this.config,this.defaultConfig))},methods:{fireMethod:function(){var t;return(t=r()(this.$el)).fullCalendar.apply(t,arguments)}},watch:{events:{deep:!0,handler:function(t){r()(this.$el).fullCalendar("removeEvents"),r()(this.$el).fullCalendar("addEventSource",this.events)}},eventSources:{deep:!0,handler:function(t){this.$emit("rebuild-sources")}}},beforeDestroy:function(){this.$off("remove-event"),this.$off("rerender-events"),this.$off("refetch-events"),this.$off("render-event"),this.$off("reload-events"),this.$off("rebuild-sources")}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"calendar",attrs:{id:"calendar"}})},staticRenderFns:[]},d=a("VU/8")(c,u,!1,null,null,null);e.a=d.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("j1ja");var n=a("7+uW"),i=(a("EDgR"),a("zL8q")),s=a.n(i),o=a("7t+N"),l=a.n(o),r=a("mvHQ"),c=a.n(r),u=a("//Fk"),d=a.n(u),h=a("Dd8w"),m=a.n(h),p=a("mtWM"),f=a.n(p),g=a("bOdI"),v=a.n(g),_=a("/ocq"),b=a("lbHh"),y=a.n(b),x=a("YZ0n"),w={data:function(){return{message:"",shownav:!1,navtitle:"",navicon:"",role:"",option:{imgsrc:"",info:!0,outputSize:.7,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4]},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,visible3:!1,multipleSelection:[]}},mounted:function(){this.newimgsrc=this.$store.state.userInfo.name;var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t},created:function(){var t=this;this.$root.Bus.$on("setright",function(e){console.log(e),t.navtitle=e.title,t.navicon=e.icon}),this.getmesage(1,20)},methods:{goschool:function(){var t=JSON.parse(y.a.get("role"));console.log(t),1==t.type?t.college_name?this.$router.push({path:"/admin/teacherindex/teacherschool"}):this.$message("系统超管用户请从pc端登录"):3==t.type&&this.$router.push({path:"/Evaluation/studentindex/studentschool"})},getmesage:function(t,e){var a=this;this.axios.post("/api/v1/mail/list?filter="+this.filter,{page:t,size:e}).then(function(t){a.message=t.data.data.total})},gomessage:function(){this.$router.push({path:"/schools/message"})},sendmsg:function(){this.goschool()},goIndex:function(){console.log(1111111),this.goschool()},first:function(){this.$router.push({path:"/login"})},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(window.FileReader){var n=new FileReader;n.readAsDataURL(a),n.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop(),t.visible2=!1})}},components:{VueCropper:x.VueCropper}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"phone-top"},[a("ul",[a("li",[a("span",{staticClass:"iconfont icon-menu",on:{click:t.sendmsg}})]),t._v(" "),a("li",[t._v(t._s(t.$store.state.navdata.title))]),t._v(" "),a("li",[a("el-dropdown",{attrs:{"hide-on-click":!1,trigger:"click",placement:"top-start"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"iconfont icon-shezhi"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{divided:""}},[a("i",{staticStyle:{"vertical-align":"top"}},[t._v(t._s(t.role.name))])]),t._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[a("span",{staticStyle:{"margin-left":"5px"},on:{click:function(e){return e.stopPropagation(),t.goIndex(e)}}},[a("span",{staticClass:"iconfont icon-yemian",staticStyle:{"font-size":"16px"}}),t._v("首页\n               ")])]),t._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[a("el-button",{on:{click:t.gomessage}},[a("el-badge",{staticClass:"item",attrs:{value:t.message,max:99}},[a("el-button",{attrs:{size:"small"}},[a("span",{staticClass:"tx"},[a("span",{staticClass:"iconfont icon-yunpingtai_shouye-tixing",staticStyle:{"font-size":"22px"}}),t._v("\n                         提醒\n                       ")])])],1)],1)],1),t._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[a("span",{staticClass:"iconfont icon-daochu daochu",on:{click:t.first}},[t._v("退出")])])],1)],1)],1)])])])},staticRenderFns:[]};var C=a("VU/8")(w,k,!1,function(t){a("x1Lg")},"data-v-5c079670",null).exports,$={name:"Navbar",data:function(){return{shownav:!1,userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,permission:""}},watch:{"$route.path":function(){this.navbardata1()},rightdata:function(){var t={rightdata:this.rightdata,title:this.title,icon:this.icon};this.$root.Bus.$emit("setright",t)}},created:function(){var t=this;this.$root.Bus.$on("setMsg",function(e){console.log(e),t.shownav=e})},beforeMount:function(){this.navbardata1()},methods:{getpermission:function(){},handleOpen:function(t,e){this.shownav=!1},handleClose:function(t,e){console.log(t,e)},sortnumber:function(t,e){return t-e},navbardata1:function(){var t=this,e=[],a=[],n=[];this.axios.get("/api/v1/admin/menu").then(function(i){var s=i.data.data;t.permission=s,t.permission=t.NestedToFlat(s),function t(e,a){for(var n in e)if(0!==e[n].items.length){for(var i in e[n].items)0==e[n].items[i].flag&&(e[n].items=[]);t(e[n].items,a)}return e}(s,[]);var o,l=[];for(var r in s)"admin"!=s[r].menu_route&&"Gauge"!=s[r].menu_route&&"Consultation"!=s[r].menu_route||l.push(s[r].sort);for(var r in l.sort(t.sortnumber),l.map(function(t){for(var a in s)t==s[a].sort&&e.push(s[a])}),t.navbardata=e,t.navbardata.map(function(e,a){console.log(t.$route.path.indexOf(e.menu_route)),-1!==t.$route.path.indexOf("/"+e.menu_route+"/")&&(o=a),t.$route.path=="/"+e.menu_route&&(o=a)}),t.navbardata)n.push(r),a.push(t.navbardata[r].menu_name);t.leftdata=a,t.keys=n,t.showright(o)}).catch(function(t){console.log(t)})},showright:function(t){var e=this.navbardata[this.keys[t]];console.log(e),this.title=e.menu_name,this.icon=e.icon,this.rightdata=e.items,console.log(this.rightdata),this.domIindex=t,0==e.items.length?(console.log(e.menu_route),this.rout(e.menu_route),this.$refs.nav.style.width="80px",this.rightflag=!1):(this.$refs.nav.style.width="220px",this.rightflag=!0)},rout:function(t){console.log(t),this.$router.push("/"+t)},NestedToFlat:function(t){var e=[];for(var a in t)e.push(t[a]),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e},findroute:function(t,e){for(var a in t){if(t[a].id==e)return t[a].pid?(e=t[a].pid,this.findroute(t,e)):t[a].id}}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.shownav,expression:"shownav"}],ref:"nav",staticClass:"nav"},[a("ul",{staticClass:"left"},t._l(t.leftdata,function(e,n){return a("li",{key:n,ref:"dom",refInFor:!0,class:{firstnav:n==t.domIindex},on:{click:function(e){t.showright(n,e)}}},[a("span",[t._v(t._s(e))])])}),0),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.rightflag,expression:"rightflag"}],staticClass:"right"},[a("li",[a("ul",[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("h5",[a("i",{class:"iconfont "+t.icon}),t._v("\n              "+t._s(t.title)+"\n            ")]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"background-color":"#303240","text-color":"#5F8BE4","active-text-color":"#fff",router:""},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.rightdata,function(e,n){return a("div",{key:n},[0==e.items.length?a("el-menu-item",{attrs:{index:"/"+e.menu_route}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.menu_name))])]):a("el-submenu",{attrs:{index:e.id+""}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.menu_name))])]),t._v(" "),t._l(e.items,function(e,n){return a("el-menu-item-group",{key:n},[a("el-menu-item",{attrs:{index:"/"+e.menu_route}},[t._v(t._s(e.menu_name))])],1)})],2)],1)}),0)],1)],1)],1)])])])},staticRenderFns:[]};var S=a("VU/8")($,z,!1,function(t){a("MiSi")},"data-v-738e44fd",null).exports,F=a("2T5n"),D={name:"layout",data:function(){return{headflag:!1}},methods:{},components:{top:C,Navbar:S,headson:F.a}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"headtop"},[e("top")],1),this._v(" "),e("div",{staticClass:"main-container"},[e("div",[e("headson"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)])])},staticRenderFns:[]};var E=a("VU/8")(D,A,!1,function(t){a("sEOj")},"data-v-48b6be01",null).exports,V={data:function(){return{role:"",shownav:!1,userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,permission:""}},beforeMount:function(){this.navbardata1()},watch:{"$route.path":function(){this.navbardata1()},rightdata:function(){var t={rightdata:this.rightdata,title:this.title,icon:this.icon};localStorage.setItem("content",c()(t)),this.$store.commit("setnav",{content:t})}},mounted:function(){var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t},methods:{navbardata1:function(){var t=this,e=[],a=[],n=[];this.axios.get("/api/v1/admin/menu").then(function(i){var s=i.data.data,o=[];t.permission=s,t.permission=t.NestedToFlat(s),function t(e,a){for(var n in e)if(0!==e[n].items.length){for(var i in e[n].items)if(0==e[n].items[i].flag){e[n].items=[];break}t(e[n].items,a)}return e}(s,o);var l,r=[];for(var c in s)"admin"!=s[c].menu_route&&"Gauge"!=s[c].menu_route&&"Consultation"!=s[c].menu_route||r.push(s[c].sort);for(var c in r.sort(t.sortnumber),r.map(function(t){for(var a in s)t==s[a].sort&&e.push(s[a])}),t.navbardata=e,t.navbardata.map(function(e,a){-1!==t.$route.path.indexOf("/"+e.menu_route+"/")&&(l=a),t.$route.path=="/"+e.menu_route&&(l=a)}),t.navbardata){n.push(c),(o={}).menu_name=t.navbardata[c].menu_name,o.icon=t.navbardata[c].icon,a.push(o)}t.leftdata=a,t.keys=n,t.showright(l)}).catch(function(t){console.log(t)})},showright:function(t,e){var a=this.navbardata[this.keys[t]];this.title=a.menu_name,this.icon=a.icon,this.rightdata=a.items,this.domIindex=t},rout:function(t){this.$router.push("/"+t)},NestedToFlat:function(t){var e=[];for(var a in t)e.push(t[a]),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrren"},[a("div",{staticClass:"top1"},[a("div",{staticClass:"right"},[a("div",{staticClass:"help"},[a("span",[t._v("亲爱的"+t._s(t.role.name)+":")])]),t._v(" "),a("div",{staticClass:"dear"},[t._v("欢迎登陆心理管理系统")]),t._v(" "),a("div",{staticClass:"btn"},[t._v("点击下方磁片。快捷进入相应的办公界面")])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box2"},[t._m(0),t._v(" "),t._l(t.leftdata,function(e,n){return a("div",{key:n,ref:"dom",refInFor:!0,staticClass:"box33",class:{firstnav:n==t.domIindex},staticStyle:{"background-color":"#BDD8E1"},on:{click:function(e){t.showright(n,e)}}},[a("span",{class:"iconfont "+e.icon}),t._v(" "),a("i",[t._v(t._s(e.menu_name))])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box11"},[e("h4",[this._v("通知")]),this._v(" "),e("p",[this._v("     你们好本土化、多维度的专业生涯测评，帮助学生选择合适的专业领域本土化、帮助学生选择合适的专业领域")])])}]};var T=a("VU/8")(V,L,!1,function(t){a("dMWO")},"data-v-3a94e354",null).exports,I=(a("OMJi"),{data:function(){return{key:value}},methods:{handleDownload:function(){var t=this;a.e(0).then(function(){var e=a("zWO4").export_json_to_excel,n=t.tableData3,i=t.tHeader,s=t.filterVal;e(i,t.formatJson(s,n),"导出的列表excel")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})}},props:["tableData3","tHeader","filterVal"]}),R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"del",on:{click:this.handleDownload}},[this._v("导出")])])},staticRenderFns:[]};a("VU/8")(I,R,!1,function(t){a("iYrm")},"data-v-0f242b7c",null).exports;var j={data:function(){return{treeflag:!1,newvalue:"",item:"",filterText:"",data2:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){console.log(this.data2),console.log(this.inputName)},created:function(){this.getshoolcheck(),console.log(this.data2)},watch:{filterText:function(t){this.$refs.tree2.filter(t),console.log(t)},inputName:function(){this.newvalue=this.inputName}},methods:{getshoolcheck:function(){var t=this;this.axios.get("/api/v1/admin/unit/list/pid?pid=0").then(function(e){var a=e.data.data;a=Ss.treeData(a,"id","pid","items"),console.log(a);var n=[];t.func(a,n),t.inputName||(t.newvalue=n[0].name,t.item=n[0]),t.data2=n})},func:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items){var n=[];t[a].children=n,this.func(t[a].items,n)}},filterNode:function(t,e){return console.log(t),console.log(e),!t||-1!==e.name.indexOf(t)},nodeclick:function(t,e,a){console.log(t,e,a),this.newvalue=t.name,this.item=t,this.treeflag=!this.treeflag},showtree:function(){this.treeflag=!this.treeflag}},props:["inputName"]},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"inpu"},[a("div",{attrs:{id:"school"},domProps:{innerHTML:t._s(t.newvalue)},on:{click:function(e){t.showtree()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-xuanzekuang",on:{click:function(e){t.showtree()}}})]),t._v(" "),t.treeflag?a("div",{staticClass:"tree"},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),a("div",{staticClass:"box"},[a("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{"check-on-click-node":!0,"highlight-current":!0,data:t.data2,props:t.defaultProps,"default-expand-all":"","filter-node-method":t.filterNode},on:{"node-click":t.nodeclick}})],1)],1):t._e()])},staticRenderFns:[]};var W=a("VU/8")(j,P,!1,function(t){a("is/C")},"data-v-7d4c9ea3",null).exports,N={data:function(){return{isbtnActive:!1,returnpids:[],returnName:[{id:0,name:"组别数据"}],pid:0,isactive:"",time:"",page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},index1:"",addflag:!1,dialogFormVisible:!1,formLabelWidth:"120px",values:{sort:"",name:"",type:""},thead:["序号","名称"],filterVal:["id","name"],tableData3:[],form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){this.getList();var t=(new Date).getFullYear();this.time=t,console.log(this.pid)},methods:{bread:function(t,e){console.log(t,e,this.returnName),this.returnName=this.returnName.slice(0,e+1);var a=this;0!=t?this.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(e){var n=e.data.data,i=[];for(var s in n)for(var o in n[s].items)i.push(n[s].items[o]);a.tableData3=i,a.pid=t,0==i.length&&a.$message("该类型没有子数据")}):this.getList()},treeData:function(t,e,a,n){var i=JSON.parse(c()(t));return i.filter(function(t){var s=i.filter(function(n){return t[e]==n[a]});return s.length>0&&(t[n]=s),0==t[a]})},getList:function(t){var e=this;this.axios.get("/api/v1/admin/unit/list/pid?pid=0").then(function(t){if(console.log(t),0==t.data.code){var a=t.data.data;a=e.treeData(a,"id","pid","children");var n=[];for(var i in a)n.push(a[i]);e.tableData3=n;var s=e.tableData3[0].pid;e.pid=s,e.countpage=Math.ceil(e.tableData3.length/e.pagesize)}else e.$message(t.data.msg)}).catch(function(t){e.$message(t)})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},findlistson:function(t,e,a){var n={};n.id=t,n.name=a,this.returnName.push(n),this.returnpids.push(e),console.log(this.returnpids,t,this.returnName);var i=this;this.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(e){var a=e.data.data,n=[];for(var s in a)for(var o in console.log(a[s]),a[s].items)n.push(a[s].items[o]);i.tableData3=n,console.log(n),i.pid=t,0==n.length&&i.$message("该类型没有子数据，可以添加")})},return1:function(){var t=this.returnpids[this.returnpids.length-1];if(this.returnpids.splice(this.returnpids.length-1,1),this.returnName.splice(this.returnName.length-1,1),0!=t){console.log(t,this.returnpids,this.returnName);var e=this;this.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(a){var n=a.data.data,i=[];for(var s in n)for(var o in n[s].items)i.push(n[s].items[o]);e.tableData3=i,e.pid=t,0==i.length&&alert("该类型没有子数据")})}else this.getList()},addnumber:function(){this.addflag=!0},complete:function(){var t=this;this.addflag=!1,console.log(this.values,this.pid),this.axios.post("/api/v1/admin/unit/save",{pid:this.pid,name:this.values.name}).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data;t.tableData3.push(a),alert("增加成功")}else alert(e.data.msg)})},queding:function(t,e){var a=this;console.log(t,e);t=e.id;var n=e.pid,i=e.name;console.log(t,n,i),this.axios.post("/api/v1/admin/unit/save",{id:t,pid:n,name:i}).then(function(t){console.log(t),0==t.data.code?a.$message("保存成功"):a.$message(t.data.msg)}),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t,this.dialogFormVisible=!0},del:function(t){var e=this;console.log(t);var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.get("/api/v1/admin/unit/list/pid?pid="+t).then(function(e){0!==e.data.data.length?a.$message("该类型具有子数据，不能删除"):a.axios.post("/api/v1/admin/unit/delUnitGroup",{id:[t]}).then(function(t){0==t.data.code&&(a.$message("删除成功"),a.getList())})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=[],n=0;n<t.length;n++)if(t[n].checked){var i=t[n].value;console.log(i),e.push(i)}console.log(e);for(n=0;n<e.length;n++)this.tableData3.map(function(t,i){t.id==e[n]&&a.push(t)});console.log(a)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(this.isbtnActive=!0,event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA"):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},handleDownload:function(){var t=this,e=this;a.e(0).then(function(){for(var n=a("zWO4").export_json_to_excel,i=(e.tableData3,t.$refs.icheck),s=[],o=[],l=0;l<i.length;l++)if(i[l].checked){var r=i[l].value;console.log(r),s.push(r)}console.log(s);for(l=0;l<s.length;l++)t.tableData3.map(function(t,e){t.id==s[l]&&o.push(t)});(console.log(o),0!=o.length)?n(["序号","名称"],e.formatJson(["id","name"],o),"导出的列表excel"):t.$message("请选择当前页数据导入")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""}},components:{schoolcheck:W,headson:F.a}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"body"},[a("div",{staticClass:"bread"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.returnName,function(e,n){return a("el-breadcrumb-item",{key:n},[a("span",{staticStyle:{color:"#169bd5",cursor:"pointer"},on:{click:function(a){t.bread(e.id,n)}}},[t._v(t._s(e.name))])])}),1)],1),t._v(" "),a("div",{staticClass:"work"}),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"class"},[t._v("\n                  *\n                ")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.name,expression:"values.name"}],attrs:{type:"text"},domProps:{value:t.values.name},on:{input:function(e){e.target.composing||t.$set(t.values,"name",e.target.value)}}})]),t._v(" "),a("td",[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.complete()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])],1)])]:t._e(),t._v(" "),t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(a){a.stopPropagation(),t.icheck(e)}}})]),t._v(" "),a("td",{staticClass:"sort"},[a("span",[t._v(t._s((t.page.currentPage-1)*t.page.pagesize+(n+1)))])]),t._v(" "),a("td",{staticClass:"class"},[n+1==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):a("span",{staticClass:"type",on:{click:function(a){t.findlistson(e.id,e.pid,e.name)}}},[t._v(t._s(e.name))])])])})],2)])])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"prev, pager, next",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var B=a("VU/8")(N,U,!1,function(t){a("VGSF")},"data-v-3c992138",null).exports,O=a("spLH"),M=a("AJcs"),q=a.n(M),H={data:function(){var t;return t={dialogFormVisible1:!1,index1:"",isbtnActive:!1,searchflag:!1,form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},isactive:"",headson:["学生资料管理","学生资料信息"],tabls:["查询列表","资料转移","密码操作"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20}},v()(t,"index1",""),v()(t,"addflag",!1),v()(t,"values",{value1:"",value2:"",value3:""}),v()(t,"thead",["学号","姓名","性别","年龄","操作"]),v()(t,"tableData3",[]),v()(t,"submitflag",!0),t},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size)},methods:{changegroup:function(){var t=this.$refs.schoolcheck11.item.id-0,e=this.$refs.schoolcheck22.item.id-0;this.axios.get("/api/v1/admin/user/changeUnitGroup?srcid="+t+"&dstid="+e).then(function(t){0==t.data.code?alert("转移资料成功"):alert(t.data.msg)})},getList:function(t,e,a){var n=this;this.axios.post("/api/v1/admin/user/student/list",{page:t,size:e,w:a}).then(function(t){var e=t.data.data.data;e.map(function(t,e){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(a/8640);return t.age=n,0==t.sex?t.sex="女":t.sex="男"}),n.tableData3=e,console.log(e)}),this.page.countpage=Math.ceil(this.tableData3.length/this.page.pagesize)},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},addnumber:function(){this.addflag=!0,console.log(this.addflag)},queding:function(t){if(this.dialogFormVisible1=!1,console.log(this.value1,this.index1),this.addflag=!1,this.values.password===this.values.againpass){var e={id:this.index1,password:q()(this.values.password),repassword:q()(this.values.againpass)};this.axios.post("/api/v1/admin/user/pwdReset",e).then(function(t){0==t.data.code?alert("重置密码成功"):alert(t.data.msg)})}else this.$message("两次输入密码不相同")},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){this.dialogFormVisible1=!0,this.index1=t-0,console.log(t,this.index1)},del:function(t){var e=this,a=[];if(t)a.push(t);else{for(var n=this.$refs.icheck,i=0;i<n.length;i++)if(n[i].checked){var s=n[i].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/user/delRole",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],n=0;n<t.length;n++)if(t[n].checked){var i=t[n].value;console.log(i),e.push(i)}console.log(e);for(n=0;n<e.length;n++)this.tableData3.map(function(t,i){t.sort==e[n]&&a.push(t)});console.log(a);var s=this.thead;Ss.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form.unit_group=this.$refs.schoolcheck.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue),this.form.unit_group=this.$refs.schoolcheck1.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},reset:function(){},searchchange:function(){this.searchflag=!0},closesearch:function(){this.searchflag=!1}},components:{schoolcheck:W,headson:F.a,pagination:O.a}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"search"},[a("span",{staticClass:"iconfont icon-filter",on:{click:t.searchchange}},[t._v("筛选")]),t._v(" "),t.searchflag?a("ul",[a("li",[a("span",{staticClass:"el-icon-circle-close",on:{click:t.closesearch}}),t._v(" "),a("span",[t._v("范围:")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("姓名:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",id:"person"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}})])]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("router-link",{attrs:{to:"/admin/settingStudent?id="+e.id,tag:"a"}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"sizes, prev, pager, next",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("ul",[a("li",{staticClass:"zy1"},[a("span",[t._v("原位：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck11"})],1)]),t._v(" "),a("li",{staticClass:"zy2"},[a("span",[t._v("目标：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck22"})],1)])]),t._v(" "),t.submitflag?a("div",{staticClass:"submit",on:{click:t.changegroup}},[t._v("提交")]):a("div",{staticClass:"complet"},[t._v("操作完成")])]):a("li",{staticClass:"data3"},[a("div",{staticClass:"search"},[a("ul",[t._m(0),t._v(" "),a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1"})],1)]),t._v(" "),a("li",[a("span",{staticClass:"iconfont icon-sousuo",staticStyle:{},on:{click:t.checknode}})])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"}),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("router-link",{attrs:{to:"/admin/settingStudent?"+e.sort,tag:"a"}},[t._v(t._s(e.name))])],1),t._v(" "),a("td",[a("span",[t._v(t._s(e.sex))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.age))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.setting(e.id)}}},[t._v("重置密码")])]],2)])}),0)])]),t._v(" "),a("el-dialog",{attrs:{title:"密码编辑",visible:t.dialogFormVisible1,width:"85%"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"重设密码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",type:"password",placeholder:"英文大小写，数字，符号 4-20位"},model:{value:t.values.password,callback:function(e){t.$set(t.values,"password",e)},expression:"values.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",type:"password",placeholder:"英文大小写，数字，符号 4-20位"},model:{value:t.values.againpass,callback:function(e){t.$set(t.values,"againpass",e)},expression:"values.againpass"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.queding()}}},[t._v("确 定")])],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("密码重置")])])}]};var G=a("VU/8")(H,Y,!1,function(t){a("yk+g")},"data-v-2881cf95",null).exports,Z={data:function(){return{isbtnActive:!1,data2:[],defaultProps:{children:"item",label:"menu_name"},dialogFormVisible:!1,ichecks:[],isactive:"",page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},index1:"",addflag:!1,values:{value1:"",value2:""},thead:["序号","角色","ID"],tableData3:[]}},created:function(){this.getList(),console.log(this.index1)},methods:{getList:function(){var t=this;this.axios.get("/api/v1/admin/user/roleGroup").then(function(e){0==e.data.code?(e.data.data.map(function(t,e){if(0==t[status])return t}),t.tableData3=e.data.data):this.$message(e.data.msg);console.log(t.tableData3)}).catch(function(t){alert(t)}),this.countpage=Math.ceil(this.tableData3.length/this.pagesize)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},addnumber:function(){this.addflag=!0,console.log(this.addflag)},complete:function(){this.addflag=!1;var t=this;this.axios.post("/api/v1/admin/user/addRoleGroup",{title:this.values.value1}).then(function(e){console.log(e),0==e.data.code&&(t.$message("增加成功"),t.getList(),this.values.value1="")})},queding:function(t,e){console.log(t,e);var a=[];a.push(e.id),console.log(a);var n=this;this.axios.post("/api/v1/admin/user/editRoleGroup",{id:a,title:e.title,status:"1"}).then(function(t){console.log(t),0==t.data.code?(n.$message("编辑成功"),n.getList()):n.$message(t.data.msg)}),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t},del:function(t){var e=this,a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.get("/api/v1/admin/user/deleteRoleGroup?id="+t).then(function(t){0==t.data.code?(a.$message("删除成功"),a.getList()):a.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var n=t[a].value;console.log(n),e.push(n)}console.log(e)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},permission:function(){if(!1===Ss.actioncheck("permission"))return this.$message.error("错误提示。您没有该操作的权限"),!1;for(var t=this.$refs.icheck,e=0;e<t.length;e++)1==t[e].checked&&this.ichecks.push(t[e].value);if(console.log(this.ichecks),0==this.ichecks.length)alert("请至少选择一个角色");else{this.dialogFormVisible=!0;var a=this;this.axios.get("/api/v1/admin/rules").then(function(t){var e=t.data.data,n=a.copy(e,[]);a.data2=n})}},changecolor:function(t){this.isactive=t},colorcancel:function(){this.isactive=""},getCheckedNodes:function(){var t=[];if(this.$refs.tree.getCheckedNodes().concat(this.$refs.tree.getHalfCheckedNodes()).map(function(e){t.push(e.id)}),0!==t.length){var e=this;e.axios.post("/api/v1/admin/user/editRoleGroup",{id:e.ichecks,rules:t}).then(function(t){0==t.data.code?(e.$message("权限设置成功"),e.dialogFormVisible=!1):e.$message("权限提交失败")})}else this.$message("请为角色组选择权限或者取消")},copy:function(t,e){for(var a in t)if(e.push(t[a]),0!==t[a].items.length){var n=t[a].item=[];this.copy(t[a].items,n)}return e}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[t._v("\n                *\n              ")]),t._v(" "),a("td",[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.complete()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])],1)])]:t._e(),t._v(" "),t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive===n},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(n+1))]),t._v(" "),a("td",{staticClass:"class"},[n===t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}):a("span",[t._v(t._s(e.title))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])])])})],2)]),t._v(" "),a("el-dialog",{style:{},attrs:{title:"权限设置",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-tree",{ref:"tree",attrs:{data:t.data2,"show-checkbox":"","node-key":"id","highlight-current":"",props:t.defaultProps}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getCheckedNodes}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"prev, pager, next",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var J=a("VU/8")(Z,X,!1,function(t){a("eyv3")},"data-v-40ff416e",null).exports,Q={data:function(){return{isactive:"",index1:"",values:{value1:"",value2:"",value3:""},addflag:!1}},created:function(){},methods:{queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);t.checked=a},changecolor:function(t){console.log(t),this.isactive=t-0+1},colorcancel:function(){this.isactive=""},addnumber:function(){this.addflag=!this.addflag,console.log(this.addflag)}},props:["table"]},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.table.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.table.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()},click:function(a){t.setting(e.sort)}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.sort))]),t._v(" "),a("td",{staticClass:"class"},[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.class,expression:"item.class"}],attrs:{type:"text"},domProps:{value:e.class},on:{input:function(a){a.target.composing||t.$set(e,"class",a.target.value)}}}):a("router-link",{attrs:{to:"/admin/grade.vue/"+e.sort,tag:"a"}},[t._v(t._s(e.class))])],1),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ID,expression:"item.ID"}],attrs:{type:"text"},domProps:{value:e.ID},on:{input:function(a){a.target.composing||t.$set(e,"ID",a.target.value)}}}):a("span",[t._v(t._s(e.ID))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ID,expression:"item.ID"}],attrs:{type:"text"},domProps:{value:e.ID},on:{input:function(a){a.target.composing||t.$set(e,"ID",a.target.value)}}}):a("span",[t._v(t._s(e.ID))])]),t._v(" "),a("span",{staticClass:"posi"},[e.sort==t.index1?[a("span",{on:{click:function(a){a.stopPropagation(),t.queding(e.sort)}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(a){if(a.target!==a.currentTarget)return null;t.cancle(e.sort)}}},[t._v("取消")])]:t._e()],2)])}),t._v(" "),t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.table.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),a("span",{staticClass:"posi"},[a("span",{on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])])])]:t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var tt=a("VU/8")(Q,K,!1,function(t){a("4pPW")},"data-v-75366c4a",null).exports,et={data:function(){return{searchflag:!1,isbtnActive:!1,Groupid:"",group:"",isactive:"",index1:"",headson:["管理员列表","查询管理员列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},page:{currentPage:1,total:0,flag:!1,size:20},form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},thead:["id","工号","班级","姓名"],tableData3:[],dialogFormVisible:!1}},created:function(){this.getList(this.page.currentPage,this.page.size)},mounted:function(){},methods:{getList:function(t,e,a){var n=this;this.axios.post("/api/v1/admin/user/roles",{page:t,size:e,w:a}).then(function(t){if(console.log(t),0==t.data.code){var e=t.data.data.data;n.tableData3=e,n.page.total=t.data.data.total}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],n=0;n<t.length;n++)if(t[n].checked){var i=t[n].value;console.log(i),e.push(i)}console.log(e);for(n=0;n<e.length;n++)this.tableData3.map(function(t,i){t.id==e[n]&&a.push(t)});var s=this.thead;Ss.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form.unit_group=this.$refs.schoolcheck.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},baseinfo:function(t){var e;this.tableData3.map(function(a,n){a.id==t&&(e=a)});var a={ID:e.id,"工号":e.job_num,"姓名":e.name,"班级":e.unit_group,"手机":e.phone,"类型":e.auth_group_id,"登陆日期":e.last_login};this.$router.push({name:"详情数据",path:"/admin/setdatadetail",params:{detail:a}})},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1="",console.log(this.values.select)},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),console.log(this.values.select),this.$router.push({path:"/admin/setAdmin",query:{id:t}})},del:function(t){var e=this;console.log(t);var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/user/delRole",{id:[t]}).then(function(t){console.log(t),0==t.data.code?(a.getList(a.page.currentPage,a.page.size),a.$message("删除成功")):a.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var n=t[a].value;console.log(n),e.push(n)}console.log(e)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},searchchange:function(){this.searchflag=!0},closesearch:function(){this.searchflag=!1}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[a("span",{staticClass:"iconfont icon-filter",on:{click:t.searchchange}},[t._v("筛选")]),t._v(" "),t.searchflag?a("ul",[a("li",[a("span",{staticClass:"el-icon-circle-close",on:{click:t.closesearch}}),t._v(" "),a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("工号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.job_num,expression:"form.job_num"}],staticStyle:{height:"32px",width:"160px",border:"2px solid #e2e2e2"},attrs:{type:"number",placeholder:"请输入数量 不超过1000",min:"0",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.form.job_num},on:{input:function(e){e.target.composing||t.$set(t.form,"job_num",e.target.value)}}})]),t._v(" "),a("li",[a("span",[t._v("姓名：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",id:"person"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==n},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.id))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.job_num))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.baseinfo(e.id)}}},[t._v(t._s(e.name))])])])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"sizes, prev, pager, next",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("div")])},staticRenderFns:[]};var nt=a("VU/8")(et,at,!1,function(t){a("hBiN")},"data-v-a19c0cf2",null).exports,it={data:function(){return{isbtnActive:!1,cansee:!1,seeflag:!1,passworld:"",startId:"",number:"",isActive:1,shows:!1,filename:"选择文件",file:{uploadPercentage:0,uploadStatus:""},headson:["学生资料录入","录入学生个人资料"],filterText:"",defaultProps:{children:"children",label:"label",treeflag:!1},tabls:["手动导入","审核自助注册"],tabindex:1,page:{currentPage:1,countpage:"",total:0,size:"20"},isactive:"",index1:"",flag:!1,addflag:!1,values:{value1:"",value2:"",value3:"",value4:""},delId:"",dialogVisible:!1,thead:["学号","姓名","班级"],tableData3:[]}},watch:{filterText:function(t){this.$refs.tree2.filter(t),console.log(t)}},created:function(){this.getList(this.page.currentPage,this.page.size),console.log(this.$refs.schoolcheck1)},methods:{goaway:function(){for(var t=this,e=this.$refs.icheck,a=[],n=0;n<e.length;n++)if(e[n].checked){var i=e[n].value;console.log(i),a.push(i)}console.log(a),this.axios.post("/api/v1/admin/user/audit",{id:a}).then(function(e){0==e.data.code?(alert("审核成功"),t.getList(this.page.currentPage,this.page.size)):alert(e.data.msg)})},getList:function(t,e){var a=this;this.axios.post("/api/v1/admin/user/auditList",{page:t,size:e}).then(function(t){console.log(t),a.page.total=t.data.data.total;var e=t.data.data.unit_group;console.log(e);var n=t.data.data.list;a.tableData3=n;var i=a.NestedToFlat(e);n.map(function(t,e){return i.map(function(e,a){if(t.unit_group==e.id)return console.log(e.id),t.unit_group=e.name}),t.name||(t.name="null"),0==t.sex?t.sex="女":t.sex="男"}),console.log(n)})},NestedToFlat:function(t){var e=[];for(var a in t)e.push({id:t[a].id,name:t[a].name,pid:t[a].pid}),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentPage=t,console.log(this.page.size,this.page.currentPage),this.getList(this.page.currentPage,this.page.size)},tab:function(t){console.log(t),this.tabindex=t-0+1},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},showtree:function(){this.defaultProps.treeflag=!this.defaultProps.treeflag},upload:function(){var t=event.target.value;if(-1!=t.indexOf("xlsx")||-1!=t.indexOf("xls")){new FileReader;var e=this.$refs.myfile.files[0].name;this.filename=e}else alert("文件为空或者文件格式不是excel.请重新选择文件")},submit2:function(){this.shows=!0;var t=this,e=t.$refs.myfile.files[0],a=new FormData;a.append("file",e),console.log(e);var n={timeout:5e3,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=e.loaded/e.total*100;console.log(e),t.file.uploadPercentage=a}};e?t.axios.post("/api/v1/admin/user/upload",a,n).then(function(e){if(console.log(e,n,t.file),0==e.data.code){var a=e.data.data.file_name,i=e.data.data.suffix,s=t.$refs.schoolcheck.item.id;console.log(s),t.axios.post("/api/v1/admin/user/import",{file_name:a,suffix:i,unit_group:s,type:"3"}).then(function(e){console.log(e),0==e.data.code?alert("上传成功"):(t.filename="选择文件",t.file.uploadPercentage=0,t.$refs.myfile.value="",t.shows=!1,alert(e.data.msg))})}else t.filename="选择文件",t.file.uploadPercentage=0,t.$refs.myfile.value="",t.shows=!1,alert(e.data.msg);t.file.uploadStatus=2}).catch(function(e){console.log(e),t.file.uploadStatus=-1}):(this.$refs.myfile.value="",this.shows=!1,t.$message("请选择文件才提交"))},delfile:function(t){this.filename="选择文件",this.file.uploadPercentage=0,this.$refs.myfile.value="",this.shows=!1},see:function(){this.cansee=!this.cansee,console.log(this.passworld)},pass:function(t){console.log(t.target),"与学号相同"==t.target.value?(this.isActive=1,this.seeflag=!1):"手动填写"==t.target.value&&(this.isActive=2,this.seeflag=!0)},examine:function(){},addnumber:function(){this.addflag=!0,console.log(this.addflag)},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t},del:function(t){this.delId=t,this.dialogVisible=!0},delitem:function(){this.dialogVisible=!1,console.log(this.delId)},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var n=t[a].value;console.log(n),e.push(n)}console.log(e)},passes:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},newStudent:function(){var t=this,e={},a=this.$refs.schoolcheck1.item.id;this.number>=1e3&&(this.number=1e3,console.log(this.number)),1==this.isActive?(e.unit_group=a,e.job_num_start=this.startId,e.add_count=this.number):(e.unit_group=a,e.job_num_start=this.startId,e.add_count=this.number,e.password=q()(this.passworld)),this.axios.post("/api/v1/admin/user/addStudent",e).then(function(e){console.log(e),0==e.data.code?t.$message("手动导入成功"):t.$message(e.data.msg)})},baseinfo:function(t){var e;this.tableData3.map(function(a,n){a.id==t&&(e=a)});var a={"学号":e.job_num,"姓名":e.name,"性别":e.sex,"班级":e.unit_group,"手机":e.phone,"注册时间":e.create_time};this.$router.push({name:"详情数据",path:"/admin/setdatadetail",params:{detail:a}})}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("批量录入设置")]),t._v(" "),a("ul",{staticClass:"a1"},[a("li",[a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck1"})],1)]),t._v(" "),a("li",[a("span",[t._v("起始学号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startId,expression:"startId"}],attrs:{type:"number",placeholder:"请输入学号"},domProps:{value:t.startId},on:{input:function(e){e.target.composing||(t.startId=e.target.value)}}})]),t._v(" "),a("li",[a("span",[t._v("导入数量：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",placeholder:"请输入数量 不超过1000"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})]),t._v(" "),a("li",[a("span",[t._v("初始密码：")]),t._v(" "),a("input",{ref:"but",class:{inputActive:1==t.isActive},attrs:{type:"button",value:"与学号相同"},on:{click:t.pass}}),t._v(" "),a("input",{ref:"but",class:{inputActive:2==t.isActive},attrs:{type:"button",value:"手动填写"},on:{click:t.pass}}),t._v(" "),t.seeflag?[a("div",{staticClass:"eye"},[t.cansee?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passworld,expression:"passworld"}],attrs:{type:"text"},domProps:{value:t.passworld},on:{input:function(e){e.target.composing||(t.passworld=e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.passworld,expression:"passworld"}],attrs:{type:"password",placeholder:"请输入六位数字"},domProps:{value:t.passworld},on:{input:function(e){e.target.composing||(t.passworld=e.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-eyes",on:{click:t.see}})])]:t._e()],2),t._v(" "),a("li",{on:{click:t.newStudent}},[t._v("提交")])])]):5==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("ul",{staticClass:"a2"},[a("li",[a("span",[t._v("选择：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("上传：")]),t._v(" "),a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[t._v("\n            "+t._s(t.filename)+"\n            "),a("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[a("input",{ref:"myfile",staticClass:"upload",attrs:{type:"file",name:"myfile",id:"myfile"},on:{change:function(e){t.upload()}}}),t._v(" "),t.shows?a("div",{staticClass:"navbar"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.file.uploadPercentage}})],1):t._e()])])]),t._v(" "),a("li",{staticClass:"submit2",on:{click:t.submit2}},[t._v("\n          上传\n          "),a("span",{staticClass:"iconfont icon-trash",on:{click:function(e){return e.stopPropagation(),t.delfile(e)}}})])])]):a("li",{staticClass:"data3"},[a("ul",{staticClass:"working"},[a("li",{staticClass:"passes",class:{btnactive:t.isbtnActive},on:{click:t.goaway}},[t._v("通过审核")])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.job_num,expression:"item.job_num"}],attrs:{type:"text"},domProps:{value:e.job_num},on:{input:function(a){a.target.composing||t.$set(e,"job_num",a.target.value)}}}):a("span",[t._v(t._s(e.job_num))])]),t._v(" "),a("td",{staticClass:"class"},[e.id==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):t._e(),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.baseinfo(e.id)}}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[e.id==t.index1?a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1",refInFor:!0,staticClass:"school"})],1):a("span",[t._v(t._s(e.unit_group))])]),t._v(" "),a("td",[e.id==t.index1?[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])]:void 0],2)])}),t._v(" "),t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value4,expression:"values.value4"}],attrs:{type:"text"},domProps:{value:t.values.value4},on:{input:function(e){e.target.composing||t.$set(t.values,"value4",e.target.value)}}})]),t._v(" "),a("td",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])],1)])]:t._e()],2)]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("请问您确认要删除选中的审批吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.delitem}},[t._v("确 定")])],1)])],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var ot=a("VU/8")(it,st,!1,function(t){a("tqUv")},"data-v-0958d252",null).exports,lt={data:function(){return{newdata:{},id:this.$route.query.id}},created:function(){this.getpermission(),console.log(this.newdata,this.id)},mounted:function(){this.getpermission(),console.log(88,this.newdata,this.$route.query.id)},methods:{getpermission:function(){var t=this,e={};this.axios.get("/api/v1/admin/rules").then(function(a){var n=a.data.data;for(var i in console.log(n),n){var s=[],o=n[i].menu_name,l=n[i].items;0!==l.length?t.copy(l,s):(s.push(n[i]),console.log(1)),e[o]=s}t.newdata=e,console.log(t.newdata,o)})},copy:function(t,e){for(var a in t)e.push(t[a]),0!==t[a].items.length?this.copy(t[a].items,e):t[a]},setpermission:function(){for(var t=this,e=this.$refs.icheck,a=[],n=0;n<e.length;n++)e[n].checked&&a.push(e[n].value);console.log(a),t.axios.post("/api/v1/admin/user/editRoleGroup",{id:t.id,rules:a}).then(function(e){console.log(e),0==e.data.code?t.$message("权限设置成功"):t.$message("权限提交失败")})},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",console.log(event.target.parentNode)):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"a1"},[a("div",{staticClass:"set"},[a("span",{on:{click:t.getpermission}},[t._v("设定权限")])]),t._v(" "),a("div",{staticClass:"zhuyi"},[t._v("注意：当前设定的是管理员类型的权限，修改后所有属于这个类型的管理员权限将会被当前设置覆盖")]),t._v(" "),t._l(t.newdata,function(e,n,i){return a("div",{key:i,staticClass:"body"},[a("h2",[t._v(t._s(n))]),t._v(" "),t._l(e,function(e,n){return a("span",{key:n},[a("input",{ref:"icheck",refInFor:!0,attrs:{name:"right_61",type:"checkbox",checked:"checked"},domProps:{value:e.id},on:{click:t.icheck}}),t._v("\n      "+t._s(e.menu_name)+"\n    ")])})],2)}),t._v(" "),a("div",{staticClass:"sub",attrs:{align:"center"}},[a("label",[a("input",{ref:"allcheck",attrs:{type:"checkbox",id:"checkall",checked:"checked"},on:{click:t.allcheck}}),t._v("全选")]),t._v(" "),a("input",{attrs:{type:"submit",value:"提 交"},on:{click:t.setpermission}}),t._v(" "),a("a",{staticClass:"button",attrs:{href:"javascript:history.back()"}},[t._v("返 回")])])],2)},staticRenderFns:[]};var ct=a("VU/8")(lt,rt,!1,function(t){a("ge42")},"data-v-2de5a90a",null).exports,ut={data:function(){return{values:{account:"",password:"",job_num:"",name:"",sex:"",birth_date:"",id_card:"",phone:"",auth_group_id:"",unit_group:""},pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},group:"",groupId:"",shows:!1,filename:"选择文件",file:{uploadPercentage:0,uploadStatus:""},headson:["管理员资料录入","增加管理员个人资料"],tabls:["手动添加","从Excel导入"],tabindex:1}},watch:{},created:function(){console.log(this.$refs.schoolcheck1),this.setGroup()},methods:{getList:function(){},tab:function(t){console.log(t),this.tabindex=t-0+1},setGroup:function(){var t=this;this.axios.get("/api/v1/admin/user/roleGroup").then(function(e){var a=e.data.data;console.log(a),t.group=a}).catch(function(t){alert(t)})},upload:function(){var t=event.target.value;if(-1!=t.indexOf("xlsx")||-1!=t.indexOf("xls")){new FileReader;var e=this.$refs.myfile.files[0].name;console.log(e,this.$refs.myfile.value),this.filename=e}else alert("文件为空或者文件格式不是excel.请重新选择文件")},submit2:function(){this.shows=!0;var t=this,e=t.$refs.myfile.files[0];console.log(e);var a=new FormData;a.append("file",e);var n={timeout:5e3,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.lengthComputable){var a=e.loaded/e.total*100;console.log(a),t.file.uploadPercentage=a}}};e?t.axios.post("/api/v1/admin/user/upload",a,n).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data.file_name,n=e.data.data.suffix,i=t.$refs.schoolcheck.item.id;t.axios.post("/api/v1/admin/user/import",{file_name:a,suffix:n,type:"2",unit_group:i,auth_group_id:t.groupId}).then(function(e){0==e.data.code?t.$confirm("管理员增加成功, 是否返回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.go(-1)}).catch(function(){t.$message({type:"info",message:"取消返回"})}):t.$message(e.data.msg)})}else t.$message(e.data.code)}).catch(function(t){console.log(t)}):(this.filename="选择文件",this.$refs.myfile.value="",this.shows=!1,t.$message("请选择文件才提交"))},delfile:function(t){this.filename="选择文件",this.file.uploadPercentage=0,this.$refs.myfile.value="",this.shows=!1},newAdmin:function(){this.setGroup();var t=this,e=t.$refs.schoolcheck.item.id;this.values.unit_group=e,this.values.password=q()(this.values.password),console.log(this.values);var a={};for(var n in this.values)this.values[n]&&(a[n]=this.values[n]);console.log(a),t.axios.post("/api/v1/admin/user/addRole",a).then(function(e){console.log(e),0==e.data.code?t.$confirm("管理员增加成功, 是否返回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.go(-1)}).catch(function(){t.$message({type:"info",message:"取消返回"})}):t.$message(e.data.msg)}),console.log(this.values)},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("管理员录入")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",{},[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.account,expression:"values.account"}],attrs:{placeholder:"中英文，数字，下划线 4-20位"},domProps:{value:t.values.account},on:{input:function(e){e.target.composing||t.$set(t.values,"account",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.job_num,expression:"values.job_num"}],attrs:{type:"number",placeholder:"工号"},domProps:{value:t.values.job_num},on:{input:function(e){e.target.composing||t.$set(t.values,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.name,expression:"values.name"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.values.name},on:{input:function(e){e.target.composing||t.$set(t.values,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[a("input",{ref:"sex1",attrs:{type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",attrs:{name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.values.birth_date,callback:function(e){t.$set(t.values,"birth_date",e)},expression:"values.birth_date"}})],1)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.id_card,expression:"values.id_card"}],attrs:{type:"text",placeholder:"18位身份证号"},domProps:{value:t.values.id_card},on:{input:function(e){e.target.composing||t.$set(t.values,"id_card",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.phone,expression:"values.phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.values.phone},on:{input:function(e){e.target.composing||t.$set(t.values,"phone",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("管理员类型：")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.values.auth_group_id,expression:"values.auth_group_id"}],attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.values,"auth_group_id",e.target.multiple?a:a[0])}}},t._l(t.group,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("学校类别：")]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.values.auth_group_id,expression:"values.auth_group_id"}],attrs:{name:"",id:"",disabled:!0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.values,"auth_group_id",e.target.multiple?a:a[0])}}},t._l(t.group,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td",[t._v("管理员范围：")]),t._v(" "),a("td",[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"}),t._v(" "),a("span",[t._v("*")])],1),t._v(" "),a("span",[t._v("*")])])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),a("input",{staticClass:"add",attrs:{type:"button",value:"增加"},on:{click:t.newAdmin}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])])])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("ul",{staticClass:"a2"},[a("li",[a("span",[t._v("班级：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("类型：")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.groupId,expression:"groupId"}],attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.groupId=e.target.multiple?a:a[0]}}},t._l(t.group,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[a("span",[t._v("上传：")]),t._v(" "),a("a",{staticClass:"file",attrs:{href:"javascript:;"}},[t._v("\n            "+t._s(t.filename)+"\n            "),a("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[a("input",{ref:"myfile",staticClass:"upload",attrs:{type:"file",name:"myfile",id:"myfile"},on:{change:function(e){t.upload()}}}),t._v(" "),t.shows?a("div",{staticClass:"navbar"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.file.uploadPercentage}})],1):t._e()])])]),t._v(" "),a("li",{staticClass:"submit2",on:{click:t.submit2}},[t._v("\n          上传\n          "),a("span",{staticClass:"iconfont icon-trash delfile",on:{click:function(e){return e.stopPropagation(),t.delfile(e)}}})])])]):t._e()])])},staticRenderFns:[]};var ht=a("VU/8")(ut,dt,!1,function(t){a("Q8hc")},"data-v-d0d35e00",null).exports,mt={data:function(){return{isbtnActive:!1,searchflag:!1,Groupid:"",group:"",isactive:"",headson:["学生评价","学生评价信息"],filterText:"",defaultProps:{children:"children",label:"label",treeflag:!1},tabls:["成长档案"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},form:{job_num:"",phone:"",name:"",age:"",unit_group:"",sex:""},thead:["序号","学号","姓名","班级"],tableData3:[],submitflag:!0}},watch:{},created:function(){this.group=this.$store.state.adminGroup,this.getList(this.page.currentPage,this.page.size)},methods:{goreport:function(t){this.$router.push({path:"/admin/resports",query:{id:t}})},getList:function(t,e,a){var n=this;this.axios.post("/api/v1/admin/user/student/list",{page:t,size:e,w:a}).then(function(t){var e=t.data.data.data;e.map(function(t,e){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(a/8640);return t.age=n,0==t.sex?t.sex="女":t.sex="男"}),n.tableData3=e,console.log(e)}),this.page.countpage=Math.ceil(this.tableData3.length/this.page.pagesize)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},addnumber:function(){this.addflag=!0,console.log(this.addflag)},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){},handleDelAll:function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var n=t[a].value;console.log(n),e.push(n)}console.log(e)},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor="",t.checked=a},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],n=0;n<t.length;n++)if(t[n].checked){var i=t[n].value;console.log(i),e.push(i)}console.log(e);for(n=0;n<e.length;n++)this.tableData3.map(function(t,i){t.id==e[n]&&a.push(t)});var s=this.thead;Ss.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form.unit_group=this.$refs.schoolcheck.item.id-0,console.log(this.form);var t={};for(var e in this.form)this.form[e]&&(t[e]=this.form[e]);this.getList(this.page.currentPage,this.page.size,t)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},showtree:function(){this.defaultProps.treeflag=!this.defaultProps.treeflag},changecolor:function(t){console.log(t),this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue)},searchchange:function(){this.searchflag=!0},closesearch:function(){this.searchflag=!1}},components:{schoolcheck:W,headson:F.a,pagination:O.a}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[5==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"search"},[a("span",{staticClass:"iconfont icon-filter",on:{click:t.searchchange}},[t._v("筛选")]),t._v(" "),t.searchflag?a("ul",[a("li",[a("span",{staticClass:"el-icon-circle-close",on:{click:t.closesearch}}),t._v(" "),a("span",[t._v("范围:")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1"})],1)]),t._v(" "),a("li",[a("span",[t._v("姓名:")]),t._v(" "),a("el-select",{attrs:{name:"",id:"type"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.group,function(e,n){return a("el-option",{key:n,attrs:{value:e.title,selected:"selected"}},[t._v(t._s(e.title))])}),1)],1),t._v(" "),a("li",[a("span",[t._v("姓名:")]),t._v(" "),a("input",{attrs:{type:"text",value:"",id:"person"}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n            导出\n            "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("\n            删除\n            "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",[t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},click:function(a){t.setting(e.sort)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.sort))]),t._v(" "),a("td",{staticClass:"class"},[a("router-link",{style:{color:"blue"},attrs:{to:"/admin/comments?id="+e.sort,tag:"a"}},[t._v(t._s(e.b))])],1),t._v(" "),a("td",[a("span",[t._v(t._s(e.c))])]),t._v(" "),a("td",[e.sort==t.index1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.d,expression:"item.d"}],attrs:{type:"text"},domProps:{value:e.d},on:{input:function(a){a.target.composing||t.$set(e,"d",a.target.value)}}}):a("span",[t._v(t._s(e.d))])])])}),t._v(" "),t.addflag?[a("tr",[t._m(0),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(t.tableData3.length+1))]),t._v(" "),a("td",{staticClass:"class"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value1,expression:"values.value1"}],attrs:{type:"text"},domProps:{value:t.values.value1},on:{input:function(e){e.target.composing||t.$set(t.values,"value1",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value2,expression:"values.value2"}],attrs:{type:"text"},domProps:{value:t.values.value2},on:{input:function(e){e.target.composing||t.$set(t.values,"value2",e.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.value3,expression:"values.value3"}],attrs:{type:"text"},domProps:{value:t.values.value3},on:{input:function(e){e.target.composing||t.$set(t.values,"value3",e.target.value)}}})]),t._v(" "),[a("el-button",{attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.queding()}}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){e.stopPropagation(),t.cancle()}}},[t._v("取消")])]],2)]:t._e()],2)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]):a("li",{staticClass:"data3"},[a("div",{staticClass:"search"},[a("span",{staticClass:"iconfont icon-filter",on:{click:t.searchchange}},[t._v("筛选")]),t._v(" "),t.searchflag?a("ul",[a("li",[a("span",{staticClass:"el-icon-circle-close",on:{click:t.closesearch}}),t._v(" "),a("span",[t._v("范围：")]),t._v(" "),a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck"})],1)]),t._v(" "),a("li",[a("span",[t._v("姓名:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{type:"text",id:"person"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.sort},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",[a("span",[t._v(t._s(e.id))])]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.job_num))]),t._v(" "),a("td",{staticClass:"class"},[a("span",{staticStyle:{color:"#169bd5",cursor:"pointer"},on:{click:function(a){t.goreport(e.id)}}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.unit_group_name))])]),t._v(" "),a("td",[void 0],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, pager, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{align:"center"}},[e("input",{staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"}})])}]};var ft=a("VU/8")(mt,pt,!1,function(t){a("j9SJ")},"data-v-215b17bc",null).exports,gt={data:function(){return{headson:["学生评价","记录学生的点点滴滴"],value2:!0}},created:function(){console.log(this.$route.query.id)},methods:{name:function(){}},components:{headson:F.a}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",[a("div",[t._m(0),t._v(" "),a("div",{staticClass:"recomm"},[t._v("修改评价")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"comments"},[t._v("\n        学生评价内容\n        ")]),t._v(" "),a("div",[a("ul",{staticClass:"commcz"},[a("li",[t._v("允许学生查看"),a("el-switch",{attrs:{"active-color":"#13ce66","active-text":"on",width:50,"inactive-color":"#ff4949"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),a("li",[t._v("提交")]),t._v(" "),a("li",[t._v("取消")])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"comm1"},[a("li",[t._v("学号：2220140063")]),t._v(" "),a("li",[t._v("姓名：诸葛亮")]),t._v(" "),a("li",[t._v("性别：男")]),t._v(" "),a("li",[t._v("年龄：16")]),t._v(" "),a("li",[t._v("个人资料")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type"},[a("span",[t._v("类型：")]),t._v(" "),a("select",{attrs:{name:"",id:""}},[a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("13")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("24")])])])}]};var _t=a("VU/8")(gt,vt,!1,function(t){a("xuGA")},"data-v-07ccd147",null).exports,bt=a("PJh5"),yt=a.n(bt),xt={data:function(){return{type:[],checkAll:!1,isIndeterminate:!0,checked:[],headson:["学生个人档案","个人档案资料导出记录"],group:[{type:1,name:"留言"},{type:2,name:"咨询"},{type:3,name:"访谈"},{type:4,name:"测评"}],activities:[],activities1:[],useid:this.$route.query.id,alldata:[]}},created:function(){console.log(this.checked),this.messages()},methods:{alldata1:function(){},messages:function(){var t=this,e=this;this.axios.get("/api/v1/admin/message/listByUID?uid="+this.useid).then(function(a){var n=a.data.data;n.map(function(t,a){t.types=1,t.timestamp=t.create_time,e.alldata.push(t)}),console.log(n),t.axios.get("/api/v1/admin/counsel/getClientListByUID?uid="+t.useid).then(function(a){console.log(a);var n=a.data.data;n.map(function(t,a){t.types=2,t.timestamp=t.start_time,e.alldata.push(t)}),console.log(n),t.axios.get("/api/v1/admin/coach/listByUID?uid="+t.useid).then(function(t){console.log(t),t.data.data.map(function(t,a){switch(t.types=3,t.timestamp=t.start_time,t.proc_idea-0){case 0:t.proc_idea="无";break;case 1:t.proc_idea="无须干预";break;case 2:t.proc_idea="预约面询";break;case 3:t.proc_idea="危机干预";break;case 4:t.proc_idea="联系领导";break;case 5:t.proc_idea="跟踪随访"}e.alldata.push(t)}),e.getscale(e.useid)})})})},getscale:function(t){var e=this;this.axios.post("/api/v1/admin/scale/getTestResultList",{page:1,size:60,w:{uid:t}}).then(function(t){0==t.data.code&&(t.data.data.list.map(function(t,a){if(t.types=4,t.timestamp=t.start_test_time,t.birth_date){var n=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(n/8640);console.log(i),t.age=i}else t.age="null";t.times=yt()(yt()(t.end_test_time)-yt()(t.start_test_time)).format("HH:mm:ss"),0==t.sex?t.sex="女":t.sex="男",0==t.valid?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查",e.alldata.push(t)}),console.log(e.alldata),e.alldata=e.sortDataArray(e.alldata),e.alldata.map(function(t,a){t.idnumber=a+1,e.checked.push(t.idnumber)}),e.activities=e.alldata,e.activities1=e.alldata,localStorage.setItem("alldata",c()(e.alldata)))})},sortDataArray:function(t){return t.sort(function(t,e){return Date.parse(e.timestamp)-Date.parse(t.timestamp)})},zixun:function(){this.axios.get("/api/v1/admin/counsel/getClientListByUID?uid="+this.useid).then(function(t){console.log(t)})},fangtan:function(){this.axios.get("/api/v1/admin/coach/listByUID?uid=="+this.useid).then(function(t){console.log(t)})},cepin:function(){},getlist:function(){var t=this.type,e=[];this.activities1.map(function(a,n){t.map(function(t){a.types==t&&e.push(a),console.log(a,t)})}),this.activities=e,console.log(e,t),this.handleCheckAllChange()},handleCheckAllChange:function(t){var e=this;this.checked?(this.checked=[],this.activities.map(function(t,a){e.checked.push(t.idnumber)})):this.checked=[],console.log(t,this.checked),this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(t);var e=t.length;this.checkAll=e===this.activities.length,this.isIndeterminate=e>0&&e<this.activities.length},archive:function(){localStorage.setItem("checked",c()(this.checked)),this.$router.push({path:"/student/archives",query:{useid:this.useid}})},changefun:function(){console.log(this.type),this.getlist()}},components:{headson:F.a}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("el-checkbox-group",{on:{change:function(e){t.changefun()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.group,function(e,n){return a("el-checkbox-button",{key:n,attrs:{label:e.type}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("li")])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"block"},[a("el-timeline",[a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.activities,function(e,n){return a("el-timeline-item",{key:n,attrs:{placement:"top",color:"#C0D3E1",size:"large",icon:"el-icon-more",type:"primary",timestamp:e.timestamp}},[a("el-card",{class:{aClass:1==e.types,bClass:2==e.types,mClass:3==e.types,nClass:4==e.types}},[a("el-checkbox",{key:e.id,attrs:{label:e.idnumber}},[a("h4",[t._v(t._s(e.timestamp))]),t._v(" "),1==e.types?a("p",[t._v("留言内容："+t._s(e.content))]):2==e.types?a("p",[t._v("咨询内容："+t._s(e.problem))]):3==e.types?a("p",[t._v("访谈干预内容："+t._s(e.proc_idea))]):t._e(),t._v(" "),4==e.types?a("p",[t._v("测评量表"+t._s(e.scale_name))]):t._e()])],1)],1)}),1)],1)],1)]),t._v(" "),a("div")])},staticRenderFns:[]};var kt=a("VU/8")(xt,wt,!1,function(t){a("sHYe")},"data-v-921d524e",null).exports,Ct={data:function(){return{save:!0,id:this.$route.query.id,detail:"",user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},option:{imgsrc:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4],infoTrue:!0},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",job_num:"",name:"",sex:"",birth_day:"",id_card:"",phone:"",unit_group:"",enrollment:"",nation:"",email:"",address:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["学生资料修改","修改学生个人资料"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),this.baseinfo(this.id),console.log(this.$refs.schoolcheck1)},methods:{getList:function(){this.axios.post("/api/v1/admin/user/detail")},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,n=t.data.data.unit_group_data,i=[];for(var s in n)i.push(n[s]);n=Ss.NestedToFlat(i),console.log(n),n.map(function(t,n){if(t.id==a.unit_group)return e.gradename=t.name,a.unit_group=t.name}),e.values.sex=a.sex,console.log(a),e.detail=a})},setstudent:function(){this.values.password,this.values.job_num=this.detail.job_num,this.values.name=this.detail.name,this.values.sex,this.values.birth_day=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.unit_group=this.detail.unit_group,this.values.enrollment=this.detail.enrollment,this.values.nation=this.detail.nation,this.values.email=this.detail.email,this.values.address=this.detail.address,this.$refs.schoolcheck.item&&(this.values.unit_group=this.$refs.schoolcheck.item.id);console.log(this.values),this.values.password&&this.values.job_num&&this.values.unit_group?this.axios.post("/api/v1/admin/user/editUser?id="+this.id,this.values).then(function(t){console.log(t)}):this.$message("密码或者工号或者班级一定不为空值")},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(!(a.size/1024<200))return this.$message.error("上传文件大小不能超过 200k!"),!1;if(window.FileReader){var n=new FileReader;n.readAsDataURL(a),n.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop(),t.cropper=!1})},saves:function(){this.save=!1}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a,VueCropper:x.VueCropper}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("学生资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.id))])])]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.account))])])]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.job_num,expression:"detail.job_num"}],attrs:{type:"text",placeholder:"学号",disabled:""},domProps:{value:t.detail.job_num},on:{input:function(e){e.target.composing||t.$set(t.detail,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名",disabled:""},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{disabled:"",type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{disabled:"",name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{disabled:"",align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号",disabled:""},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:""},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("班级组别：")]),t._v(" "),a("td",[[a("div",{staticClass:"schoolcheck"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gradename,expression:"gradename"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:""},domProps:{value:t.gradename},on:{input:function(e){e.target.composing||(t.gradename=e.target.value)}}}),t._v(" "),a("span",[t._v("*")])])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("学级：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.enrollment,expression:"detail.enrollment"}],attrs:{type:"text",placeholder:"请输入学级",disabled:""},domProps:{value:t.detail.enrollment},on:{input:function(e){e.target.composing||t.$set(t.detail,"enrollment",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("名族：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.nation,expression:"detail.nation"}],attrs:{type:"text",placeholder:"请输入名族",disabled:""},domProps:{value:t.detail.nation},on:{input:function(e){e.target.composing||t.$set(t.detail,"nation",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("邮箱：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.email,expression:"detail.email"}],attrs:{type:"text",placeholder:"请输入邮箱",disabled:""},domProps:{value:t.detail.email},on:{input:function(e){e.target.composing||t.$set(t.detail,"email",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("住址：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.address,expression:"detail.address"}],attrs:{type:"text",placeholder:"请输入住址",disabled:""},domProps:{value:t.detail.address},on:{input:function(e){e.target.composing||t.$set(t.detail,"address",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("div",{staticClass:"a2"},[a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.nation,expression:"user_ext['nation']"}],staticClass:"text",attrs:{type:"text",name:"q_1"},domProps:{value:t.user_ext.nation},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"nation",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_age,expression:"user_ext['father_age']"}],staticClass:"text",attrs:{type:"text",name:"q_2"},domProps:{value:t.user_ext.father_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_job,expression:"user_ext['father_job']"}],staticClass:"text",attrs:{type:"text",name:"q_3"},domProps:{value:t.user_ext.father_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_die_age,expression:"user_ext['father_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_4"},domProps:{value:t.user_ext.father_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_age,expression:"user_ext['mother_age']"}],staticClass:"text",attrs:{type:"text",name:"q_5"},domProps:{value:t.user_ext.mother_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_job,expression:"user_ext['mother_job']"}],staticClass:"text",attrs:{type:"text",name:"q_6"},domProps:{value:t.user_ext.mother_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_die_age,expression:"user_ext['mother_die_age']"}],staticClass:"text",attrs:{type:"text",name:"q_7"},domProps:{value:t.user_ext.mother_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.parent_marriage_status,callback:function(e){t.$set(t.user_ext,"parent_marriage_status",e)},expression:"user_ext['parent_marriage_status']"}},[a("el-radio",{attrs:{label:1}},[t._v("良好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("离异")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.parent_divorced_age,expression:"user_ext['parent_divorced_age']"}],staticClass:"text",attrs:{type:"text",name:"q_9"},domProps:{value:t.user_ext.parent_divorced_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"parent_divorced_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.foster_flag,callback:function(e){t.$set(t.user_ext,"foster_flag",e)},expression:"user_ext['foster_flag']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.foster_age,expression:"user_ext['foster_age']"}],staticClass:"text",attrs:{type:"text",name:"q_11"},domProps:{value:t.user_ext.foster_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"foster_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.stu_type,callback:function(e){t.$set(t.user_ext,"stu_type",e)},expression:"user_ext['stu_type']"}},[a("el-radio",{attrs:{label:1}},[t._v("农村")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("城市")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("城镇")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("留学生")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.only_child,callback:function(e){t.$set(t.user_ext,"only_child",e)},expression:"user_ext['only_child']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.economy,callback:function(e){t.$set(t.user_ext,"economy",e)},expression:"user_ext['economy']"}},[a("el-radio",{attrs:{label:1}},[t._v("困难")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不困难")])],1)],1)])])])]),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})])]):t._e()])])},staticRenderFns:[]};var zt=a("VU/8")(Ct,$t,!1,function(t){a("24Rq")},"data-v-6dbe276a",null).exports,St={data:function(){return{save:!0,id:this.$route.query.id,detail:"",status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",job_num:"",name:"",sex:"",birth_day:"",id_card:"",phone:"",except:"",unit_group:"",nation:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["管理员资料修改","修改管理员资料"],tabls:["基本信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),console.log(this.$refs.schoolcheck1),this.baseinfo(this.id)},methods:{getList:function(){},tab:function(t){this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.post("/api/v1/admin/user/detail",{uid:t}).then(function(t){console.log(t);var a=t.data.data.detail_data,n=t.data.data.unit_group_data,i=[];for(var s in n)i.push(n[s]);n=Ss.NestedToFlat(i),console.log(n),n.map(function(t,n){t.id!=a.unit_group||(e.gradename=t.name)}),0==a.sex?e.values.sex=0:e.values.sex=1,console.log(a),e.detail=a})},setadmin:function(){this.values.password,this.values.job_num=this.detail.job_num,this.values.name=this.detail.name,this.values.sex,this.values.birth_day=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.except=this.detail.auth_group_id,this.values.nation=this.detail.nation,this.values.unit_group=this.detail.unit_group,this.$refs.schoolcheck.item&&(this.values.unit_group=this.$refs.schoolcheck.item.id);console.log(this.values),this.values.password&&this.values.job_num&&this.values.unit_group?this.axios.post("/api/v1/admin/user/editUser?id="+this.id,this.values).then(function(t){console.log(t)}):this.$message("密码或者工号或者班级一定不为空值")},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=1,console.log(this.values.sex,this.values.group)):this.values.sex=0,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a,VueCropper:x.VueCropper}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("修改管理员资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.id))])])]),t._v(" "),a("tr",[a("td",[t._v("账号：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.account))])])]),t._v(" "),a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("工号：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.job_num,expression:"detail.job_num"}],attrs:{type:"text",placeholder:"学号"},domProps:{value:t.detail.job_num},on:{input:function(e){e.target.composing||t.$set(t.detail,"job_num",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{type:"button",name:"sex1",value:"男"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{name:"sex2",type:"button",value:"女"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号"},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("管理范围：")]),t._v(" "),a("td",[[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck",attrs:{inputName:t.gradename}}),t._v(" "),a("span",[t._v("*")])],1)]],2)]),t._v(" "),a("tr",{staticClass:"rolegroup"},[a("td",[t._v("角色类型：")]),t._v(" "),a("td",[[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.detail.auth_group_id,callback:function(e){t.$set(t.detail,"auth_group_id",e)},expression:"detail.auth_group_id"}},t._l(t.$store.state.adminGroup,function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}),1),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("名族：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.nation,expression:"detail.nation"}],attrs:{type:"text",placeholder:"请输入名族"},domProps:{value:t.detail.nation},on:{input:function(e){e.target.composing||t.$set(t.detail,"nation",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),a("input",{staticClass:"add",attrs:{type:"button",value:"保存"},on:{click:t.setadmin}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]):t._e()])])},staticRenderFns:[]};var Dt=a("VU/8")(St,Ft,!1,function(t){a("5ehE")},"data-v-281e9694",null).exports,At={data:function(){return{id:this.$route.params.id,newsinfo:{}}},created:function(){this.getNewsInfo(),console.log(this.$route.matched)},methods:{getNewsInfo:function(){var t=this;this.$http.get("/api/getnew/"+this.id).then(function(e){0===e.body.status?t.newsinfo=e.body.message[0]:Toast("获取新闻失败！")})}}},Et={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n4\n    ")])},staticRenderFns:[]};var Vt=a("VU/8")(At,Et,!1,function(t){a("h+in")},"data-v-14974f3c",null).exports,Lt={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["学校管理"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"孟凡",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"学校名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"学校简介"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"学校添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"学校管理编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学校名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学校简介","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var It=a("VU/8")(Lt,Tt,!1,function(t){a("zkvg")},"data-v-4cf7defe",null).exports,Rt={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["沙盘游戏数据"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a,pagination:O.a}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Pt=a("VU/8")(Rt,jt,!1,function(t){a("37r8")},"data-v-52b781f8",null).exports,Wt={data:function(){return{headson:["沙盘组内文件"],isbtnActive:!1,fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/file/list",{page:t,size:e,sid:a.id}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)}),this.page.countpage=Math.ceil(this.tableData.length/this.page.pagesize)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/json;charset=utf-8;application/vnd.ms-office"},responseType:"blob"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download?id="+e[a],{},t).then(function(t){var e=new Blob([t.data],{type:"application/actet-stream;charset=utf-8"}),a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var n=t.data.upload_path,i=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:i,cache_path:n}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move?id="+this.fileId+"&sid="+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:F.a,pagination:O.a}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Ut=a("VU/8")(Wt,Nt,!1,function(t){a("iuUh")},"data-v-1b1f5604",null).exports,Bt={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{id:"",name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["VR游戏数据"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/vr/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/vrdata/vrdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];if(e)n.push(e.id);else{if(0===this.multipleSelection.length)return void this.$message("请至少选中选一项");this.multipleSelection.map(function(t){n.push(t.id)})}var i=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/vr/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/vr/group/add",{job_num:t.form.id}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a,pagination:O.a}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"学生姓名"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_group_name",label:"所属组别"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"学号添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Mt=a("VU/8")(Bt,Ot,!1,function(t){a("I62t")},"data-v-5dc8e3d8",null).exports,qt={data:function(){return{isbtnActive:!1,headson:["VR组内文件"],fileList:[],dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",tableData:[],page:{currentpage:1,countpage:0,pagesize:20,flag:!1},multipleSelection:[]}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/vr/report/list",{page:t,size:e,group_id:this.$route.query.id}).then(function(t){console.log(t),0==t.data.code?(a.tableData=t.data.data.list,a.page.countpage=t.data.data.total):a.$message(t.data.msg)})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleDownload:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");for(var n={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"},i=0;i<a.length;i++)this.axios.post("/api/v1/admin/vr/report/download/"+a[i],{id:a},n).then(function(t){var e=new Blob([t.data],{type:"application/msword"}),a=URL.createObjectURL(e);window.location.href=a})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/vr/report/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return console.log(t),"docx"===e[1]||"doc"===e[1]?t:(this.$message.error("上传文件只能是 word文档"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){var n=this,i=t.data.upload_path,s=(t.data.suffix,e.name);console.log(s),n.axios.post("/api/v1/admin/vr/report/add",{group_id:this.$route.query.id,save_name:s,cache_path:i}).then(function(t){console.log(t),0==t.data.code?(n.getlist(n.page.currentpage,n.page.pagesize),n.$message("增加文件成功")):n.$message(t.data.msg)})}},components:{headson:F.a,pagination:O.a}},Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"vr_name",label:"文件名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleDownload(e.$index,e.row)}}},[t._v("下载")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/vr/report/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传word文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Yt=a("VU/8")(qt,Ht,!1,function(t){a("OE/Q")},"data-v-b350e13c",null).exports,Gt={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["身心反馈"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"孟凡",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/Coachdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"身心反馈添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"身心反馈名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"身心反馈编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"身心反馈名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Xt=a("VU/8")(Gt,Zt,!1,function(t){a("50Ze")},"data-v-363c5f95",null).exports,Jt={data:function(){return{headson:["身心反馈组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"孟凡.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var n=t.data.upload_path,i=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:i,cache_path:n}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:F.a}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Kt=a("VU/8")(Jt,Qt,!1,function(t){a("2HLi")},"data-v-5c5cf68f",null).exports,te={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["身心放松组数据"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"孟凡",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/feedbackdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"放松组添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"放松组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"放松组编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"放松组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ae=a("VU/8")(te,ee,!1,function(t){a("JsJn")},"data-v-24444861",null).exports,ne={data:function(){return{headson:["沙盘组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"孟凡.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var n=t.data.upload_path,i=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:i,cache_path:n}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:F.a}},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var se=a("VU/8")(ne,ie,!1,function(t){a("mQb5")},"data-v-cfaebf9a",null).exports,oe={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["团体辅导数据"],tableData:[],data:[{create_time:"2019-04-24",id:12,last_upload_time:"2019-04-24",name:"李静",unit_name:"展会演示中学"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.data},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/data/relexdetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data vrdata"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"unit_name",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_upload_time",sortable:"",label:"最近上传"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"团体辅导添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"团体辅导组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"团体辅导编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"团体辅导名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var re=a("VU/8")(oe,le,!1,function(t){a("qqTw")},"data-v-4dbb8cce",null).exports,ce={data:function(){return{headson:["放松组内文件"],fileList:[],id:this.$route.query.id,elfileId:"",dialogFormVisible:!1,dialogVisible1:!1,tableData:[],data:[{id:1,job_num:2,name:"徐媛",sand_file_name:"李静.xlsx",upload_time:"2019-04-24 18:51:15"}],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},multipleSelection:[],value4:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.$store.commit("sandgroup")},methods:{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t},handleEdit:function(t,e){console.log(t,e),this.dialogVisible1=!0,this.fileId=e.id},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleDelete:function(t,e){console.log(t,e)},getlist:function(t,e){this.tableData=this.data},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleDownload:function(){var t={timeout:5e3,headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"};if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.map(function(t){e.push(t.id)});for(var a=0;a<e.length;a++)this.axios.post("/api/v1/admin/sand/file/download/"+e[a],t).then(function(t){var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(t);var a=URL.createObjectURL(e);window.location.href=a})}else this.$message("请选择导出文件选项")},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/admin/sand/file/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getlist(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},addnumber:function(){this.dialogFormVisible=!0},beforeAvatarUpload:function(t){var e=t.name.split(".");return"xls"===e[1]||"xlsx"===e[1]?t:(this.$message.error("上传文件只能是 xls/xlsx 格式!"),!1)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},submitUpload:function(){this.$refs.upload.submit()},progress:function(t,e,a){console.log(t,e,a)},error:function(t){},success:function(t,e,a){if(0==t.code){var n=t.data.upload_path,i=(t.data.suffix,e.name),s=this;this.axios.post("/api/v1/admin/sand/file/add",{sand_group_id:s.id,save_name:i,cache_path:n}).then(function(t){console.log(t),0==t.data.code?(s.getlist(s.page.currentpage,s.page.pagesize),s.$message("增加文件成功")):s.$message(t.data.msg)})}else this.$message(t.msg);console.log(t,e,a)},removeExcel:function(){this.dialogVisible1=!1;var t=this;this.elfileId?this.axios.post("/api/v1/admin/sand/file/move/"+this.fileId+"/"+this.elfileId).then(function(e){0==e.data.code?(t.getlist(t.page.currentpage,t.page.pagesize),t.$message("移动成功")):t.$message(e.data.code)}).catch(function(e){t.$message(e)}):this.$message("请选择转移的沙盘组别")},changevalue:function(t){var e=this;e.$store.state.sandgroups.map(function(a){a.name==t&&(e.elfileId=a.id)})}},components:{headson:F.a}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",{staticClass:"work"},[a("span",{staticClass:"export",on:{click:t.handleDownload}},[t._v("\n        导出\n        "),a("i",{staticClass:"iconfont icon-daochu1"})]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelAll}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})]),t._v(" "),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("返回")])]),t._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sand_file_name",label:"报告名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"上传者工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"上传者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upload_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("移动")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"上传文件",visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/v1/admin/sand/file/upload",headers:{"X-Token":this.$store.state.token},"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"before-upload":t.beforeAvatarUpload,"on-success":t.success,"on-error":t.error,"on-progress":t.progress,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xsl/xslx文件，且不超过500kb")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传文件")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"移动",visible:t.dialogVisible1,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("input",{style:{width:"210px",height:"38px","margin-right":"10px"},attrs:{type:"button",value:this.$route.query.name}}),t._v(" "),a("span",[t._v("转移")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.removeExcel}},[t._v("转移")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",[this._v("关键字")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var de=a("VU/8")(ce,ue,!1,function(t){a("MX0Y")},"data-v-18bfdead",null).exports,he={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],thead:["序号"],tableData:[{id:"\t近期失眠",name:"任彦达",amount1:"2019.3.20",amount3:"2019-4-31",amount2:10},{id:"\t学习问题",name:"李艳",amount1:"2017-12-25",amount3:"2019-04-31",amount2:10}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},handleDownload:function(){var t=this.multipleSelection,e=this.thead;Ss.handleDownload(e,["id"],t)}},components:{headson:F.a,pagination:O.a}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del"},[t._v("\n        浏览档案\n      ")]),t._v(" "),a("span",{staticClass:"export",class:{btnactive:t.isbtnActive},on:{click:t.handleDownload}},[t._v("\n          导出\n          "),a("i",{staticClass:"iconfont icon-daochu1"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount1",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount2",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"咨询问题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"描述"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"问题留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("学生信息:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var pe=a("VU/8")(he,me,!1,function(t){a("a1/t")},"data-v-f1fbdd0e",null).exports,fe={data:function(){return{dialogVisible:!1,headson:["咨询中心月报表","咨询中心咨询情况统计记录"],tabls:["总体情况统计","咨询情况汇总"],tabindex:1}},mounted:function(){this.draw()},methods:{tab:function(t){console.log(t),this.tabindex=t-0+1,2==this.tabindex&&this.chart2()},draw:function(){var t=this.$refs.chart;this.myChart=this.$echarts.init(t);var e=this;this.myChart.setOption({title:{text:"总体情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["访谈统计","个案追踪","会商","咨询记录统计"]},series:[{name:"比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"访谈统计"},{value:310,name:"个案追踪"},{value:234,name:"会商"},{value:135,name:"咨询记录统计"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),this.myChart.resize(),this.myChart.on("click",function(t){console.log(t),e.dialogVisible=!0,setTimeout(function(){e.getdata()},500)})},getdata:function(){var t=this.$refs.detaildata;console.log(t),this.myChart=this.$echarts.init(t);var e={color:["#3398DB"],title:{text:"总体情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["学业问题","恋爱关系","人际交往","职业发展","情绪问题","身体躯病","师生关系"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"直接访问",type:"bar",label:{normal:{show:!0,textBorderColor:"fff",textBorderWidth:2}},barWidth:"50%",data:[10,52,200,334,390,330,220]}]};this.myChart.setOption(e),this.myChart.resize()},chart2:function(){var t=this.$refs.chart2;this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"咨询中心情况统计",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["大一","大二","大三","大四"]},series:[{name:"比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"大一"},{value:310,name:"大二"},{value:234,name:"大三"},{value:135,name:"大四"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),this.myChart.resize()}},components:{headson:F.a}},ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",{staticClass:"data"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1==t.tabindex,expression:"tabindex==1"}],staticClass:"data1"},[a("div",{ref:"chart",staticClass:"chart"}),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"700px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{ref:"detaildata",staticClass:"detail"}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:2==t.tabindex,expression:"tabindex==2"}],staticClass:"data2"},[a("div",{ref:"chart2",staticClass:"chart2"})])])],1)},staticRenderFns:[]};var ve=a("VU/8")(fe,ge,!1,function(t){a("+mHE")},"data-v-d962055a",null).exports,_e={data:function(){return{isbtnActive:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],thead:["序号"],tableData:[{id:"\t近期失眠",name:"任彦达",amount1:"2019.3.20",amount3:"2019-4-31",amount2:10},{id:"\t学习问题",name:"李艳",amount1:"2017-12-25",amount3:"2019-04-31",amount2:10}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},handleDownload:function(){var t=this.multipleSelection,e=this.thead;Ss.handleDownload(e,["id"],t)}},components:{headson:F.a,pagination:O.a}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          人员范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          人员类型：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount1",label:"事件"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount2",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"IP"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount3",label:"描述"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"问题留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"标题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ye,xe=a("VU/8")(_e,be,!1,function(t){a("s1w8")},"data-v-4f9ceca7",null).exports,we={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form1:{name:"",desc:"",sort:""},form:{id:"",name:"",desc:"",sort:""},formLabelWidth:"120px",page:{currentPage:1,countpage:0,pagesize:10,flag:!1},headson:["网站栏目列表","栏目列表情况"],tableData:[],currentRow:null}},created:function(){this.getlist(this.page.currentPage,this.page.pagesize)},methods:(ye={getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/article/column/list",{page:t,size:e}).then(function(n){0==n.data.code?(a.page.countpage=n.data.data.total,a.tableData=n.data.data.list,a.tableData.map(function(a,n){a.sort=(t-1)*e+(n+1)})):a.$message(n.data.msg)})},handleCurrentChange:function(t){this.currentRow=t,console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentPage,this.page.pagesize)}},v()(ye,"handleCurrentChange",function(t){console.log("当前页: "+t),this.page.currentPage=t,this.getlist(this.page.currentPage,this.page.pagesize)}),v()(ye,"del",function(t,e){var a=this,n=[];e&&n.push(e.id);var i=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/article/column/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentPage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}),v()(ye,"handleEdit",function(t,e){this.dialogFormVisible=!0,this.form.id=e.id,this.form.name=e.name,this.form.desc=e.desc,this.form.sort=e.sort}),v()(ye,"add",function(){this.dialogFormVisible1=!1;var t=this;this.form1.name&&this.form1.name.length>=4?this.axios.post("/api/v1/admin/article/column/add",{name:this.form1.name,desc:this.form1.desc,sort:this.form1.sort}).then(function(e){0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentPage,t.page.pagesize)):t.$message(e.data.msg)}):t.$message("请填栏目名称或者名称字符长度至少为4")}),v()(ye,"editSure",function(){var t=this;t.axios.post("/api/v1/admin/article/column/edit",{id:this.form.id,name:this.form.name,desc:this.form.desc,sort:this.form.sort}).then(function(e){0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentPage,t.page.pagesize)):t.$message(e.data.msg)})}),ye),components:{headson:F.a}},ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"栏目名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"desc",label:"栏目描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",[a("div",{staticClass:"add",on:{click:function(e){t.dialogFormVisible1=!0}}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"栏目增加",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.sort,callback:function(e){t.$set(t.form1,"sort",e)},expression:"form1.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.desc,callback:function(e){t.$set(t.form1,"desc",e)},expression:"form1.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.add()}}},[t._v("新增")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"栏目编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"栏目描述","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editSure()}}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var Ce=a("VU/8")(we,ke,!1,function(t){a("wJwX")},"data-v-5d31a20a",null).exports,$e=a("sYY+"),ze=a.n($e),Se={data:function(){return{isbtnActive:!1,Groupid:"",group:"",index1:"",headson:["文章列表","获取文章列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},page:{currentPage:1,countpage:0,pagesize:10,flag:!1},tableData:[],multipleSelection:[],dialogFormVisible:!1,dialogTableVisible:!1,form:{value:"",title:"",textarea:"",editorContent:"<h1>Some initial content</h1>",type:""},gridData:[],formLabelWidth:"120px",editor:"",id:""}},mounted:function(){},created:function(){this.getList(this.page.currentPage,this.page.pagesize)},methods:v()({getList:function(t,e){var a=this;a.axios.post("/api/v1/admin/article/list",{page:t,size:e}).then(function(t){0==t.data.code?(a.tableData=t.data.data.list,a.page.countpage=t.data.data.total):a.$message(t.data.msg)})},handleSizeChange:function(t){this.page.pagesize=t,this.getList(this.page.currentPage,this.page.pagesize)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.pagesize)},handleEdit:function(t,e){console.log(t,e);var a=e.id;this.id=a,this.dialogFormVisible=!0},getEle:function(){var t=this;if(!t.editor){console.log(t.editor);var e=this.$refs.editorElement;this.editor=new ze.a(e),this.editor.customConfig.onchange=function(e){t.form.editorContent=e,console.log(e)},this.editor.customConfig.uploadImgShowBase64=!0,this.editor.customConfig.uploadImgServer="<%=path%>/Img/upload",this.editor.customConfig.uploadImgMaxSize=3145728,this.editor.customConfig.uploadImgMaxLength=5,this.editor.customConfig.uploadFileName="myFileName",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,a){t(e.data)}},this.editor.create()}t.axios.post("/api/v1/admin/article/detail?id="+t.id).then(function(e){var a=e.data.data;t.form.title=a.theme,t.form.textarea=a.abstract,t.form.editorContent=a.content,t.form.value=a.column_id;var n=a.comment,i=a.topping;t.form.type=[],1==n&&t.form.type.push("允许评论或回复"),1==i&&t.form.type.push("应栏目内置顶/推荐文章"),console.log(a),t.editor.txt.html(t.form.editorContent)})},Reading:function(t,e){console.log(t,e),this.dialogTableVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t,t.length>0?this.isbtnActive=!0:this.isbtnActive=!1},submitcontent:function(){var t,e;this.dialogFormVisible=!1,console.log(this.form);var a=this;this.form.value&&this.form.title?(t=this.form.type.indexOf("允许评论或回复"),e=this.form.type.indexOf("应栏目内置顶/推荐文章"),t=-1!==t?1:0,e=-1!==e?1:0,this.axios.post("/api/v1/admin/article/edit",{id:a.id,column_id:this.form.value,theme:this.form.title,abstract:this.form.textarea,content:this.form.editorContent,comment:t,topping:e}).then(function(t){0==t.data.code?(a.$message("编辑文章成功"),a.getList(a.page.currentPage,a.page.pagesize)):a.$message(t.data.msg)})):this.$message("类型或者主题不能为空")},handleDelAll:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;a.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(e),a.axios.post("/api/v1/admin/article/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getList(a.page.currentPage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},showtable:function(){console.log(1)}},"Reading",function(){this.multipleSelection;var t=[];if(this.multipleSelection.length>0){this.dialogTableVisible=!0,this.multipleSelection.map(function(e){t.push(e.id)});var e=this;this.axios.post("/api/v1/admin/article/visit/detail",{id:t}).then(function(t){0==t.data.code&&(e.gridData=t.data.data)})}else this.$message("请至少选择一项")}),components:{headson:F.a,schoolcheck:W}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n        栏目：\n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.Groupid,expression:"Groupid"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Groupid=e.target.multiple?a:a[0]}}},t._l(t.$store.state.columns,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.name))])}),0)]),t._v(" "),a("li",[a("span",[t._v("发布者：")]),t._v(" "),a("input",{attrs:{type:"text",value:"",id:"person"}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del iconfont icon-daochu1",class:{btnactive:t.isbtnActive},on:{click:t.handleDelAll}},[t._v("删除")]),t._v(" "),a("span",{staticClass:"dev",class:{btnactive:t.isbtnActive},on:{click:t.Reading}},[t._v("阅读情况")])]),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"文章主题",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.theme))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"栏目类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"发布者工号","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"发布者","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发表日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"允许评论"},scopedSlots:t._u([{key:"default",fn:function(t){return[1==t.row.comment?a("span",{staticClass:"el-icon-close",staticStyle:{color:"red"}}):a("span",{staticClass:"el-icon-check",staticStyle:{color:"green"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"b",label:"置顶"},scopedSlots:t._u([{key:"default",fn:function(t){return[1==t.row.topping?a("span",{staticClass:"el-icon-close",staticStyle:{color:"red"}}):a("span",{staticClass:"el-icon-check",staticStyle:{color:"green"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改文章",visible:t.dialogFormVisible,width:"900px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.getEle}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类别","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.$store.state.columns,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{ref:"editorElement",staticStyle:{"{width":"500px}"},attrs:{id:"editorElement"}})]),t._v(" "),a("el-form-item",{attrs:{label:"设置","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox-button",{attrs:{label:"允许评论或回复",name:"type"}}),t._v("  \n              "),a("el-checkbox-button",{attrs:{label:"应栏目内置顶/推荐文章",name:"type"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("提交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"阅读情况",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.gridData}},[a("el-table-column",{attrs:{property:"theme",label:"文章主题",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"theme",label:"文章主题",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"栏目类型",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"visit_count",label:"访问量",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"comment_count",label:"评论量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"last_visit_time",label:"最后访问时间"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var De=a("VU/8")(Se,Fe,!1,function(t){a("XNcQ")},"data-v-3fdaf4cb",null).exports,Ae={data:function(){return{headson:["发布文章",""],formLabelWidth:"120px",dialogFormVisible:!0,form:{title:"",textarea:"",editorContent:"<h1>Some initial content</h1>",type:[],options:[],value:""}}},mounted:function(){var t=this,e=new ze.a("#editorElem");console.log(e),e.customConfig.onchange=function(e){t.form.editorContent=e,console.log(e)},e.customConfig.uploadImgServer="/api/v1/admin/article/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHeaders={"X-Token":this.$store.state.token},e.customConfig.uploadImgHooks={customInsert:function(t,e,a){0==e.code?t("/uploads/"+e.data.upload_path):that.$message(e.msg)}},e.create()},methods:{submitcontent:function(){var t,e,a=this;this.form.value&&this.form.title?(t=this.form.type.indexOf("允许评论"),e=this.form.type.indexOf("栏目内置顶"),t=-1!==t?1:0,e=-1!==e?1:0,this.axios.post("/api/v1/admin/article/publish",{column_id:this.form.value,theme:this.form.title,abstract:this.form.textarea,content:this.form.editorContent,comment:t,topping:e}).then(function(t){0==t.data.code?a.$message("发表文章成功"):a.$message(t.data.msg)})):this.$message("类型或者主题不能为空")}},components:{headson:F.a}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"data"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类别","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.$store.state.columns,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入主题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"摘要","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{style:{"text-align":"left","min-height":"500px"},attrs:{id:"editorElem"}})]),t._v(" "),a("el-form-item",{attrs:{label:"设置","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox-button",{attrs:{label:"允许评论",name:"type"}}),t._v("  \n            "),a("el-checkbox-button",{attrs:{label:"栏目内置顶",name:"type"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("提交")])],1)],1)])],1)},staticRenderFns:[]};var Ve=a("VU/8")(Ae,Ee,!1,function(t){a("qZ+F")},"data-v-49af1b30",null).exports,Le={data:function(){return{page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},headson:["阅读情况","获取阅读情况"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],currentRow:null}},methods:v()({handleCurrentChange:function(t){this.currentRow=t,console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条")}},"handleCurrentChange",function(t){console.log("当前页: "+t)}),components:{headson:F.a}},Te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"body"},[t._m(0),t._v(" "),a("div",{staticClass:"datas"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"标题",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.date))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:""}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"打开次数"}}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"时长"}}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"最近访问时间"}})],1)],1)]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"work"},[e("span",{staticClass:"Refresh"},[this._v("刷新")]),this._v(" "),e("span",{staticClass:"returnBack"},[this._v("返回")])])}]};var Ie=a("VU/8")(Le,Te,!1,function(t){a("9xKQ")},"data-v-3696e50c",null).exports,Re={data:function(){return{Groupid:"",group:"",index1:"",headson:["文章列表","获取文章列表信息"],addflag:!1,values:{value1:"",value2:"",value3:"",value4:"",select:""},tableflag:!1,page:{currentPage:1,countpage:"",pagesize:1,flag:!1,offset:0,size:"20"},tableData:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-08",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-06",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-07",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],multipleSelection:[]}},created:function(){this.getList()},mounted:function(){},methods:v()({getList:function(){},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){console.log("当前页: "+t)},handleEdit:function(t,e){console.log(t,e),this.dialogFormVisible=!0},Reading:function(t,e){console.log(t,e),this.dialogTableVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},submitcontent:function(){this.dialogFormVisible=!1,console.log(this.form.htmlForEditor)},handleDelAll:function(){this.multipleSelection},showtable:function(){this.tableflag=!0,console.log(1)},complete:function(){this.addflag=!1,console.log(this.values),this.$refs.tab.addnumber()},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1="",console.log(this.values.select)},cancle:function(t){this.addflag=!1,this.index1="",console.log("zg")},setting:function(t){console.log(t),this.index1=t,console.log(this.values.select)},del:function(t){}},"handleDelAll",function(){for(var t=this.$refs.icheck,e=[],a=0;a<t.length;a++)if(t[a].checked){var n=t[a].value;console.log(n),e.push(n)}console.log(e)}),components:{headson:F.a,schoolcheck:W}},je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),a("li",[a("span",[t._v("作者：")]),t._v(" "),a("input",{attrs:{type:"text",value:"",id:"person"}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.showtable()}}}),t._v(" "),a("span",{staticClass:"iconfont icon-wenhao"})])])]),t._v(" "),t.tableflag?a("div",{staticClass:"body"},[a("div",{staticClass:"datas"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"书号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"ID",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"书名","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"作者","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"出版社","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"出版日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"定价","show-overflow-tooltip":""}})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("书号：")]),this._v(" "),e("input",{attrs:{type:"text",value:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("书名：")]),this._v(" "),e("input",{attrs:{type:"text",value:""}})])}]};var Pe=a("VU/8")(Re,je,!1,function(t){a("oNSV")},"data-v-e4aa12b6",null).exports,We=a("QaH6"),Ne=(a("E0VQ"),a("qPaF")),Ue=a.n(Ne),Be=a("162o"),Oe={data:function(){return{select:"",arr:["2019/6/2","2019/6/3"],dialogFormVisible:!1,dialogFormVisible1:!1,showflag:!0,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",config:{locale:"zh-cn",header:{left:"month",center:"title",right:"today prev,next,prevYear,nextYear "},defaultView:"month",displayEventTime:!1},monthData:{case1:[],case2:[],case3:[],case4:[]},headson:["访谈邀请安排","邀请时间记录"],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();console.log(e),this.viewrender(e,a,n)},methods:{viewrender:function(t,e,a){var n=this;n.monthData={case1:[],case2:[],case3:[],case4:[]},this.axios.post("/api/v1/admin/counsel/monthList",{year:t,month:e}).then(function(t){t.data.data.map(function(t,e){var i=yt()(t.start_time).get("date");if(a==i){console.log(i),t.times=yt()(t.start_time).format("HH:mm:ss")+"至"+yt()(t.end_time).format("HH:mm:ss")+" "+t.name+" "+t.funcname;var s={};s.title=t.times,s.start=t.start_time,s.end=t.end_time;var o=t.status;if(1==o)yt()().isBetween(t.start_time,t.end_time)&&(o=4);switch(o-0){case 0:n.monthData.case1.push(s);break;case 1:n.monthData.case2.push(s);break;case 3:n.monthData.case3.push(s);break;case 4:n.monthData.case4.push(s)}}})})},clickDay:function(t){var e=this;Object(Be.setTimeout)(function(){e.showflag=!1},800),console.log(t);var a=yt()(t).get("year"),n=yt()(t).get("month")+1,i=yt()(t).get("date");this.viewrender(a,n,i)},changeDate:function(t){console.log(t)},clickToday:function(t){console.log(t)},back:function(){this.showflag=!0},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},changeMonth:function(t,e,a){console.log("changeMonth",t,e,a)},eventClick:function(t,e,a){console.log("eventClick",t,e,a)},dayClick:function(t,e){console.log("dayClick",t,e)},moreClick:function(t,e,a){console.log("moreCLick",t,e,a)},eventMouseover:function(){console.log(1)}},components:{headson:F.a,pagination:O.a,"full-calendar":We.a,Calendar:Ue.a}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"data",staticStyle:{"padding-top":"30px"},attrs:{id:"calendar"}},[a("Calendar",{attrs:{markDate:t.arr},on:{choseDay:t.clickDay,changeMonth:t.changeDate,isToday:t.clickToday}}),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#008000"}},[t._v("无预约时段")]),t._v(" "),a("div",{staticClass:"times"},t._l(t.monthData.case1,function(e,n){return a("p",{key:n},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#169BD5"}},[t._v("已预约时段")]),t._v(" "),a("div",{staticClass:"times"},t._l(t.monthData.case2,function(e,n){return a("p",{key:n},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#FF0000"}},[t._v("正在咨询时段")]),t._v(" "),a("div",{staticClass:"times"},t._l(t.monthData.case4,function(e,n){return a("p",{key:n},[t._v(t._s(e.title))])}),0)])])],1),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间添加",visible:t.dialogFormVisible,width:"98%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"170px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"170px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"170px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"150px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var qe=a("VU/8")(Oe,Me,!1,function(t){a("V3Hv")},"data-v-c6fccde6",null).exports,He={data:function(){return{select:"",dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["咨询记录管理","查询咨询记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/clientList",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;e.map(function(t,n){t.times=yt()(t.start_time).format("HH:mm:ss")+"至"+yt()(t.end_time).format("HH:mm:ss"),t.date=yt()(t.start_time).format("YYYY-MM-DD");var i=t.trace_type-0;switch(i){case 0:t.case="无需关注";break;case 1:t.case="学业问题";break;case 2:t.case="恋爱关系";break;case 3:t.case="人际交往";break;case 4:t.case="职业发展";break;case 5:t.case="情绪问题";break;case 6:t.case="躯体疾病"}t.dos=0==i?"未处理":"已处理",a.tableData=e})}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?that.$message("编辑成功"):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?n.$message("删除成功"):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?t.$message("增加成功"):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},baseinfo:function(t){var e;this.tableData.map(function(a,n){a.id==t&&(e=a)});var a={"姓名":e.name,"学号":e.job_num,"预约日期":e.date,"咨询时间":e.times,"问题类型":e.case,"处理意见":e.proc_idea,"状态":e.dos};this.$router.push({name:"详情数据",path:"/admin/setdatadetail",params:{detail:a}})}},components:{headson:F.a,pagination:O.a}},Ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","cell-style":{width:"80px",height:"30px"}}},[a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#169bd5"},on:{click:function(a){a.stopPropagation(),t.baseinfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"咨询时间"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"咨询记录添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询记录编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var Ge=a("VU/8")(He,Ye,!1,function(t){a("BJvq")},"data-v-1c827b08",null).exports,Ze={data:function(){return{step:1,dialogFormVisible:!1,dialogFormVisible1:!1,loading:!1,select:"",pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},roles:"",funcs:"",counselorname:"",form:{counselor:"",func_id:"",start_time:"",end_time:"",remarks:""},freetime:[],date:"",form1:{id:"",name:"",unit_name:""},formLabelWidth:"70px",headson:["咨询时间管理","设置咨询时间"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData),this.getfunc()},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;e.map(function(t,e){t.date=yt()(t.start_time).format("YYYY-MM-DD"),t.times=yt()(t.start_time).format("HH:mm:ss")+"至"+yt()(t.end_time).format("HH:mm:ss")}),console.log(e),a.tableData=t.data.data.list}})},getfunc:function(){var t=this;this.axios.post("/api/v1/admin/func/selectList").then(function(e){0==e.data.code&&(t.funcs=e.data.data)})},remoteMethod:function(t){var e=this;this.axios.get("/api/v1/tools/selectUserList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?that.$message("编辑成功"):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?n.$message("删除成功"):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){var t=[],e=[],a=this;if(this.date&&this.form.counselor){var n=yt()(this.date).year(),i=yt()(this.date).month()+1;this.axios.post("/api/v1/admin/counsel/monthList",{year:n,month:i}).then(function(n){if(n.data.data.map(function(e,n){if(yt()(e.start_time).format("YYYY-MM-DD")==a.date){var i={};i.start_time=e.start_time,i.end_time=e.end_time,i.func_id=e.func_id;var s=yt()(e.start_time).format("HH:mm:ss")+"至"+yt()(e.end_time).format("HH:mm:ss");i.times=s,t.push(i)}}),t.find(function(t,n){var i=yt()(t.start_time).format("HH:mm"),s=yt()(t.end_time).format("HH:mm"),o=a.compareTime(i,a.form.end_time),l=a.compareTime(a.form.start_time,s);o||l||e.push(t)}),e.find(function(t,e){return t.func_id==a.form.func_id}))a.$message("此功能室在选择的使用时间点已被占用");else{a.dialogFormVisible=!1;var i=new Date(a.date),s=new Date(a.date),o=a.form.start_time.split(":"),l=a.form.end_time.split(":");i.setHours(o[0],o[1]),a.form.start_time=yt()(i).format("YYYY-MM-DD HH:mm:ss"),s.setHours(l[0],l[1]),a.form.end_time=yt()(s).format("YYYY-MM-DD HH:mm:ss"),a.axios.post("/api/v1/admin/counsel/addTheme",a.form).then(function(t){0==t.data.code?(a.$message("增加成功"),a.getlist(a.page.currentpage,a.page.pagesize)):a.$message(t.data.msg)})}})}},compareTime:function(t,e){var a=new Date,n=t.split(":"),i=e.split(":");return a.setHours(n[0],n[1])>=a.setHours(i[0],i[1])},judgeConfig:function(t,e){var a=[];0==a.length&&a.push([t,e]);for(var n=0;n<a.length;n++){var i=this.compareTime(t,a[n][0]),s=this.compareTime(t,a[n][1]),o=this.compareTime(e,a[n][0]),l=this.compareTime(e,a[n][1]);i&&!s||o&&!l?console.log("时间冲突了"):a.push([t,e])}},changevalue:function(t){var e=this;e.roles.map(function(a,n){a.id==t&&(e.counselorname=a.name)})},retu:function(){this.step--,this.step<=1&&(this.step=1),console.log(this.step),this.show(this.step)},next:function(){this.step++,this.step>4&&(this.step=4),this.show(this.step)},show:function(t){var e=this;if(1==t);else if(2==t)this.date||(e.$message("请填日期"),e.step=1);else if(3==t)if(console.log(this.date,this.form.counselor),this.date&&this.form.counselor){var a=yt()(this.date).year(),n=yt()(this.date).month()+1;this.axios.post("/api/v1/admin/counsel/monthList",{year:a,month:n}).then(function(t){e.freetime=[],t.data.data.map(function(t,a){if(yt()(t.start_time).format("YYYY-MM-DD")==e.date&&t.counselor==e.form.counselor){var n={};n.start_time=t.start_time,n.end_time=t.end_time;var i=yt()(t.start_time).format("HH:mm:ss")+"至"+yt()(t.end_time).format("HH:mm:ss");n.times=i,e.freetime.push(n)}})})}else e.$message("请必填日期和咨询师"),e.step=2;else this.form.start_time&&this.form.end_time?e.freetime.find(function(t,a){var n=yt()(t.start_time).format("HH:mm"),i=yt()(t.end_time).format("HH:mm"),s=e.compareTime(n,e.form.end_time),o=e.compareTime(e.form.start_time,i);console.log(s,o),s||o||(e.$message("和已使用时间段冲突"),e.step=3)}):(e.step=3,e.$message("请必填开始时间和结束时间"))}},components:{headson:F.a,pagination:O.a}},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"时间段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"funcname",label:"所在功能室"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"新增预约安排",visible:t.dialogFormVisible,width:"98%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("ul",[1==t.step?a("li",{staticClass:"q q1"},[a("el-form-item",{attrs:{label:"选择日期","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{"picker-options":t.pickerOptions1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1):t._e(),t._v(" "),2==t.step?a("li",{staticClass:"q q2"},[a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词搜索咨询师","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},on:{change:t.changevalue},model:{value:t.form.counselor,callback:function(e){t.$set(t.form,"counselor",e)},expression:"form.counselor"}},t._l(t.roles,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1):t._e(),t._v(" "),3==t.step?a("li",{staticClass:"q q3"},[a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"120px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}}),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"150px",display:"inline-block",position:"absolute",top:"-30px",right:"10px",height:"190px","overflow-Y":"scroll"}},[a("div",{staticStyle:{color:"gray","border-bottom":"1px solid #DCDFE6","text-algin":"center"}},[t._v("已用时段（不能冲突）:")]),t._v(" "),t._l(t.freetime,function(e,n){return a("div",{key:n,staticClass:"text item"},[t._v(t._s(" "+e.times))])})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"120px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)],1):t._e(),t._v(" "),4==t.step?a("li",{staticClass:"q q4"},[a("el-form-item",{attrs:{label:"咨询室","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},model:{value:t.form.func_id,callback:function(e){t.$set(t.form,"func_id",e)},expression:"form.func_id"}},t._l(t.funcs,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1):t._e()])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.retu()}}},[t._v("上一步")]),t._v(" "),4!==t.step?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.next()}}},[t._v("下一步")]):a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var Je=a("VU/8")(Ze,Xe,!1,function(t){a("Owfc")},"data-v-1054d55b",null).exports,Qe={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",content:"",unit_name:""},formLabelWidth:"100px",headson:["问题留言","留言记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/message/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.content,this.form1.unit_name=e.content,console.log(e)},editsure:function(){var t=this;this.axios.post("/api/v1/user/message/add/reply",{msg_id:this.form1.id,content:this.form1.name}).then(function(e){console.log(e),0==e.data.code?(t.$message("回复成功"),t.dialogFormVisible1=!1,t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项")},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},baseinfo:function(t){var e;this.tableData.map(function(a,n){a.id==t&&(e=a)});var a={"主题":e.account,"学号":e.job_num,"姓名":e.name,"留言时间":e.create_time,"回复数":e.replys_count,"更新时间":e.create_time};this.$router.push({name:"详情数据",path:"/admin/setdatadetail",params:{detail:a}})}},components:{headson:F.a,pagination:O.a}},Ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"主题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#169bd5"},on:{click:function(a){a.stopPropagation(),t.baseinfo(e.row.id)}}},[t._v(t._s(e.row.content))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"留言时间"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"问题留言回复",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"留言标题","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.form1.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"留言内容","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.form1.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"请回复留言","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.content,callback:function(e){t.$set(t.form1,"content",e)},expression:"form1.content"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var ta=a("VU/8")(Qe,Ke,!1,function(t){a("yiMv")},"data-v-61e5b49a",null).exports,ea={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["访谈邀请安排","邀请时间记录"],tableData:[{1:"201808",2:"孟凡",3:"2018-09-12",4:"2018-09-1",5:"",6:"失效"},{1:"201808",2:"李静",3:"2018-09-12",4:"2018-09-1",5:"",6:"失效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a,pagination:O.a}},aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入咨询师，发送日期，星期几等关键字"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"发送时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"访谈日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"访谈时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"访谈邀请添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈邀请编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var na=a("VU/8")(ea,aa,!1,function(t){a("2/HI")},"data-v-2e8085a7",null).exports,ia={data:function(){return{types:[{name:"团辅",id:1},{name:"个人",id:2}],typeflag:!0,pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptions2:this.beginDate(),pickerOptions3:this.endDate(),dialogFormVisible:!1,dialogFormVisible1:!1,form:{type:1,send_time:"",start_time:"",end_time:"",location:"",user_id:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["访谈时间安排","访谈时间记录"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/coach/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total,a.tableData=t.data.data.list;var e=t.data.data.server_time;a.tableData.map(function(t,a){1==t.type?t.type="团辅":t.type="个人",t.times=t.start_time+"—"+t.end_time;var n=new Date(t.start_time).getTime(),i=new Date(t.end_time).getTime(),s=new Date(e).getTime();s<n&&n<=i?t.staus="未开始":s>i&&i>=n?t.staus="已结束":(console.log(n,i,s),t.staus="正在进行")})}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/coach/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){if(this.dialogFormVisible=!1,1==this.form.type){var t=this.$refs.schoolcheck1.item.id;this.form.user_id=t}var e=this;console.log(this.form);var a={};for(var n in this.form)this.form[n]&&(a[n]=this.form[n]);this.axios.post("/api/v1/admin/coach/add",a).then(function(t){console.log(t),0==t.data.code?(e.$message("增加成功"),e.getlist(e.page.currentpage,e.page.pagesize)):e.$message(t.data.msg)})},handleDelAll:function(){},changevalue:function(){var t=this.form.type;console.log(t),this.typeflag=1==t},cellStyle:function(){},beginDate:function(){var t=this;return{disabledDate:function(e){return t.form.send_time?new Date(t.form.send_time).getTime()>e.getTime():t.form.end_time?new Date(t.form.end_time).getTime()<e.getTime():e.getTime()<Date.now()-864e5}}},endDate:function(){var t=this;return{disabledDate:function(e){return t.form.start_time?new Date(t.form.start_time).getTime()>e.getTime():e.getTime()<Date.now()-864e5}}},baseinfo:function(t){var e;this.tableData.map(function(a,n){a.id==t&&(e=a)});var a={"类型":e.type,"位置":e.location,"发送时间":e.send_time,"访谈时段":e.times,"咨询师":e.counselor_name,"访谈状态":e.staus};this.$router.push({name:"详情数据",path:"/admin/setdatadetail",params:{detail:a}})}},components:{headson:F.a,schoolcheck:W}},sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"访谈对象"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#169bd5"},on:{click:function(a){a.stopPropagation(),t.baseinfo(e.row.id)}}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"location",label:"位置"}}),t._v(" "),a("el-table-column",{attrs:{prop:"send_time",label:"发送时间"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"新增团辅访谈安排",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changevalue},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions1},model:{value:t.form.send_time,callback:function(e){t.$set(t.form,"send_time",e)},expression:"form.send_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions2},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":t.pickerOptions3},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"230px"},attrs:{autocomplete:"off",type:"text"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"访谈对象","label-width":t.formLabelWidth}},[t.typeflag?[a("div",{staticClass:"schoolcheck1"},[a("schoolcheck",{ref:"schoolcheck1",staticClass:"school"})],1)]:a("el-input",{staticStyle:{width:"230px"},attrs:{autocomplete:"off",type:"number",min:"0",placeholder:"类型是个人请输入学号"},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}})],2)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间段","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var oa=a("VU/8")(ia,sa,!1,function(t){a("5yLb")},"data-v-4c173ec8",null).exports,la={data:function(){return{searchflag:!1,dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"70px",headson:["访谈记录管理","记录管理"],tableData:[{id:"张三（12334）",name:"李静（456787）",amount1:"2013-3-4 12:00-2013-3-10 12:00",amount2:"未处理"},{id:"初三2班",name:"李静（456787）",amount1:"2013-3-4 12:00-2013-3-10 12:00",amount2:"无需干预"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/coach/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total,a.tableData=t.data.data.list;var e=t.data.data.server_time;a.tableData.map(function(t,a){t.times=t.start_time+"—"+t.end_time;var n=new Date(t.start_time).getTime(),i=new Date(t.end_time).getTime(),s=new Date(e).getTime();switch(t.proc_idea-0){case 0:t.proc_idea="无";break;case 1:t.proc_idea="无须干预";break;case 2:t.proc_idea="预约面询";break;case 3:t.proc_idea="危机干预";break;case 4:t.proc_idea="联系领导";break;case 5:t.proc_idea="跟踪随访"}s<n&&n<=i?(t.staus="未开始",t.dos=0):s>i&&i>=n?t.feedback_time?(t.staus="结束已处理",t.dos=1):(t.staus="结束未处理",t.dos=2):n<=s&&s<=i?t.feedback_time&&(t.staus="正在进行已处理",t.dos=1):(t.staus="正在进行未处理",t.dos=2)})}})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){console.log(e),this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/Consultation/historydetail",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/coach/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},searchchange:function(){this.searchflag=!0},closesearch:function(){this.searchflag=!1},cellStyle:function(){}},components:{headson:F.a,pagination:O.a}},ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[t.searchflag?a("ul",[a("li",[a("span",{staticClass:"el-icon-circle-close",on:{click:t.closesearch}}),t._v("\n         范围：\n         "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n         分类：\n         "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)]):t._e()]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"访谈对象"}}),t._v(" "),a("el-table-column",{attrs:{prop:"counselor_name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staus",label:"处理状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增访谈",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"访谈记录",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("学生信息:")]),this._v(" "),e("input",{attrs:{type:"text"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var ca=a("VU/8")(la,ra,!1,function(t){a("THAh")},"data-v-f9fb7e56",null).exports,ua={data:function(){return{arr:["2019/6/2","2019/6/3"],dialogFormVisible:!1,dialogFormVisible1:!1,showflag:!0,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",config:{locale:"zh-cn",header:{left:"month",center:"title",right:"today prev,next,prevYear,nextYear "},defaultView:"month",displayEventTime:!1},monthData:[{title:"08:30-10:00 吴璇",start:"2019-4-25",end:"",cssClass:"red"},{title:"08:30-10:00 徐媛",start:"2019-4-26",end:"",cssClass:"blue"},{title:"08:30-10:00 周磊",start:"2019-4-24",end:"",cssClass:"blue"},{title:"08:30-10:00 夏雪",start:"2019-4-26",end:"",cssClass:"blue"},{title:"08:30-10:00 小雨",start:"2019-4-20",end:"",cssClass:"blue"},{title:"08:30-10:00 任彦达",start:"2019-4-09",end:"",cssClass:"blue"}],headson:["访谈邀请安排","邀请时间记录"],tableData:[{id:"1",a1:"周一",a2:"2:00-400",a3:"50"},{id:"1",a1:"周一",a2:"2:00-400",a3:"50"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{clickDay:function(t){this.showflag=!1,console.log(t)},changeDate:function(t){console.log(t)},clickToday:function(t){console.log(t)},back:function(){this.showflag=!0},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},changeMonth:function(t,e,a){console.log("changeMonth",t,e,a)},eventClick:function(t,e,a){console.log("eventClick",t,e,a)},dayClick:function(t,e){console.log("dayClick",t,e)},moreClick:function(t,e,a){console.log("moreCLick",t,e,a)},eventMouseover:function(){console.log(1)}},components:{headson:F.a,pagination:O.a,Calendar:Ue.a}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t.showflag?t._e():a("div",{staticClass:"search"},[a("ul",[a("li",[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])])]),t._v(" "),t.showflag?a("div",{staticClass:"data",staticStyle:{"padding-top":"30px"},attrs:{id:"calendar"}},[a("Calendar",{attrs:{markDate:t.arr},on:{choseDay:t.clickDay,changeMonth:t.changeDate,isToday:t.clickToday}})],1):a("div",[t._m(0),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.back()}}},[t._v("返回")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.back()}}},[t._v("增加")])],1)]),t._v(" "),a("div"),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#008000"}},[t._v("放松室")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#169BD5"}},[t._v("训练室")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#FF9900"}},[t._v("培训室")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#FF0000"}},[t._v("沙盘室")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#999999"}},[t._v("忙碌状态")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])]),t._v(" "),a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#333333"}},[t._v("开始咨询")]),t._v(" "),a("div",{staticClass:"times"},[t._v("张老师 9:00-10:00")])])])}]};var ha=a("VU/8")(ua,da,!1,function(t){a("Jz5f")},"data-v-bea67374",null).exports,ma={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,select:"",form:{name:"",unit_name:"",college_id:""},form1:{id:"",name:"",unit_name:"",college_id:""},formLabelWidth:"70px",headson:["功能室设置",""],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getschool:function(){var t=this;this.axios.get("/api/v1/super/college/select").then(function(e){console.log(e),0==e.data.code&&(t.select=e.data.data)})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/func/list",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;a.axios.get("/api/v1/admin/tool/select/college").then(function(t){0==t.data.code&&(a.select=t.data.data,e.map(function(t,e){a.select.find(function(e,a){if(t.college_id==e.id)return t.college_name=e.name;t.college_name=null})}),a.tableData=e,console.log(e))})}console.log(e,a.select)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){var t=this;this.axios.post("/api/v1/admin/func/save",{id:this.form1.id,name:this.form1.name,desc:this.form1.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("编辑成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/func/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/func/save",{name:t.form.name,desc:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a,pagination:O.a}},pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"功能室名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"功能室简介"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"功能室添加",visible:t.dialogFormVisible,width:"100%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"功能室名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"功能室简介","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"功能室编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"功能室名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"功能室简介","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var fa=a("VU/8")(ma,pa,!1,function(t){a("yfqu")},"data-v-8f84b1d2",null).exports,ga={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["个案追踪","个案追踪"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize),this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/counsel/caseList",{page:t,size:e}).then(function(t){if(0==t.data.code){a.page.countpage=t.data.data.total;var e=t.data.data.list;e.map(function(t,e){switch(t.check_type-0){case 0:t.check="无需关注";break;case 1:t.check="学业问题";break;case 2:t.check="恋爱关系";break;case 3:t.check="人际交往";break;case 4:t.check="职业发展";break;case 5:t.check="情绪问题";break;case 6:t.check="身体疾病"}}),a.tableData=e}console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/Consultation/rackdetail"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a,pagination:O.a}},va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","cell-style":{width:"80px",height:"30px"}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check",label:"排查分类"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"个案追踪添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"个案追踪编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul")])}]};var _a=a("VU/8")(ga,va,!1,function(t){a("shb3")},"data-v-339e0b40",null).exports,ba={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"3"}},[t._v("个案追踪")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v("孙玥")]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v("女")]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")]),t._v(" "),a("td",[t._v("aaa")])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("班级：")]),t._v(" "),a("td",[t._v("演示学校（中学）")]),t._v(" "),a("td",{staticClass:"label"},[t._v("家庭住址/宿舍号：")]),t._v(" "),a("td",[t._v("wwwwwww")])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("一般信息")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_1",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_2",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_3",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_4",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_5",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_6",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_7",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("input",{attrs:{type:"radio",name:"q_8",value:"良好"}}),t._v("良好\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_8",value:"一般"}}),t._v("一般\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_8",value:"较差"}}),t._v("较差\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_8",value:"离异"}}),t._v("离异\n            ")])])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_9",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("input",{attrs:{type:"radio",name:"q_10",value:"是"}}),t._v("是\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_10",value:"否"}}),t._v("否\n            ")])])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{staticClass:"text",attrs:{type:"text",name:"q_11",value:""}})])]),t._v(" "),a("tr",[a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("input",{attrs:{type:"radio",name:"q_25",value:"农村"}}),t._v("农村\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_25",value:"城市"}}),t._v("城市\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_25",value:"城镇"}}),t._v("城镇\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_25",value:"留学生"}}),t._v("留学生\n            ")])])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("input",{attrs:{type:"radio",name:"q_26",value:"是"}}),t._v("是\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_26",value:"否"}}),t._v("否\n            ")])])]),t._v(" "),a("tr",[a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("input",{attrs:{type:"radio",name:"q_27",value:"困难"}}),t._v("困难\n            ")]),t._v(" "),a("label",[a("input",{attrs:{type:"radio",name:"q_27",value:"不困难"}}),t._v("不困难\n            ")])])]),t._v(" "),a("tr")])]),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})]),t._v(" "),a("fieldset",[a("legend",[t._v("排查情况")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"80",valign:"top"}},[t._v("基本情况：")]),t._v(" "),a("td",[a("textarea",{staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"paicha",id:"paicha"}})])]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("采取措施：")]),t._v(" "),a("td",[a("textarea",{staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"paicha_deal",id:"paicha_deal"}})])]),t._v(" "),a("tr",[a("td",[t._v("问题分类：")]),t._v(" "),a("td",[a("select",{attrs:{name:"paicha_type",id:"paicha_type"}},[a("option",[t._v("无需关注")]),t._v(" "),a("option",[t._v("学业问题")]),t._v(" "),a("option",[t._v("恋爱关系")]),t._v(" "),a("option",[t._v("人际交往")]),t._v(" "),a("option",[t._v("职业发展")]),t._v(" "),a("option",[t._v("情绪问题")]),t._v(" "),a("option",[t._v("躯体疾病")])])])])])])]),t._v(" "),a("fieldset",[a("legend",[t._v("追踪情况")]),t._v(" "),a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",{attrs:{width:"80"}}),t._v(" "),a("td",[t._v("（说明：以下两个文本框都要填写内容才算添加成功）")])]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("基本情况：")]),t._v(" "),a("td",[a("textarea",{staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"zz_content",id:"zz_content",title:"两个文本框都要填写内容才算添加成功"}})])]),t._v(" "),a("tr",[a("td",{attrs:{valign:"top"}},[t._v("采取措施：")]),t._v(" "),a("td",[a("textarea",{staticStyle:{width:"100%","overflow-x":"hidden","word-wrap":"break-word",resize:"horizontal",height:"46px"},attrs:{name:"zz_deal",id:"zz_deal",title:"两个文本框都要填写内容才算添加成功"}})])]),t._v(" "),a("tr",[a("td",[t._v("问题分类：")]),t._v(" "),a("td",[a("select",{attrs:{name:"zz_type",id:"zz_type"}},[a("option",[t._v("无需关注")]),t._v(" "),a("option",[t._v("学业问题")]),t._v(" "),a("option",[t._v("恋爱关系")]),t._v(" "),a("option",[t._v("人际交往")]),t._v(" "),a("option",[t._v("职业发展")]),t._v(" "),a("option",[t._v("情绪问题")]),t._v(" "),a("option",[t._v("躯体疾病")])])])]),t._v(" "),a("tr",[a("td",[t._v("状态变更：")]),t._v(" "),a("td",[a("select",{attrs:{name:"zz_status",id:"zz_status"}},[a("option",[t._v("正常")]),t._v(" "),a("option",[t._v("缓解")]),t._v(" "),a("option",[t._v("持续")]),t._v(" "),a("option",[t._v("恶化")])])])])])])])])}]};var ya=a("VU/8")({},ba,!1,function(t){a("OKV3")},"data-v-decd455e",null).exports,xa={data:function(){return{headson:["系统参数设置","有关系统的参数设置"],data:{input:"",value5:"100"}}},created:function(){},methods:{},components:{headson:F.a,pagination:O.a}},wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[t._m(0),t._v(" "),a("tr",[a("td",[t._v("系统类型：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入机构类型，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("系统标题：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("首页LOGO：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"265px"},attrs:{placeholder:"请输入机构类型，如演示中学",type:"file"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("input",{staticStyle:{width:"30px"},attrs:{type:"button",value:"提交"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("基本信息修改许可：")]),t._v(" "),a("td",[a("el-tooltip",{attrs:{content:"Switch value: "+t.data.value5,placement:"top"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"100","inactive-value":"0","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("自注册审核许可")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("文本编辑手机号：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("微信绑定许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("数据对接秘钥：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("自定义来访组：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("提交")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("二维码管理：")]),this._v(" "),e("td",[e("span",{staticClass:"iconfont icon-qrcode"}),this._v(" "),e("span",{staticClass:"iconfont icon-qrcode"}),this._v(" "),e("span",{staticClass:"iconfont icon-qrcode"})])])}]};var ka=a("VU/8")(xa,wa,!1,function(t){a("BYsb")},"data-v-6cafe982",null).exports,Ca={data:function(){return{headson:["测量参数设置","有关测量的参数设置"],data:{input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},created:function(){},methods:{},components:{headson:F.a,pagination:O.a}},$a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("同表重测间隔：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}},t._l(t.data.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("tr",[a("td",[t._v("无效问卷判断：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测试结果许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测前资料完善许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("访客自测功能开发：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("访客自由测试开发：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测前说明文本：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("提交")])],1)},staticRenderFns:[]};var za=a("VU/8")(Ca,$a,!1,function(t){a("a5oA")},"data-v-917c5468",null).exports,Sa={data:function(){return{imageUrl:"",headson:["个人信息设置","有关个人的参数设置"],data:{input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},created:function(){},methods:{handleAvatarSuccess:function(t,e){console.log(t),this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return console.log(t),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a}},components:{headson:F.a,pagination:O.a}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("头像：")]),t._v(" "),a("td",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),a("tr",[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("ID号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入ID"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入学号"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("联系方式：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入联系方式"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学校：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入学校"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("管理类型：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("个人简介：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入简介"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("保存")])],1)},staticRenderFns:[]};var Da=a("VU/8")(Sa,Fa,!1,function(t){a("bj0a")},"data-v-a7631320",null).exports,Aa={data:function(){return{headson:["咨询参数设置","有关咨询的参数设置"],data:{value4:"",input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},created:function(){},methods:{},components:{headson:F.a,pagination:O.a}},Ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("预约期限：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("距离咨询前几分钟不可预约：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7分钟"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("来访者每周最多可以预约次数：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("测前资料完善许可：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约前测的天数及量表：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"145px"},attrs:{placeholder:"eg:7天"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.data.value,callback:function(e){t.$set(t.data,"value",e)},expression:"data.value"}},t._l(t.data.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("tr",[a("td",[t._v("本学期/年开始:")]),t._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.data.value4,callback:function(e){t.$set(t.data,"value4",e)},expression:"data.value4"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("学期/年最大咨询次数：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询限制设置：：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-radio-group",{model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}},[a("el-radio",{attrs:{label:"提交"}}),t._v(" "),a("el-radio",{attrs:{label:"审核"}})],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("首诊咨询师负责制设置许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约反馈许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("新预约许可：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("访客留言开放：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约自动确认：")]),t._v(" "),a("td",[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.data.value5,callback:function(e){t.$set(t.data,"value5",e)},expression:"data.value5"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("在线咨询QQ号：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("短信模板编辑：")]),t._v(" "),a("td",[a("span",{staticClass:"iconfont icon-question-circle-fill"}),t._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约协议：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"可以留空"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("预约关闭说明：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"填写内容即关闭，留空则开放"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("紧急联系方式：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询中心简介图：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"265px"},attrs:{placeholder:"请输入机构类型，如演示中学",type:"file"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("input",{staticStyle:{width:"30px"},attrs:{type:"button",value:"提交"}})],1)]),t._v(" "),a("tr",[a("td",[t._v("咨询中心简介内容：")]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入系统标题，如演示中学"},model:{value:t.data.input,callback:function(e){t.$set(t.data,"input",e)},expression:"data.input"}}),t._v(" "),a("span",{staticClass:"iconfont icon-question-circle-fill"})],1)])])]),t._v(" "),a("div",{staticClass:"add"},[t._v("提交")])],1)},staticRenderFns:[]};var Va=a("VU/8")(Aa,Ea,!1,function(t){a("vD6u")},"data-v-5ca5ae3a",null).exports,La={data:function(){return{headson:["系统参数设置","有关系统的参数设置"],data:{value4:"",input:"",value5:"100",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}]}}},mounted:function(){this.draw()},methods:{draw:function(){var t=this.$refs.chart;console.log(t),this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52,200,334,390]}]}),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}},components:{headson:F.a,pagination:O.a}},Ta={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("headson",{attrs:{headson:this.headson}}),this._v(" "),e("div",{staticClass:"data"},[e("div",{ref:"chart",staticClass:"chart"})])],1)},staticRenderFns:[]};var Ia=a("VU/8")(La,Ta,!1,function(t){a("C5Mh")},"data-v-3ee455b4",null).exports,Ra={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var ja=a("VU/8")({},Ra,!1,function(t){a("gqE+")},"data-v-2c55d5a6",null).exports,Pa={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var Wa=a("VU/8")({},Pa,!1,function(t){a("7mbv")},"data-v-21db1d56",null).exports,Na={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["咨询记录管理","查询咨询记录"],tableData:[{1:"1",2:"111",3:"孟凡",4:"3.2",5:10},{id:"12987122",name:"王小虎",amount1:"165",amount2:"4.43",amount3:12},{id:"12987124",name:"王小虎",amount1:"324",amount2:"1.9",amount3:9},{id:"12987124",name:"王小虎",amount1:"621",amount2:"2.2",amount3:17},{id:"12987126",name:"王小虎",amount1:"539",amount2:"4.1",amount3:15}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},Ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"luru"},[t._v("自杀倾向评估")]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"姓名",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀想法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀计划"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"自杀行动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Ba=a("VU/8")(Na,Ua,!1,function(t){a("KbDX")},"data-v-587bc7f3",null).exports,Oa={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var Ma=a("VU/8")({},Oa,!1,function(t){a("+Ayi")},"data-v-4b82b59c",null).exports,qa={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["个案总结"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"1",2:"10002",3:"李静",4:"女",5:13276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},Ha={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"个案总结添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"安个案总结编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Ya=a("VU/8")(qa,Ha,!1,function(t){a("ERsK")},"data-v-56c5e282",null).exports,Ga={data:function(){return{activeName2:"first",activeName:"first-1",headson:["自杀后管理","个案总结和学生死亡通知模板"],formLabelWidth:"120px",dialogFormVisible:!0,form:{title:"当知道是自杀死亡时如何告知学生",textarea:"主要用于小团体，教师或通报，不适合大众群体或广播",editorContent:"<h1>Some initial content</h1>",date:"",type:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}}},mounted:function(){var t=this;console.log(document.getElementById("editorElem"));var e=new ze.a("#editorElem");console.log(e),e.customConfig.onchange=function(e){t.editorContent=e,console.log(e)},e.customConfig.uploadImgShowBase64=!0,e.customConfig.uploadImgServer="<%=path%>/Img/upload",e.customConfig.uploadImgMaxSize=3145728,e.customConfig.uploadImgMaxLength=5,e.customConfig.uploadFileName="myFileName",e.customConfig.uploadImgHooks={customInsert:function(t,e,a){t(e.data)}},e.create()},methods:{submitcontent:function(){this.form.value&&this.form.title||this.$message("类型或者主题不能为空")},handleClick:function(t,e){console.log(t,e,this.activeName)}},components:{headson:F.a}},Za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"data"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"主题","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"方式","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.textarea,callback:function(e){t.$set(t.form,"textarea",e)},expression:"form.textarea"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}},[a("p",[t._v("我们非常伤心地告诉大家，我们的一个同学_________。我们希望大家知道，我们将尽一切努力帮助大家。")]),t._v(" "),a("p",[t._v("\n              有关自杀方面的很多问题我们不能马上回答。在此期间可能会出现一些谣言，我们请大家不要传播这些谣言。如果我们知道事情的进展，会在第一时间让大家知道确切的消息。\n              自杀是一个非常复杂的问题。通常有精神疾病，如抑郁症导致。抑郁症是一个人不能清醒的看待问题，解决问题。我们有时不能准确识别或注意到这种疾病，有些时候，有这种疾病的人可能会有明显的症状或体征，但有一点是可以肯定的，如果治疗是不会自杀的。\n              每一个人对_______的去世会有自己的反应，我们要相互尊重，感到悲伤是正常的反应。你们当中有些人可能不十分了解_________，没有受到影响，而其他人可能会经历巨大悲痛。有些人可能会感到不能集中注意力学习，有些人可能感觉集中注意力学习是很好的缓解情绪的方式。\n            ")]),t._v(" "),a("p",[t._v("\n              我们会有咨询员帮助大家处理情绪反应，让大家更多的理解自杀。如果你有需求，请告诉你的老师。\n              我们和你在一起！\n            ")])])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitcontent}},[t._v("下载")])],1)],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"tab"},[a("thead",[a("tr",[a("th",[t._v("如何给学生死亡通知")]),t._v(" "),a("th",[t._v("如何给父母死亡通知")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("span",[t._v("学生自杀时")]),t._v(" "),a("span",[t._v("死因不明时")]),t._v(" "),a("span",[t._v("家属不希望公开死因时")])]),t._v(" "),a("td",[a("span",[t._v("学生自杀时")]),t._v(" "),a("span",[t._v("死因不明时")]),t._v(" "),a("span",[t._v("家属不希望公开死因时")])])])])])])}]};var Xa=a("VU/8")(Ga,Za,!1,function(t){a("g5uV")},"data-v-161c79f2",null).exports,Ja={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["环境安全管理","环境安全"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"1",2:"10002",3:"李静",4:"女",5:12276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},Qa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"环境安全添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"环境安全编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var Ka=a("VU/8")(Ja,Qa,!1,function(t){a("d0Cb")},"data-v-69e96150",null).exports,tn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["危机预防小组","危机预防"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:14276525678,6:"初三3班",7:"徐媛",8:"2019/3/3"},{1:"2",2:"10002",3:"李静",4:"女",5:13276525678,6:"初三3班",7:"徐媛",8:"2019/3/1"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},en={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"预防小组添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预防小组编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var an=a("VU/8")(tn,en,!1,function(t){a("IoCr")},"data-v-193962ad",null).exports,nn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["预警触发","预警触发"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"初三3班",5:"是",6:"是",7:"是",8:"徐媛",9:"2014/3/3"},{1:"2",2:"10002",3:"李静",4:"初三2班",5:"是",6:"是",7:"是",8:"徐媛",9:"2014/2/21"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},sn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"自杀想法"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"自杀计划"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"自杀行动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"9",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var on=a("VU/8")(nn,sn,!1,function(t){a("8SHa")},"data-v-46500634",null).exports,ln={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["应对策略指导","针对自杀倾向者的应急指导"],tableData:[{id:"12987122",name:"王小虎",amount1:"234",amount2:"3.2",amount3:10},{id:"12987122",name:"王小虎",amount1:"165",amount2:"4.43",amount3:12},{id:"12987124",name:"王小虎",amount1:"324",amount2:"1.9",amount3:9},{id:"12987124",name:"王小虎",amount1:"621",amount2:"2.2",amount3:17},{id:"12987126",name:"王小虎",amount1:"539",amount2:"4.1",amount3:15}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},rn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("headson",{attrs:{headson:this.headson}}),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"data"},[e("div",{staticClass:"am-container"},[e("img",{attrs:{src:a("f4Ga"),alt:""}})])])}]};var cn=a("VU/8")(ln,rn,!1,function(t){a("gJe/")},"data-v-ece0c57e",null).exports,un={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["安全计划","安全计划数据"],tableData:[{1:"1",2:"10003",3:"孟凡",4:"男",5:"14276525678",6:"初三3班",7:"徐媛",8:"2014/3/3"},{1:"2",2:"10002",3:"李静",4:"女",5:"13276525678",6:"初三3班",7:"徐媛",8:"2014/3/3"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/sand/group/list",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list),console.log(t)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n          范围：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),a("li",[t._v("\n          级别：\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},t._l(t.$store.state.adminGroup,function(e,n){return a("option",{key:n,attrs:{selected:"selected"},domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n        删除\n        "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"院系"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"咨询师"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"评估时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("处理")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"安全计划添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"安全计划编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[this._v("关键字：")]),this._v(" "),e("input",{attrs:{type:"text",placeholder:"请输入手机号，学号，姓名"}}),this._v(" "),e("i",{staticClass:"iconfont icon-sousuo",attrs:{"data-v-30c34ff0":""}})])}]};var hn=a("VU/8")(un,dn,!1,function(t){a("4CR6")},"data-v-38f3e016",null).exports,mn=a("M5l7"),pn=a.n(mn),fn=a("71e1"),gn=a.n(fn),vn={data:function(){return{select:"",timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["系统量表","系统量表管理"],tableData:[],multipleSelection:[],editableTabs:[],activeName:"",page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.gettype()},methods:{gettype:function(){var t=this;this.axios.get("/api/v1/tools/selectScaleTypeList").then(function(e){0==e.data.code&&(t.editableTabs=e.data.data,t.editableTabs.map(function(t,e){t.id=t.id+""}),t.activeName=t.editableTabs[0].id,t.getlist(t.page.currentpage,t.page.pagesize))})},show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");gn.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){var a=this;this.axios.post("/api/v1/admin/scale/getScaleList",{page:t,size:e,type:a.activeName}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list)})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.timu=pn.a,console.log(pn.a)},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleClick:function(t,e){this.activeName=t.name;this.getlist(this.page.currentpage,this.page.pagesize)},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},_n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.editableTabs,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.id}})}),1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"name",label:"专业名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:" prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"200px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"10px"},attrs:{id:"canvas"}})]),t._v(" "),a("el-dialog",{style:{height:"500px"},attrs:{title:"症状自评量表(SCL-90)",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("table",{staticClass:"personinfo"},[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("题目")]),t._v(" "),a("th",[t._v("备选")])]),t._v(" "),t._l(t.timu,function(e,n){return a("tr",{key:n},[a("td",{attrs:{align:"center"}},[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e))]),t._v(" "),a("td",[t._v("从无/轻度/中度/偏重/严重")])])})],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[]};var bn=a("VU/8")(vn,_n,!1,function(t){a("jI9P")},"data-v-35258ff9",null).exports,yn={data:function(){return{select:"",timu:"",dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["系统量表","自由量表制作和管理"],tableData:[{1:"1",2:"UCLA 孤独量表",3:"UCLA 孤独量表（UCLA Lonelin.",4:"下面描述了人们生活中..",5:"√"},{1:"1",2:"UCLA 孤独量表",3:"UCLA 孤独量表（UCLA Lonelin.",4:"下面描述了人们生活中..",5:"√"}],multipleSelection:[],page:{currentpage:1,countpage:10,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{show:function(){this.dialogFormVisible=!0,console.log(1)},useqrcode:function(){var t=document.getElementById("canvas");console.log(1),gn.a.toCanvas(t,"http://psy.hxxlcloud.com/mpsycholo/ ",function(t){t&&console.error(t),console.log("QRCode success!")})},getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.timu=pn.a,console.log(pn.a)},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},xn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"center"}},[a("el-tab-pane",{attrs:{label:"自有量表"}},[a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"量表名称（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"简介（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"指导语（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"完成（？）"}})],1),t._v(" "),a("el-dialog",{attrs:{title:"量表二维码",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e},opened:t.useqrcode}},[a("canvas",{ref:"canvas",staticStyle:{"margin-left":"150px"},attrs:{id:"canvas"}})]),t._v(" "),a("el-dialog",{style:{height:"500px"},attrs:{title:"症状自评量表(SCL-90)",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("table",{staticClass:"personinfo"},[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("题目")]),t._v(" "),a("th",[t._v("备选")])]),t._v(" "),t._l(t.timu,function(e,n){return a("tr",{key:n},[a("td",{attrs:{align:"center"}},[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e))]),t._v(" "),a("td",[t._v("从无/轻度/中度/偏重/严重")])])})],2),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")])]),t._v(" "),a("el-tab-pane",{attrs:{label:"问题"}},[a("div",{staticClass:"work"},[a("span",[t._v("上传")]),t._v(" "),a("span",[t._v("修改")]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"类型（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"问题（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"备选答案（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"备选答案得分（？）"}})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")])]),t._v(" "),a("el-tab-pane",{attrs:{label:"因子"}},[a("div",{staticClass:"work"},[a("span",[t._v("修改")]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"因子名称（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"题号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"运算（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"运算值（？）"}})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")])]),t._v(" "),a("el-tab-pane",{attrs:{label:"解释"}},[a("div",{staticClass:"work"},[a("span",[t._v("修改")]),t._v(" "),a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n          删除\n          "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"解释内容（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"所属因子（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"分数起止（？）"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"状态（？）"}})],1)],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")])])],1)],1)},staticRenderFns:[]};var wn=a("VU/8")(yn,xn,!1,function(t){a("84/M")},"data-v-12fac7ce",null).exports,kn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["测试结果预警",""],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},Cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"search"},[a("ul",[a("li",[t._v("\n        范围：\n        "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.formLabelWidth,expression:"formLabelWidth"}],attrs:{name:"",id:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.formLabelWidth=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("option",{attrs:{value:""}},[t._v("人际关系")])])])])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"1",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"2",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"3",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"4",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"5",label:"量表"}}),t._v(" "),a("el-table-column",{attrs:{prop:"6",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"7",label:"测评时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"8",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"9",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var $n=a("VU/8")(kn,Cn,!1,function(t){a("I8bY")},"data-v-2380c0aa",null).exports,zn=(a("1nuA"),{data:function(){return{disabled:!0,activeName:"first",dialogFormVisible:!1,dialogFormVisible1:!1,loading:!1,roles:"",form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:"",scale_id:""},times:"",form2:{scale_id:"",scale_type:"",test_type:"",job_num:"",valid:"",name:"",start_time:"",unit_group_id:"",expire_time:""},formLabelWidth:"100px",headson:["测试结果","测试结果数据查看"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:"",eglist:[[{1:{caleid:2}},{2:{caleid:4}},{3:{caleid:6}},{4:{caleid:8}}],[{1:{caleid:3}},{2:{caleid:5}},{3:{caleid:6}},{4:{caleid:8}}]],factor:[{id:1,cales:[{id:2},{id:3}]},{id:2,cales:[{id:4},{id:5}]},{id:3,cales:[{id:6},{id:7}]},{id:4,cales:[{id:8},{id:9}]}],editableTabs:[]}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},mounted:function(){this.remoteMethod(""),this.gettype()},methods:{gettype:function(){var t=this;this.axios.get("/api/v1/tools/selectScaleTypeList").then(function(e){0==e.data.code&&(t.editableTabs=e.data.data,t.editableTabs.map(function(t,e){t.id=t.id+""}),t.activeName=t.editableTabs[0].id,t.getlist(t.page.currentpage,t.page.pagesize))})},mouse:function(){var t=this;this.eglist.map(function(e){console.log(e),e.map(function(e){for(var a in console.log(e),e){var n=a,i=e[a].caleid;console.log(i);var s=t.factor.find(function(t){return t.id==n});console.log(s)}})})},gostatistic:function(){this.go(1)},goscore:function(){this.go(2)},goanswer:function(){this.go(3)},go:function(t){console.log(this.multipleSelection);var e=[];0!==this.multipleSelection.length?this.multipleSelection.map(function(t){e.push(t.id)}):this.$message("请确定选中了选项");var a=this;if(this.axios.post("/api/v1/admin/scale/getTestResultSet",{ids:e}).then(function(t){if(0==t.data.code){var e=c()(t.data.data);localStorage.setItem("scalesobj",e)}else a.$message(t.data.msg)}),1==t){var n=a.$router.resolve({path:"/Gauge/statistic",query:{id:96}});window.open(n.href,"_blank")}else if(2==t){var i=a.$router.resolve({path:"/Gauge/answer_score",query:{id:96}});window.open(i.href,"_blank")}else if(3==t){var s=a.$router.resolve({path:"/Gauge/test_export_answer",query:{id:96}});window.open(s.href,"_blank")}else{var o=a.$router.resolve({path:"/Gauge/totalresult"});window.open(o.href,"_blank")}},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/system/scale/getSelectScaleList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},selectcale:function(){var t=this.form2.scale_id;this.showtable();[12,29,31,35,43].find(function(e){return e==t})?this.disabled=!1:(this.disabled=!0,this.$message("请选择[scl90,EPQ,16pf,ASLEC,MHT]固定量表进行统计"))},showtable:function(){this.$refs.schoolcheck.treeflag=!1,this.$refs.schoolcheck.newvalue,this.form2.unit_group_id=this.$refs.schoolcheck.item.id-0,console.log(this.times);var t={};for(var e in this.times&&(this.form2.start_time=this.times[0],this.form2.expire_time=this.times[1]),this.form2)this.form2[e]&&(t[e]=this.form2[e]);console.log(this.form2,t),this.getlist(this.page.currentpage,this.page.pagesize,t)},formatDuring:function(t){parseInt(t/864e5);return parseInt(t%864e5/36e5)+" : "+parseInt(t%36e5/6e4)+" : "+t%6e4/1e3},getlist:function(t,e,a,n){n||(n="");var i=this;this.axios.post("/api/v1/admin/scale/getTestResultList",{page:t,size:e,w:a}).then(function(t){0==t.data.code&&(i.page.countpage=t.data.data.total,i.tableData=t.data.data.list,i.tableData.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(a/8640);t.age=n}else t.age="null";var i=new Date(t.end_test_time).valueOf()-new Date(t.start_test_time).valueOf(),s=yt.a.duration(i),o=(a=yt.a.duration(s).hours(),yt.a.duration(s).minutes()),l=yt.a.duration(s).seconds();t.times=a+":"+o+":"+l,0==t.sex?t.sex="女":t.sex="男",t.valid-0==1?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查"}))})},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/Gauge/resultdetail",query:{id:19}}),this.$router.push({path:"/Gauge/resultdetail",query:{id:e.id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},tabClick:function(t,e){console.log(t,e)},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},draw:function(){var t=this.$refs.chart;console.log(t),this.myChart=this.$echarts.init(t);this.myChart.setOption({title:{text:"参测统计信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"15%",right:"4%",bottom:"3%",containLabel:!0},yAxis:[{type:"category",data:["zonghe","潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],xAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"30",data:[10,52,200,334,390]}]}),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}},components:{headson:F.a,schoolcheck:W}}),Sn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"cell-style":{width:"80px",height:"30px"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"job_num",label:"学号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("数据统计")])]}}])})],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Fn=a("VU/8")(zn,Sn,!1,function(t){a("fuYE")},"data-v-12b51bab",null).exports,Dn=(a("t4zo"),a("QJWm"),{data:function(){return{case_data:{check_basic:"",check_sps:"",check_type:"",trace_basic:"",trace_sps:"",trace_type:""},user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},factors:"",answers:"",facname:[],score:[],user:{name:"",sex:"",job_num:"",phone:"",unit_group_name:"",address:""},checkid:"",check:[{id:0,name:"无需关注"},{id:1,name:"学业问题"},{id:2,name:"恋爱关系"},{id:3,name:"人际交往"},{id:4,name:"职业发展"},{id:5,name:"情绪问题"},{id:6,name:"躯体疾病"}],type:1,detail:"",option:""}},mounted:function(){this.getlist();var t=this.option;console.log(t)},beforeCreated:function(){},methods:{exportss:function(){l()(".content").html2docx("统计分析文档")},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){t.detail=e.data.data,t.factors=e.data.data.result,t.answers=e.data.data.answer,console.log(e.data.data.result,t.factors,t.answers);for(var a in t.factors)t.factors[a].calc.length>0&&(t.facname.push(t.factors[a].desc.factor.name),t.score.push(t.factors[a].score));t.print(t.type),console.log(t.facname,t.score)}})},return1:function(){this.$router.go(-1)},draw:function(){var t,e=this.$refs.chart;this.myChart&&this.myChart.clear(),console.log(this.facname,this.score),this.myChart=this.$echarts.init(e);var a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}{c} ({d}%)"},legend:{orient:"vertical",x:"left",data:this.facnanme},series:[{name:"得分：",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:this.score}]},n={xAxis:{type:"category",data:this.facname},yAxis:{type:"value"},tooltip:{},series:[{data:this.score,type:"line"}]},i={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:this.facname,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"分数",type:"bar",barWidth:"100",data:this.score}]};t=1==this.type?a:2==this.type?n:i,l()(".chart").data("option",t),console.log(l()(".chart").data("option")),this.option=t,this.myChart.setOption(t),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})}}}),An={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("table",{staticClass:"tb_title"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("测试记录记录查看")]),t._v(" "),a("td",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("td",[t._v(t._s(t.detail.name))]),t._v(" "),a("td",{staticClass:"label"},[t._v("学号：")]),t._v(" "),a("td",[t._v(t._s(t.detail.job_num))])]),t._v(" "),a("tr",[a("td",{staticClass:"label"},[t._v("性别：")]),t._v(" "),a("td",[t._v(t._s(1==t.detail.sex?"男":"女"))]),t._v(" "),a("td",{staticClass:"label"},[t._v("手机：")])])])]),t._v(" "),t._m(0),t._v(" "),a("fieldset",[a("legend",[t._v("测试结果")]),t._v(" "),a("table",{staticClass:"tb_stat"},[a("tbody",[a("tr",[a("th",[t._v("因子")]),t._v(" "),t._l(t.facname,function(e,n,i){return a("td",{key:i},[t._v(t._s(e))])})],2),t._v(" "),a("tr",[a("td",[t._v("得分")]),t._v(" "),t._l(t.score,function(e,n,i){return a("td",{key:i},[t._v(t._s(e))])})],2)])])]),t._v(" "),a("fieldset",[a("legend",[t._v("\n      量表剖析图 【\n      "),a("span",{on:{click:function(e){t.print(1)}}},[t._v("饼图")]),t._v(" "),a("span",{on:{click:function(e){t.print(2)}}},[t._v("折线图")]),t._v(" "),a("span",{on:{click:function(e){t.print(3)}}},[t._v("柱形图")]),t._v("】\n    ")]),t._v(" "),a("div",{ref:"chart",staticClass:"chart"})]),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("结果解释")]),t._v(" "),t._l(t.factors,function(e,n,i){return a("div",{key:i},[e.desc?a("span",[t._v("【"+t._s(e.desc.factor.name)+"】"+t._s(e.desc.calc.explain)+"。")]):t._e()])})],2),t._v(" "),a("fieldset",{staticStyle:{"line-height":"150%"}},[a("legend",[t._v("原始选择")]),t._v(" "),a("el-row",t._l(t.answers,function(e,n){return a("el-col",{key:n,attrs:{xs:2,sm:2,md:2,lg:2}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n          "+t._s(n+1)+"．[\n          "),e.length>=0?a("span",{staticClass:"answer"},t._l(e,function(e,n){return a("i",{key:n},[t._v(t._s(e)+",")])}),0):a("span",{staticClass:"answer"},[t._v(t._s(e))]),t._v("]\n        ")])])}),1)],1),t._v(" "),a("div",{staticClass:"buttom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.return1()}}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{align:"center"}},[e("b",[this._v("量表：同学关系问卷")]),this._v(" 【\n    "),e("a",{staticStyle:{color:"blue"},attrs:{href:"#",target:""}},[this._v("测试报告")]),this._v("】\n  ")])}]};var En=a("VU/8")(Dn,An,!1,function(t){a("KU6C")},"data-v-59d0e510",null).exports,Vn={data:function(){return{formLabelWidth:"70px",isbtnActive:!1,dialogFormVisible1:!1,selectid:"",pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},pickerOptions2:this.beginDate(),selsets:[{value:1,name:"团体"},{value:2,name:"个人"}],target:"",form1:{scale_id:"",type:"",target:"",start_time:"",expire_time:""},isactive:"",headson:["测试组合及分发","系统量表管理，操作"],roles:"",loading:!1,tabls:["组合分发","组合设置"],tabindex:1,page:{currentPage:1,total:0,flag:!1,size:20},index1:"",addflag:!1,values:{value1:"",value2:"",value3:""},thead:["所选量表","所选班级","学生学号","添加时间","截止时间","操作"],thead1:["序号","名称","量表组合","测评二维码"],tableData3:[],submitflag:!0}},watch:{},created:function(){this.getList(this.page.currentPage,this.page.size)},methods:{getList:function(t,e){var a=this;this.axios.post("/api/v1/admin/scale/getScaleCombList",{page:t,size:e}).then(function(t){var e=t.data.data.list;a.page.total=t.data.data.total,e.map(function(t,e){if(t.scale.length>0){var a="";t.scale.map(function(t){a=a+t.name+","}),t.scalename=a}else t.scalename="无";if(t.target_name.length>0){var n="";t.target_name.map(function(t){n=n+t.name+","}),t.targetname=n}else t.targetname="无";1==t.type?(t.groupname=t.targetname,t.person="无"):(t.person=t.target,t.groupname="无")}),a.tableData3=e,console.log(e)}),this.page.countpage=Math.ceil(this.tableData3.length/this.page.pagesize)},handleSizeChange:function(t){this.page.size=t,this.getList(this.page.currentPage,this.page.size)},handleCurrentChange:function(t){this.page.currentPage=t,this.getList(this.page.currentPage,this.page.size)},addnumber:function(){this.addflag=!0,this.dialogFormVisible1=!0,this.remoteMethod(""),console.log(this.addflag)},queding:function(t){console.log(this.value1),this.addflag=!1,this.index1=""},cancle:function(t){this.addflag=!1,this.index1=""},setting:function(t){console.log(t),this.index1=t},del:function(t){var e=this,a=[];if(t)a.push(t);else{for(var n=this.$refs.icheck,i=0;i<n.length;i++)if(n[i].checked){var s=n[i].value;a.push(s)}if(0==a.length)return void this.$message("请至少选择一个删除")}console.log(a);var o=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.post("/api/v1/admin/scale/delScaleComb",{id:a}).then(function(t){console.log(t),0==t.data.code?(o.getList(o.page.currentPage,o.page.size),o.$message("删除成功")):o.$message(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelAll:function(){},allcheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=0;a<e.length;a++)e[a].checked=t.checked},icheck:function(){for(var t=this.$refs.allcheck,e=this.$refs.icheck,a=!0,n=0;n<e.length;n++)0==e[n].checked&&(a=!1);t.checked=a,event.target.checked?(event.target.parentNode.parentNode.style.backgroundColor="#F8F8FA",this.isbtnActive=!0):event.target.parentNode.parentNode.style.backgroundColor=""},handleDownload:function(){this.tableData3;for(var t=this.$refs.icheck,e=[],a=[],n=0;n<t.length;n++)if(t[n].checked){var i=t[n].value;console.log(i),e.push(i)}console.log(e);for(n=0;n<e.length;n++)this.tableData3.map(function(t,i){t.sort==e[n]&&a.push(t)});console.log(a);var s=this.thead;Ss.handleDownload(s,["id","job_num","name","unit_group","phone","auth_group_id","last_login"],a)},tab:function(t){console.log(t),this.tabindex=t-0+1},showtable:function(){console.log(1)},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},changecolor:function(t){this.isactive=t-0+1},colorcancel:function(){this.isactive=""},checknode:function(){console.log(this.$refs.schoolcheck1.newvalue)},remoteMethod:function(t){console.log(t);var e=this;this.axios.get("/api/v1/system/scale/getSelectScaleList?key="+t).then(function(t){console.log(t),0==t.data.code&&(e.roles=t.data.data)})},editsure:function(){var t=this,e=this,a=[];1==this.selectid?(a.push(this.$refs.schoolcheck.item.id),this.form1.target=a):this.form1.target=this.target.split(","),this.form1.type=this.selectid,this.axios.post("/api/v1/admin/scale/saveScaleComb",this.form1).then(function(a){0==a.data.code?(e.$message("增加成功"),e.dialogFormVisible1=!1,t.getList(t.page.currentPage,t.page.size)):e.$message(a.data.msg)})},beginDate:function(){var t=this;return{disabledDate:function(e){return t.form1.start_time?new Date(t.form1.start_time).getTime()>=e.getTime():e.getTime()<=Date.now()-864e5}}}},components:{schoolcheck:W,headson:F.a,pagination:O.a}},Ln={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"body"},[a("div",{staticClass:"work"},[a("span",{staticClass:"del",class:{btnactive:t.isbtnActive},on:{click:function(e){t.del()}}},[t._v("\n            删除\n            "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"datas"},[a("table",{ref:"tables",staticClass:"tb_list"},[a("thead",[a("tr",[a("th",[a("input",{ref:"allcheck",staticClass:"icheck",attrs:{type:"checkbox",name:"available",value:"0"},on:{click:function(e){t.allcheck()}}})]),t._v(" "),t._l(t.thead,function(e,n){return a("th",{key:n},[t._v(t._s(e))])})],2)]),t._v(" "),a("tbody",t._l(t.tableData3,function(e,n){return a("tr",{key:n,class:{heightcolor:t.isactive==e.sort},on:{mouseover:function(e){t.changecolor(n)},mouseout:function(e){t.colorcancel()}}},[a("td",{attrs:{align:"center"}},[a("input",{ref:"icheck",refInFor:!0,staticClass:"icheck",attrs:{type:"checkbox",name:"available"},domProps:{value:e.id},on:{click:function(e){e.stopPropagation(),t.icheck()}}})]),t._v(" "),a("td",{staticClass:"sort"},[t._v(t._s(e.scalename))]),t._v(" "),a("td",{staticClass:"class"},[a("span",[t._v(t._s(e.groupname))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.person))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.start_time))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.expire_time))])]),t._v(" "),a("td",[[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.del(e.id)}}},[t._v("删除")])]],2)])}),0)])]),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("新增")]),t._v(" "),a("el-dialog",{attrs:{title:"分发量表",visible:t.dialogFormVisible1,width:"100%"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"发送日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"210px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions1},model:{value:t.form1.start_time,callback:function(e){t.$set(t.form1,"start_time",e)},expression:"form1.start_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止日期","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"210px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions2},model:{value:t.form1.expire_time,callback:function(e){t.$set(t.form1,"expire_time",e)},expression:"form1.expire_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择对象","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择"},model:{value:t.selectid,callback:function(e){t.selectid=e},expression:"selectid"}},t._l(t.selsets,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)],1),t._v(" "),1==t.selectid?a("el-form-item",{attrs:{label:"选择组别","label-width":t.formLabelWidth}},[a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"})],1)]):t._e(),t._v(" "),2==t.selectid?a("el-form-item",{attrs:{label:"选择个人","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",placeholder:"请输入学号,多人请用“,”隔开",onkeyup:"this.value=this.value.replace(/[^\\d\\,]/g,'')"},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"选择量表","label-width":t.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"",multiple:"","reserve-keyword":"",placeholder:"请输入关键词搜索","remote-method":t.remoteMethod,loading:t.loading,"value-key":""},model:{value:t.form1.scale_id,callback:function(e){t.$set(t.form1,"scale_id",e)},expression:"form1.scale_id"}},t._l(t.roles,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)]):t._e()])])},staticRenderFns:[]};var Tn=a("VU/8")(Vn,Ln,!1,function(t){a("cVg+")},"data-v-e4e9f65c",null).exports,In={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["录入测试量表","用户测试数据"],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},mounted:function(){},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){}},components:{headson:F.a}},Rn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("table",[a("tr",[a("td",[t._v("量表：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("类型：")]),t._v(" "),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("关键字：")]),t._v(" "),a("td",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入学号，名字，性别"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"异常",value:"2"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])])])])]),t._v(" "),a("div",{staticClass:"work"},[a("span",{staticClass:"del",on:{click:t.handleDelete}},[t._v("\n      删除\n      "),a("i",{staticClass:"iconfont icon-trash"})])]),t._v(" "),a("div",{staticClass:"data"},[t._m(0),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:" sizes, prev, pager, next",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])]),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"星期","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间起","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间止","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off",type:"time"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"咨询师","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择","value-key":""},on:{change:t.changevalue},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(this.$store.state.sandgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"预警触发编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预警触发名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tr",[a("td",[t._v("1，选题内容")])]),t._v(" "),a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项一")])]),t._v(" "),a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项二")])])]),t._v(" "),a("tr",[a("td",[t._v("2，选题内容")])]),t._v(" "),a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项一")])]),t._v(" "),a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项二")])])]),t._v(" "),a("tr",[a("td",[t._v("3，选题内容")])]),t._v(" "),a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项一")])]),t._v(" "),a("td",[a("input",{attrs:{type:"checkbox",name:"",id:"",value:""}}),t._v(" "),a("span",[t._v("选项二")])])])])}]};var jn=a("VU/8")(In,Rn,!1,function(t){a("rtUK")},"data-v-3a3e7702",null).exports,Pn={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,fileList:[],form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",headson:["导入测试数据","批量导入学生测试数据"],tableData:[{1:"1",2:"2017081",3:"翟宇轩",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/34",8:"自测",9:"有效"},{1:"2",2:"10002",3:"孟凡",4:"男",5:"心理健康诊断测验",6:"1分22秒",7:"2017/3/33",8:"自测",9:"有效"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){this.changeobj(this.tableData)},mounted:function(){},methods:{getlist:function(t,e){},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;var e=t.id,a=t.name;console.log(t),this.$router.push({path:"/game/gamedetail",query:{id:e,name:a}})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){0==t&&this.$router.push({path:"/liangbiao"})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){},changevalue:function(){},cellStyle:function(){},beforeUpload:function(){},upload:function(){}},components:{headson:F.a}},Wn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"data"},[a("div",[a("table",[a("tr",[a("td",[t._v("选择：")]),a("td",[a("el-select",{attrs:{name:"",id:"type"},model:{value:t.formLabelWidth,callback:function(e){t.formLabelWidth=e},expression:"formLabelWidth"}},[a("el-option",{attrs:{value:""}},[t._v("认识自我")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("心理健康")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("自由量表")]),t._v(" "),a("el-option",{attrs:{value:""}},[t._v("人际关系")])],1)],1)]),t._v(" "),a("tr",[a("td",[t._v("上传：")]),a("td",[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":t.beforeUpload,"on-success":t.upload,multiple:"","file-list":t.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("ul",[e("li")])])}]};var Nn=a("VU/8")(Pn,Wn,!1,function(t){a("nLf5")},"data-v-0ec68925",null).exports,Un={data:function(){return{detail:this.$route.params.detail}},created:function(){console.log(this.$route.params.detail)},methods:{goreturn:function(){this.$router.go(-1)}}},Bn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("详情信息")]),t._v(" "),a("table",{staticClass:"personinfo"},t._l(t.detail,function(e,n,i){return a("tr",{key:i},[a("td",[t._v(t._s(n)+" :")]),t._v(" "),a("td",[t._v(t._s(e))])])}),0),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.goreturn}},[t._v("返回")])],1)])},staticRenderFns:[]};var On=a("VU/8")(Un,Bn,!1,function(t){a("rP++")},"data-v-5808e50b",null).exports,Mn=a("Xh+0"),qn=a.n(Mn),Hn={name:"Navbar",data:function(){return{shownav:!1,userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,routename:""}},watch:{$route:function(){this.handleOpen(this.routename)},rightdata:function(){var t={rightdata:this.rightdata,title:this.title,icon:this.icon};this.$root.Bus.$emit("setright",t)}},mounted:function(){var t=this;this.navbardata1(),this.$root.Bus.$on("setMsg",function(e){console.log(e),t.shownav=e})},methods:{hanselect:function(t){},handleOpen:function(t){this.routename=t,this.shownav=!1,console.log(t,this.$route.path)},handleClose:function(t,e){console.log(t,e)},sortnumber:function(t,e){return t-e},navbardata1:function(){var t,e=this,a=qn.a,n=[];for(var i in a)"Evaluation"==a[i].uri&&n.push(a[i].sort);for(var i in n.sort(e.sortnumber),n.map(function(t){for(var n in a)t==a[n].sort&&e.navbardata.push(a[n])}),e.navbardata.map(function(a,n){console.log(e.$route.path.indexOf(a.uri)),-1!==e.$route.path.indexOf(a.uri)&&(console.log(a.uri,n),t=n)}),console.log(e.navbardata,t),e.navbardata)e.keys.push(i),e.leftdata.push(e.navbardata[i].menu_name);e.showright(t)},showright:function(t){var e=this.navbardata[this.keys[t]];console.log(e),this.title=e.menu_name,this.icon=e.icon,this.rightdata=e.items,console.log(this.rightdata),this.domIindex=t,0==e.items.length?(console.log(e.uri),this.rout(e.uri),this.$refs.nav.style.width="80px",this.rightflag=!1):(this.$refs.nav.style.width="220px",this.rightflag=!0)},rout:function(t){console.log(t),this.$router.push("/"+t)},creatdata:function(t,e){var a={};for(var n in t)a[t[n].pid]||(a[t[n].pid]=[]),a[t[n].pid].push(t[n])},findroute:function(t,e){for(var a in t){if(t[a].id==e)return t[a].pid?(e=t[a].pid,this.findroute(t,e)):t[a].id}}}},Yn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.shownav,expression:"shownav"}],ref:"nav",staticClass:"nav"},[a("ul",{staticClass:"left"},t._l(t.leftdata,function(e,n){return a("li",{key:n,ref:"dom",refInFor:!0,class:{firstnav:n==t.domIindex},on:{click:function(e){t.showright(n,e)}}},[a("span",[t._v(t._s(e))])])}),0),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.rightflag,expression:"rightflag"}],staticClass:"right"},[a("li",[a("ul",[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("h5",[a("i",{class:"iconfont "+t.icon}),t._v("\n               "+t._s(t.title)+"\n             ")]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#303240","text-color":"#5F8BE4","active-text-color":"#fff",router:!0},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.rightdata,function(e,n){return a("div",{key:n},[0==e.items.length?a("el-menu-item",{class:{active:"/"+e.uri==t.$route.path},attrs:{index:"/"+e.uri},on:{click:function(e){t.hanselect(n)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.menu_name))])]):a("el-submenu",{attrs:{index:e.uri+""}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.menu_name))])]),t._v(" "),t._l(e.items,function(e,n){return a("el-menu-item-group",{key:n},[a("el-menu-item",{attrs:{index:"/"+e.uri}},[t._v(t._s(e.menu_name))])],1)})],2)],1)}),0)],1)],1)],1)])])])},staticRenderFns:[]};var Gn={name:"layout",data:function(){return{headflag:!1}},methods:{},components:{top:C,Navbar:a("VU/8")(Hn,Yn,!1,function(t){a("85E7")},"data-v-0f7d121d",null).exports,headson:F.a}},Zn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"headtop"},[e("top")],1),this._v(" "),e("div",{staticClass:"main-container"},[e("div",[e("headson"),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)])])},staticRenderFns:[]};var Xn=a("VU/8")(Gn,Zn,!1,function(t){a("8xdo")},"data-v-31abc9cf",null).exports,Jn={data:function(){return{role:"",shownav:!1,userId:1,navbardata:[],rightdata:{},leftdata:[],title:"",icon:"",domIindex:0,keys:[],rightflag:!0,permission:""}},beforeMount:function(){this.navbardata1()},watch:{"$route.path":function(){this.navbardata1()},rightdata:function(){var t={rightdata:this.rightdata,title:this.title,icon:this.icon};localStorage.setItem("content",c()(t)),this.$store.commit("setnav",{content:t})}},mounted:function(){var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t},methods:{navbardata1:function(){var t=this,e=[],a=[],n=[],i=qn.a,s=[];t.permission=i,t.permission=t.NestedToFlat(i),function t(e,a){for(var n in e)if(0!==e[n].items.length){for(var i in e[n].items)if(0==e[n].items[i].flag){e[n].items=[];break}t(e[n].items,a)}return e}(i,s);var o,l=[];for(var r in i)l.push(i[r].sort);for(var r in l.sort(t.sortnumber),l.map(function(t){for(var a in i)t==i[a].sort&&e.push(i[a])}),t.navbardata=e,console.log(e,qn.a),t.navbardata.map(function(e,a){-1!==t.$route.path.indexOf("/"+e.menu_route+"/")&&(o=a),t.$route.path=="/"+e.menu_route&&(o=a)}),t.navbardata){n.push(r),(s={}).menu_name=t.navbardata[r].menu_name,s.icon=t.navbardata[r].icon,a.push(s)}t.leftdata=a,t.keys=n,t.showright(o)},showright:function(t,e){var a=this.navbardata[this.keys[t]];this.title=a.menu_name,this.icon=a.icon,this.rightdata=a.items,this.domIindex=t},rout:function(t){this.$router.push("/"+t)},NestedToFlat:function(t){var e=[];for(var a in t)e.push(t[a]),0!==t[a].items.length&&(e=e.concat(this.NestedToFlat(t[a].items)));return e}}},Qn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrren"},[a("div",{staticClass:"top1"},[a("div",{staticClass:"right"},[a("div",{staticClass:"help"},[a("span",[t._v("亲爱的"+t._s(t.role.name)+":")])]),t._v(" "),a("div",{staticClass:"dear"},[t._v("欢迎登陆心理管理系统")]),t._v(" "),a("div",{staticClass:"btn"},[t._v("点击下方磁片。快捷进入相应的办公界面")])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box2"},[t._m(0),t._v(" "),t._l(t.leftdata,function(e,n){return a("div",{key:n,ref:"dom",refInFor:!0,staticClass:"box33",class:{firstnav:n==t.domIindex},staticStyle:{"background-color":"#BDD8E1"},on:{click:function(e){t.showright(n,e)}}},[a("span",{class:"iconfont "+e.icon}),t._v(" "),a("i",[t._v(t._s(e.menu_name))])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box11"},[e("h4",[this._v("通知")]),this._v(" "),e("p",[this._v("     你们好本土化、多维度的专业生涯测评，帮助学生选择合适的专业领域本土化、帮助学生选择合适的专业领域")])])}]};var Kn=a("VU/8")(Jn,Qn,!1,function(t){a("ySDD")},"data-v-1977d4b0",null).exports,ti={data:function(){return{index1:"",data:[],ids:""}},watch:{data:function(){this.$emit("changedata",this.data,this.ids)}},mounted:function(){this.getlist(this.id),this.index1=this.index;var t=this;setTimeout(function(){console.log(t.index,t.$refs.soli,document.getElementsByClassName("soli")),t.$refs.soli.map(function(e,a){a==t.index&&(console.log(e),e.style.cssText='position: relative;bottom: 0px;background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: "";')})},2e3)},methods:{getlist:function(t){var e=this;e.ids=t,this.axios.post("/api/v1/user/article/list?id="+t).then(function(t){console.log(t),0==t.data.code&&(e.data=t.data.data)})},cli:function(t,e,a){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff","click"==t.type&&(this.getlist(a),t.target.style.cssText="position: relative;bottom: 0px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff",this.$router.push({path:"/studentindex/gpartical",query:{id:a,index:e}}))},move:function(t,e,a){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 0px; background-color: '#00CBA3';transition: all 1s ease; color: '#fff';border-bottom: 1px solied #fff"},first:function(t){"click"==t.type&&this.$router.push({path:"/login"}),this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #00CBA3;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},handleCommand:function(t){this.getlist(t),this.$router.push({path:"/studentindex/gpartical",query:{id:t}})}},props:["index","id"]},ei={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top1"},[a("ul",[a("li",{ref:"soli1",staticClass:"soli1",on:{click:function(e){return e.stopPropagation(),t.first(e)},mouseover:function(e){return e.stopPropagation(),t.first(e)}}},[t._v("首页")]),t._v(" "),t._l(t.$store.state.columns,function(e,n){return n<5?a("li",{key:n,ref:"soli",refInFor:!0,staticClass:"soli",on:{click:function(a){if(a.target!==a.currentTarget)return null;t.cli(a,n,e.id)},mouseover:function(e){if(e.target!==e.currentTarget)return null;t.cli(e)}}},[t._v(t._s(e.name))]):t._e()}),t._v(" "),a("li",{ref:"soli2",on:{click:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseover:function(e){return e.target!==e.currentTarget?null:t.first(e)}}},[a("span",[t._v(" 更多")]),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$store.state.columns,function(e,n){return n>=5?a("el-dropdown-item",{key:n,attrs:{icon:"el-icon-plus",command:e.id}},[t._v(t._s(e.name))]):t._e()}),1)],1)],1)],2)])},staticRenderFns:[]};var ai=a("VU/8")(ti,ei,!1,function(t){a("oENk")},"data-v-df10251a",null).exports,ni={data:function(){return{commentsflag:!0,flag:!0,articalId:"",id:this.$route.query.id,index:this.$route.query.index,column:"",tableData:[],name:"",theme:"",time:"",visit:"",content:" ",pinglun:"",offset:0,getcomment:[]}},methods:{changedata:function(t,e){console.log(t),this.flag=!0,this.id=e,console.log(e),this.tableData=t},handleOpen:function(t,e){var a=this;a.articalId=t,console.log(t),a.axios.post("/api/v1/user/article/visit?id="+t).then(function(t){var e=t.data.data;a.theme=e.theme,a.content=e.content,a.name=e.name,a.time=e.create_time,a.visit=e.visit_count}),a.getcomment=[],a.getcomments(a.articalId,a.offset)},handleClose:function(t,e){console.log(t,e)},gocommon:function(t,e){var a;(a=this).getcomment=[],this.flag=!1,(a=this).articalId=t,this.$store.state.columns.map(function(t){a.id==t.id&&(a.column=t.name,console.log(a.name))}),console.log(a.name),a.axios.post("/api/v1/user/article/visit?id="+t).then(function(t){var e=t.data.data;a.theme=e.theme,a.content=e.content,a.name=e.name,a.time=e.create_time,a.visit=e.visit_count}),a.offset=0;a.getcomments(a.articalId,a.offset,!1)},loginpath:function(){this.$router.push({path:"/login"})},cangyan:function(){var t=this;this.$store.state.token?t.axios.post("/api/v1/user/article/comment",{art_id:t.articalId,content:t.pinglun}).then(function(e){0==e.data.code&&(t.$message("评论成功"),t.commentsflag=!0,t.offset=0,t.getcomments(t.articalId,t.offset,!1))}):this.$message("请去登录后再评论")},getcomments:function(t,e,a){var n=this;n.axios.post("/api/v1/user/article/comment/list",{id:t,offset:e}).then(function(t){if(console.log(t),0==t.data.code){var e=t.data.data;n.getcomment=n.getcomment.concat(e),0==e.length&&(a?n.$message("没有更多评论"):n.commentsflag=!1)}console.log(n.getcomment)})},loadmore:function(){this.getcomment.length>0&&(this.offset=this.getcomment[this.getcomment.length-1].id,this.getcomments(this.offset,this.articalId,!0))}},components:{headtop:ai}},ii={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mains"},[a("div",{staticClass:"head"},[a("headtop",{ref:"headtop",attrs:{index:t.index,id:t.id},on:{changedata:t.changedata}})],1),t._v(" "),t.flag?[a("div",{staticClass:"container atticalcon"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"",width:"700"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"},style:{color:"#8CB6C0",cursor:"pointer"},on:{click:function(a){t.gocommon(e.row.id,t.index)}}},[t._v(t._s(e.row.theme))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.create_time))])]}}])})],1)],1)]:[a("div",{staticClass:"bac"},[a("div",{staticClass:"container1"},[a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("h5",[t._v(t._s(t.column))]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{select:t.handleOpen,close:t.handleClose}},t._l(t.tableData,function(e,n){return a("el-menu-item",{key:n,attrs:{index:""+e.id}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.theme))])])}),1)],1)],1)],1),t._v(" "),a("div",{staticClass:"right",staticStyle:{"text-algin":"center"},attrs:{"v-html":t.content}},[a("div",{staticClass:"title"},[a("h1",{staticClass:"am-article-title am-text-center"},[t._v(t._s(t.theme))]),t._v(" "),a("p",[t._v("\n                作者：\n                "),a("span",[t._v(t._s(t.name))]),t._v("   时间：\n                "),a("span",[t._v(t._s(t.time))]),t._v("   浏览次数：\n                "),a("span",[t._v(t._s(t.visit))])])]),t._v(" "),a("p",{staticClass:"pcon",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),a("div",{staticClass:"pinglun"},[a("span",{staticClass:"logins el-icon-star-on",on:{click:t.loginpath}},[t._v("登录")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pinglun,expression:"pinglun"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.pinglun},on:{input:function(e){e.target.composing||(t.pinglun=e.target.value)}}},[t._v("          233\n        ")]),t._v(" "),a("div",{staticClass:"sub"},[a("input",{attrs:{type:"button",value:"畅言一下"},on:{click:t.cangyan}})]),t._v(" "),a("div",{staticClass:"liuyans"},[t._l(t.getcomment,function(e,n){return a("div",{key:n,staticClass:"tab"},[a("div",{staticClass:"lef"}),t._v(" "),a("div",{staticClass:"rig"},[a("div",{staticClass:"titl"},[t._v("\n                      姓名：\n                      "),a("span",[t._v(t._s(e.name))]),t._v(" 评论时间：\n                      "),a("span",[t._v(t._s(e.create_time))])]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(e.content))])])])}),t._v(" "),t.commentsflag?a("div",{staticClass:"loadmore",on:{click:t.loadmore}},[t._v("加载更多")]):t._e()],2)])])])])]],2)},staticRenderFns:[]};var si=a("VU/8")(ni,ii,!1,function(t){a("8o+N")},"data-v-2bffe6e7",null).exports,oi={data:function(){return{index:this.$route.query.index,content:" <h2>nihao</h2>",pinglun:""}},mounted:function(){console.log(this.index)},methods:{handleOpen:function(t,e){this.axios.post("/api/v1/admin/article/detail/4").then(function(t){console.log(t)}),console.log(t,e)},handleClose:function(t,e){console.log(t,e)},cangyan:function(){console.log(this.pinglun),this.axios.post("/api/v1/user/article/comment",{art_id:1,content:this.pinglun}).then(function(t){console.log(t)})}},components:{headtop:ai}},li={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"head"},[a("headtop",{attrs:{index:t.index}})],1),t._v(" "),a("div",{staticClass:"container1"},[a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:12}},[a("h5",[t._v("栏目1类")]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{select:t.handleOpen,close:t.handleClose}},[a("el-menu-item",{attrs:{index:"1"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章1")])]),t._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章2")])]),t._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章3")])])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"right",staticStyle:{"text-algin":"center"},attrs:{"v-html":t.content}},[a("h2",[t._v("nihao")])])]),t._v(" "),a("div",{staticClass:"pinglun"},[a("span",{staticClass:"logins el-icon-star-on"},[t._v("登录")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pinglun,expression:"pinglun"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.pinglun},on:{input:function(e){e.target.composing||(t.pinglun=e.target.value)}}},[t._v("          233\n        ")]),t._v(" "),a("div",{staticClass:"sub"},[a("input",{attrs:{type:"button",value:"畅言一下"},on:{click:function(e){t.cangyan()}}})])])])},staticRenderFns:[]};var ri=a("VU/8")(oi,li,!1,function(t){a("2eSV")},"data-v-25cee789",null).exports,ci={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["心理普测","查看待测量表"],tableData:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleTestList",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.count,a.tableData=t.data.data.list,0==a.page.countpage&&a.$message("没有待测量表")),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.scaleid=e.sbi_id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,this.$router.push({path:"/test",query:{id:e.id,name:e.view_name,scaleid:e.sbi_id}})},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a,pagination:O.a}},ui={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"view_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题目数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expire_time",label:"截止时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"完成"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.end_test_time?a("span",{staticStyle:{color:"green"}},[t._v("已完成")]):a("span",{staticStyle:{color:"red"}},[t._v("未完成")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("测试")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){a.stopPropagation(),t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])])},staticRenderFns:[]};var di=a("VU/8")(ci,ui,!1,function(t){a("AFh3")},"data-v-aafa0300",null).exports,hi={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["我的自测","根据自己兴趣测试一下量表"],tableData:[],tableData3:[],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleList",{page:t,size:e}).then(function(t){if(0==t.data.code){var e=t.data.data.list;a.page.countpage=t.data.data.count,a.tableData=e}0==a.tableData.length&&this.$message("没有待测量表"),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.$router.push({path:"/test",query:{scaleid:e.id,name:e.view_name}})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0}},components:{headson:F.a,pagination:O.a}},mi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"view_name",label:"友好名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"short_name",label:"英文简称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type_name",label:"量表类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"topic_count",label:"题数"}}),t._v(" "),a("el-table-column",{attrs:{label:"适用年龄"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.min_age+" — "+e.row.max_age))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("测试")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)])])},staticRenderFns:[]};var pi=a("VU/8")(hi,mi,!1,function(t){a("hmOG")},"data-v-1aa785f4",null).exports,fi={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["测试记录","根据自己兴趣测试一下量表"],tableData:[],tableData3:[{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"无效...."},{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"处理中...."},{a:"1",b:"2015-12-3",c:"ucla孤独量表",d:"普测....",e:"查看结果...."}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){var a=this;this.axios.post("/api/v1/scale/getScaleTestResult",{page:t,size:e}).then(function(t){0==t.data.code&&(a.page.countpage=t.data.data.total,a.tableData=t.data.data.list,a.tableData.map(function(t,e){if(t.birth_date){var a=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,n=Math.floor(a/8640);console.log(n),t.age=n}else t.age="null";var i=new Date(t.end_test_time).valueOf()-new Date(t.start_test_time).valueOf(),s=yt.a.duration(i),o=(a=yt.a.duration(s).hours(),yt.a.duration(s).minutes()),l=yt.a.duration(s).seconds();t.times=a+":"+o+":"+l,t.sex-0==0?t.sex="女":t.sex="男",t.valid-0==1?t.valid="有效":t.valid="无效",t.type-0==2?t.type="自测":t.type="普查"})),0==a.tableData.length&&this.$message("没有待测量表"),console.log(t)})},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name,console.log(e),1==e.is_visible?this.$router.push({path:"/Evaluation/caleresult",query:{id:e.id}}):this.$message("该量表结果不可见，请联系管理员")},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a,pagination:O.a}},gi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.handleEdit(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var vi=a("VU/8")(fi,gi,!1,function(t){a("uq8w")},"data-v-1a354ffa",null).exports,_i={data:function(){return{selected:[],data:[{id:1,name:1},{id:2,name:2}],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},name:this.$route.query.name,topic:[],num:1,qusetion:"",option:"",timu:"",prersent:0,flag:!0,starttime:"",disabled:!0}},created:function(){this.getdata()},mounted:function(){},methods:{getdata:function(){var t=this;this.axios.get("/api/v1/scale/startSelfTest?id="+this.$route.query.scaleid).then(function(e){0==e.data.code?(t.starttime=e.data.data.start_test_time,t.topic=e.data.data.topic,t.show(t.num)):(t.flag=!1,t.$alert("<strong>"+e.data.msg+"</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.go(-1)}))})},show:function(t){var e=t,a=t/this.topic.length;this.prersent=(100*a).toFixed(2)-0,this.timu=this.topic[e-1],2==this.timu.type&&this.timu.selected&&(this.selected=this.timu.selected),this.timu.selected?this.disabled=!1:this.disabled=!0,this.qusetion=this.timu.topic.content,this.option=this.timu.topic.option},pre:function(){this.selected=[],this.num>1?(this.num--,this.show(this.num)):alert("已是第一题")},next:function(){this.num<this.topic.length?(this.selected=[],this.num++,this.show(this.num)):(this.$message("最后一题可以提交"),this.num,this.topic.length)},chooseAnswer:function(){var t=this;if(t.disabled=!1,1==t.timu.type){var e=[];e.push(t.timu.select),t.topic[t.num-1].selected=e}else t.topic[t.num-1].selected=t.selected;setTimeout(function(){t.next()},500),console.log(t.topic[t.num-1],t.selected)},submit:function(){var t=this,e=[],a=[];if(this.topic.map(function(t,n){t.selected&&t.selected.length>0?(console.log(t.selected),e.push(t.selected)):(e.push(null),a.push(n+1))}),a.length>0){var n="无答题：";return a.map(function(t,e){n=n+t+","}),void alert("有漏题，请答完题目在提交。"+n)}e.map(function(t,a){Array.isArray(t)&&1==t.length&&(e[a]=t[0])}),console.log(e);var i={scale_id:t.$route.query.scaleid,start_test_time:t.starttime,answer:e};t.$route.query.id&&(i.answer_id=t.$route.query.id),this.axios.post("/api/v1/scale/submitAnswer",i).then(function(e){0==e.data.code?t.$alert("<strong>提交成功</strong>","提示",{dangerouslyUseHTMLString:!0}).then(function(){t.$router.go(-1)}):t.$message(e.data.msg)})},golin:function(){this.$router.go(-1)}}},bi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("header",[a("span",{staticClass:"iconfont icon-angle-left",on:{click:t.golin}}),t._v("\n    "+t._s(t.name)+"\n    "),a("span")]),t._v(" "),t.flag?a("main",[a("div",{staticClass:"top"},[a("div",{staticClass:"top1"},[t._v("量表名称")]),t._v(" "),a("div",{staticClass:"content"},[a("el-progress",{attrs:{percentage:t.prersent}}),t._v(" "),a("div",{staticClass:"th"},[a("i",[t._v(t._s(t.num))]),t._v("/\n          "),a("em",[t._v(t._s(t.topic.length))])]),t._v(" "),a("div",{staticClass:"qus"},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.num))]),t._v(",\n            "),a("i",[t._v(t._s(t.qusetion))]),t._v(" "),1==t.timu.type?a("span",[t._v("(这是单选)")]):a("span",[t._v("(这是多选)")])]),t._v(" "),a("div",{staticClass:"a1"},[1==t.timu.type?[a("el-radio-group",{model:{value:t.timu.select,callback:function(e){t.$set(t.timu,"select",e)},expression:"timu.select"}},t._l(t.option,function(e,n){return a("el-radio",{key:n,attrs:{label:n+1},on:{change:function(e){t.chooseAnswer()}}},[t._v(t._s(e[0]))])}),1)]:[a("div",[a("el-checkbox-group",{on:{change:function(e){t.chooseAnswer()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.option,function(e,n){return a("el-checkbox",{key:n,attrs:{label:n+1}},[t._v(t._s(e[0]))])}),1)],1)]],2)])],1),t._v(" "),a("div",{staticClass:"jh"},[a("input",{staticClass:"left",class:{active:t.num>1},attrs:{type:"button",value:"上一题"},on:{click:t.pre}}),t._v(" "),t.num<t.topic.length?a("input",{staticClass:"right active show",attrs:{disabled:t.disabled,type:"button",value:"下一题"},on:{click:t.next}}):a("input",{staticClass:"get active",attrs:{type:"button",value:"提交"},on:{click:t.submit}})])])]):t._e()])},staticRenderFns:[]};var yi=a("VU/8")(_i,bi,!1,function(t){a("JSVU")},"data-v-57d4d786",null).exports,xi={data:function(){return{scalename:this.$route.query.name,starttime:this.$route.query.starttime,detail:"",factors:"",answers:"",facname:[],score:[]}},created:function(){this.getlist()},methods:{getlist:function(){var t=this;this.axios.get("/api/v1/scale/getTestResultDetail",{params:{id:this.$route.query.id}}).then(function(e){if(0==e.data.code){t.detail=e.data.data,t.factors=e.data.data.result,t.answers=e.data.data.answer,console.log(e.data.data.result,t.factors,t.answers);for(var a in t.factors)t.factors[a].calc.length>0&&(t.facname.push(t.factors[a].desc.factor.name),t.score.push(t.factors[a].score));t.print(t.type),console.log(t.facname,t.score)}})},get:function(){},goagain:function(t){1==t?this.$router.push({path:"/studentindex/caleindex",query:{id:this.$route.query.id,name:this.$route.query.name}}):window.open("about:blank","_self").close()}}},wi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("main",[a("div",{staticClass:"top"},[t._v(t._s(t.scalename))]),t._v(" "),a("div",{staticClass:"but",staticStyle:{"margin-bottom":"10px"}}),t._v(" "),a("div",{staticClass:"time"},[t._v("\n      测评时间：\n      "),a("span",[t._v(t._s(t.starttime))])]),t._v(" "),a("div",{staticClass:"a3"},[a("div",{staticClass:"a2"},[t._v("测试结果")]),t._v(" "),a("fieldset",{staticStyle:{"line-height":"200%"}},[a("legend",[t._v("结果解释")]),t._v(" "),t._l(t.factors,function(e,n,i){return a("div",{key:i,staticClass:"yz"},[e.desc?a("span",[t._v("【"+t._s(e.desc.factor.name)+"】"+t._s(e.desc.calc.explain)+"。")]):t._e()])})],2)]),t._v(" "),a("div",{staticClass:"buttom"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("span"),this._v(" 测评管理系统\n    "),e("span")])}]};var ki=a("VU/8")(xi,wi,!1,function(t){a("zhqg")},"data-v-4c2a2704",null).exports,Ci={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["团辅记录","我的团辅记录"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},$i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{property:"a",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{property:"b",label:"课程类别"}}),t._v(" "),a("el-table-column",{attrs:{property:"f",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.c))])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var zi=a("VU/8")(Ci,$i,!1,function(t){a("U7XW")},"data-v-fcaa1d32",null).exports,Si={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"120px",headson:["课程列表","查看课程列表"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/admin/sand/group/add",{name:t.form.name,unit_name:t.form.unit_name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},Fi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),a("div",{staticClass:"data"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{property:"a",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{property:"b",label:"课程类别"}}),t._v(" "),a("el-table-column",{attrs:{property:"f",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间段"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.c))])]}}])})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.pageCurrentChange}})],1)]),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"沙盘编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Di=a("VU/8")(Si,Fi,!1,function(t){a("FQta")},"data-v-a77aff38",null).exports,Ai={data:function(){return{disabledInput:!0,save:!0,id:this.$route.query.id,detail:"",toux:!1,user_ext:{nation:"",father_age:"",father_job:"",father_die_age:"",mother_age:"",mother_job:"",mother_die_age:"",parent_marriage_status:"",parent_divorced_age:"",foster_flag:"",foster_age:"",stu_type:"",only_child:"",economy:""},option:{imgsrc:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixed:!1,fixedNumber:[4,4],infoTrue:!0},status:"",cropper:!1,newimgsrc:"",visible1:!1,visible2:!1,values:{password:"",repassword:"",name:"",sex:"",birth_day:"",id_card:"",phone:""},gradename:"",pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},headson:["学生资料修改","修改学生个人资料"],tabls:["基本信息","扩展信息"],tabindex:1}},watch:{},created:function(){console.log(this.id),this.baseinfo(this.id),console.log(this.$refs.schoolcheck1)},methods:{getList:function(){this.axios.post("/api/v1/admin/user/detail")},changedisable:function(){this.disabledInput=!1},tab:function(t){console.log(t),this.tabindex=t-0+1},baseinfo:function(t){this.dialogFormVisible=!0,console.log(t);var e=this;e.axios.get("/api/v1/user/viewDetails").then(function(t){console.log(t);var a=t.data.data;for(var n in t.data.data)e.user_ext[n]=t.data.data[n],isNaN(t.data.data[n]-0)||(e.user_ext[n]=t.data.data[n]-0);e.values.sex=a.sex,a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.detail=a,y.a.set("detail",a)})},saveinfo:function(){console.log(11111);var t={},e=this,a=JSON.parse(y.a.get("detail"));for(var n in e.user_ext)e.user_ext[n]&&e.user_ext[n]!==a[n]&&(t[n]=e.user_ext[n]);e.axios.post("/api/v1/user/saveExtInfo",t).then(function(t){console.log(t),0==t.data.code?e.$message("编辑学生扩展信息成功"):e.$message(t.data.msg)})},setstudent:function(){this.values.password,this.values.repassword,this.values.name=this.detail.name,this.values.sex,this.values.birth_day=this.detail.birth_date,this.values.id_card=this.detail.id_card,this.values.phone=this.detail.phone,this.values.sex=this.values.sex+"";var t=this,e={};console.log(this.values);var a=JSON.parse(y.a.get("detail"));if(this.values.password||this.values.repassword){if(this.values.password!==this.values.repassword)return void this.$message("两次输入密码不相同");if(this.values.password.length<4||this.values.password.length>20)return void this.$message("密码字符集在4到20区间，请输入正确的位数");this.values.password=q()(this.values.password),this.values.repassword=q()(this.values.repassword)}for(var n in this.values)this.values[n]&&this.values[n]!==a[n]&&(console.log(this.values.password,this.values.repassword,e),e[n]=this.values[n]);console.log(this.values.password,this.values.repassword,e),"{}"!=c()(e)&&t.axios.post("/api/v1/user/saveBaseInfo",e).then(function(e){console.log(e),0==e.data.code?t.$message("编辑学生基本信息成功"):t.$message(e.data.msg)})},returnback:function(){this.$router.go(-1)},checkSex:function(t){"男"==t.target.value?(this.values.sex=0,console.log(this.values.sex,this.values.group)):this.values.sex=1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},fileChange:function(t){var e=this,a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;if(!(a.size/1024<200))return this.$message.error("上传文件大小不能超过 200k!"),!1;if(window.FileReader){var n=new FileReader;n.readAsDataURL(a),n.onload=function(t){e.option.imgsrc=t.target.result,console.log(e.option.imgsrc,t.target),e.cropper=!0}}},cutimg:function(){var t=this;this.$refs.cropper.startCrop(),this.$refs.cropper.getCropData(function(e){t.newimgsrc=e,t.$refs.cropper.clearCrop(),t.cropper=!1})},saves:function(){this.save=!1}},components:{headson:F.a,schoolcheck:W,tables:tt,pagination:O.a,VueCropper:x.VueCropper}},Ei={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabls,function(e,n){return a("li",{key:n,class:{tabactive:t.tabindex-1==n},on:{click:function(e){t.tab(n)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("ul",[1==t.tabindex?a("li",{staticClass:"data1"},[a("div",{staticClass:"luru"},[t._v("学生资料")]),t._v(" "),a("table",{staticClass:"a1"},[a("table",{staticClass:"a1"},[a("tr",[a("td",[t._v("ID：")]),t._v(" "),a("td",[a("span",[t._v(t._s(t.detail.user_id))])])]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.password},on:{input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),t.disabledInput?t._e():a("tr",{},[a("td",[t._v("确认密码：")]),t._v(" "),a("td",[[a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.repassword,expression:"values.repassword"}],attrs:{type:"password",placeholder:"英文大小写，数字，符号 4-20位"},domProps:{value:t.values.repassword},on:{input:function(e){e.target.composing||t.$set(t.values,"repassword",e.target.value)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("姓名：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],attrs:{type:"text",placeholder:"请输入姓名",disabled:t.disabledInput},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("性别：")]),t._v(" "),a("td",[[a("input",{ref:"sex1",style:{backgroundColor:1==t.values.sex?"#5bb95a":""},attrs:{type:"button",name:"sex1",value:"男",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",style:{backgroundColor:0==t.values.sex?"#5bb95a":""},attrs:{name:"sex2",type:"button",value:"女",disabled:t.disabledInput},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("span",[t._v("*")])]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("出生日期：")]),t._v(" "),a("td",[[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1,disabled:t.disabledInput},model:{value:t.detail.birth_date,callback:function(e){t.$set(t.detail,"birth_date",e)},expression:"detail.birth_date"}})]],2)]),t._v(" "),a("tr",{},[a("td",[t._v("身份证号：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.id_card,expression:"detail.id_card"}],attrs:{type:"text",placeholder:"18位身份证号",disabled:t.disabledInput},domProps:{value:t.detail.id_card},on:{input:function(e){e.target.composing||t.$set(t.detail,"id_card",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td",[t._v("手机：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.phone,expression:"detail.phone"}],attrs:{type:"text",placeholder:"请输入手机号",disabled:t.disabledInput},domProps:{value:t.detail.phone},on:{input:function(e){e.target.composing||t.$set(t.detail,"phone",e.target.value)}}})])]),t._v(" "),a("tr",{},[a("td"),t._v(" "),a("td",[[a("div",[a("div",{style:{"text-align":"center",width:"200px","vertical-align":"center"}},[t._v("带*必填")]),t._v(" "),t.disabledInput?a("input",{staticClass:"add1",attrs:{type:"button",value:"修改"},on:{click:t.changedisable}}):a("input",{staticClass:"add",staticStyle:{color:"#fff",cursor:"pointer"},attrs:{type:"button",value:"保存"},on:{click:t.setstudent}}),t._v(" "),a("input",{staticClass:"return",attrs:{type:"button",value:"返回"},on:{click:t.returnback}})])]],2)])])]),t._v(" "),t.toux?a("div",{staticClass:"a2"},[a("div",{staticClass:"xs"},[t._v("(上传图片不超过200k,800*600像素内)")]),t._v(" "),a("div",{staticClass:"headimg"},[a("vueCropper",{ref:"cropper",staticStyle:{width:"200px",height:"200px"},attrs:{img:t.option.imgsrc,outputSize:t.option.outputSize,outputType:t.option.outputType,info:t.option.info,canScale:t.option.canScale,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber}}),t._v(" "),a("ul",[a("li",[a("input",{ref:"file_input",staticStyle:{"margin-left":"20px","margin-top":"15px"},attrs:{id:"file_input",type:"file",capture:"camera"},on:{change:function(e){t.fileChange(e)}}}),t._v(" "),a("i",{staticClass:"choose",on:{click:t.cutimg}},[t._v("选择图片")])]),t._v(" "),a("li",[a("input",{staticClass:"cutimg",attrs:{type:"button",value:"保存"},on:{click:t.cutimg}})])]),t._v(" "),a("div",{staticClass:"newimg"},[a("div",[t._v("图片：")]),t._v(" "),a("img",{attrs:{src:t.newimgsrc,alt:""}})]),t._v(" "),a("div",{staticClass:"personone"},[t._v("个人简介:")])],1)]):t._e()]):2==t.tabindex?a("li",{staticClass:"data2"},[a("div",{staticClass:"luru"},[t._v("参数设置")]),t._v(" "),a("fieldset",{staticClass:"a2"},[a("table",{attrs:{width:"100%"}},[a("tbody",[a("tr",[a("td",[t._v("1、民族")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.nation,expression:"user_ext['nation']"}],staticClass:"text",attrs:{type:"text",name:"q_1"},domProps:{value:t.user_ext.nation},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"nation",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("2、父亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_age,expression:"user_ext['father_age']"}],staticClass:"text",attrs:{type:"number",name:"q_2"},domProps:{value:t.user_ext.father_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("3、父亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_job,expression:"user_ext['father_job']"}],staticClass:"text",attrs:{type:"text",name:"q_3"},domProps:{value:t.user_ext.father_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("4、如果父亲不在世，请问发生在___岁时。（父亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.father_die_age,expression:"user_ext['father_die_age']"}],staticClass:"text",attrs:{type:"number",name:"q_4"},domProps:{value:t.user_ext.father_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"father_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("5、母亲年龄")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_age,expression:"user_ext['mother_age']"}],staticClass:"text",attrs:{type:"number",name:"q_5"},domProps:{value:t.user_ext.mother_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("6、母亲职业")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_job,expression:"user_ext['mother_job']"}],staticClass:"text",attrs:{type:"text",name:"q_6"},domProps:{value:t.user_ext.mother_job},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_job",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("7、如果母亲不在世，请问发生在___岁时。（母亲健在的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.mother_die_age,expression:"user_ext['mother_die_age']"}],staticClass:"text",attrs:{type:"number",name:"q_7"},domProps:{value:t.user_ext.mother_die_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"mother_die_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("8、父母婚姻状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.parent_marriage_status,callback:function(e){t.$set(t.user_ext,"parent_marriage_status",e)},expression:"user_ext['parent_marriage_status']"}},[a("el-radio",{attrs:{label:1}},[t._v("良好")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("一般")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("较差")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("离异")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("9、如果父母离异的话，请问发生在___岁时。（父母未离异的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.parent_divorced_age,expression:"user_ext['parent_divorced_age']"}],staticClass:"text",attrs:{type:"number",name:"q_9"},domProps:{value:t.user_ext.parent_divorced_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"parent_divorced_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("10、是否有寄养经历")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.foster_flag,callback:function(e){t.$set(t.user_ext,"foster_flag",e)},expression:"user_ext['foster_flag']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("11、寄养时的年龄（无寄养经历的不填写）")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_ext.foster_age,expression:"user_ext['foster_age']"}],staticClass:"text",attrs:{type:"number",name:"q_11"},domProps:{value:t.user_ext.foster_age},on:{input:function(e){e.target.composing||t.$set(t.user_ext,"foster_age",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("12、生源类型")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.stu_type,callback:function(e){t.$set(t.user_ext,"stu_type",e)},expression:"user_ext['stu_type']"}},[a("el-radio",{attrs:{label:1}},[t._v("农村")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("城市")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("城镇")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("留学生")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("13、独生子女")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.only_child,callback:function(e){t.$set(t.user_ext,"only_child",e)},expression:"user_ext['only_child']"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1)])]),t._v(" "),a("tr",[a("td",[t._v("14、家庭经济状况")]),t._v(" "),a("td",[a("label",[a("el-radio-group",{model:{value:t.user_ext.economy,callback:function(e){t.$set(t.user_ext,"economy",e)},expression:"user_ext['economy']"}},[a("el-radio",{attrs:{label:1}},[t._v("困难")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不困难")])],1)],1)])])])]),t._v(" "),a("div",{staticStyle:{"margin-top":"50px","text-align":"center"}},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.saveinfo}},[t._v("保存")])],1),t._v(" "),a("input",{attrs:{type:"hidden",name:"qnum",value:"27"}})])]):t._e()])])},staticRenderFns:[]};var Vi=a("VU/8")(Ai,Ei,!1,function(t){a("4Tl9")},"data-v-4798a992",null).exports,Li={data:function(){return{type:[],checkAll:!1,isIndeterminate:!0,checked:[],headson:["学生个人档案","个人档案资料导出记录"],group:[{type:1,name:"留言"},{type:2,name:"咨询"},{type:4,name:"测评"}],activities:[],activities1:[],useid:this.$route.query.id,alldata:[]}},created:function(){console.log(this.checked),this.messages()},methods:{alldata1:function(){},messages:function(){var t=this,e=this;this.axios.post("/api/v1/user/message/list",{page:1,size:60}).then(function(a){var n=a.data.data.list;n.map(function(t,a){t.types=1,t.timestamp=t.create_time,e.alldata.push(t)}),console.log(n),t.axios.get("/api/v1/counsel/getSelfInfo").then(function(t){console.log(t),t.data.data.map(function(t,a){t.types=2,t.timestamp=t.start_time,e.alldata.push(t)}),e.getscale()})})},getscale:function(t){var e=this;this.axios.post("/api/v1/scale/getScaleTestResult",{page:1,size:60}).then(function(t){0==t.data.code&&(t.data.data.list.map(function(t,a){if(t.types=4,t.timestamp=t.start_test_time,t.birth_date){var n=((new Date).getTime()-new Date(t.birth_date))/1e3/60/60,i=Math.floor(n/8640);console.log(i),t.age=i}else t.age="null";t.times=yt()(yt()(t.end_test_time)-yt()(t.start_test_time)).format("HH:mm:ss"),0==t.sex?t.sex="女":t.sex="男",0==t.valid?t.valid="有效":t.valid="无效",2==t.type?t.type="自测":t.type="普查",e.alldata.push(t)}),console.log(e.alldata),e.alldata=e.sortDataArray(e.alldata),e.alldata.map(function(t,a){t.idnumber=a+1,e.checked.push(t.idnumber)}),e.activities=e.alldata,e.activities1=e.alldata,localStorage.setItem("alldata",c()(e.alldata)))})},sortDataArray:function(t){return t.sort(function(t,e){return Date.parse(e.timestamp)-Date.parse(t.timestamp)})},zixun:function(){this.axios.get("/api/v1/admin/counsel/getClientListByUID?uid="+this.useid).then(function(t){console.log(t)})},fangtan:function(){this.axios.get("/api/v1/admin/coach/listByUID?uid=="+this.useid).then(function(t){console.log(t)})},cepin:function(){},getlist:function(){var t=this.type,e=[];this.activities1.map(function(a,n){t.map(function(t){a.types==t&&e.push(a),console.log(a,t)})}),this.activities=e,console.log(e,t),this.handleCheckAllChange()},handleCheckAllChange:function(t){var e=this;this.checked?(this.checked=[],this.activities.map(function(t,a){e.checked.push(t.idnumber)})):this.checked=[],console.log(t,this.checked),this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){console.log(t);var e=t.length;this.checkAll=e===this.activities.length,this.isIndeterminate=e>0&&e<this.activities.length},archive:function(){localStorage.setItem("checked",c()(this.checked)),this.$router.push({path:"/student/yaoqing",query:{useid:this.useid}})},changefun:function(){console.log(this.type),this.getlist()}},components:{headson:F.a}},Ti={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"search"},[a("ul",[a("li",[a("el-checkbox-group",{on:{change:function(e){t.changefun()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.group,function(e,n){return a("el-checkbox-button",{key:n,attrs:{label:e.type}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("li",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.archive}},[a("i",{staticClass:"iconfont icon-daochu1"}),t._v("浏览档案\n        ")])],1)])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"block"},[a("el-timeline",[a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.activities,function(e,n){return a("el-timeline-item",{key:n,attrs:{placement:"top",color:"#C0D3E1",size:"large",icon:"el-icon-more",type:"primary",timestamp:e.timestamp}},[a("el-card",{class:{aClass:1==e.types,bClass:2==e.types,mClass:3==e.types,nClass:4==e.types}},[a("el-checkbox",{key:e.id,attrs:{label:e.idnumber}},[a("h4",[t._v(t._s(e.timestamp))]),t._v(" "),1==e.types?a("p",[t._v("留言内容："+t._s(e.content))]):2==e.types?a("p",[t._v("咨询内容："+t._s(e.problem))]):3==e.types?a("p",[t._v("访谈干预内容："+t._s(e.proc_idea))]):t._e(),t._v(" "),4==e.types?a("p",[t._v("测评量表"+t._s(e.scale_name))]):t._e()])],1)],1)}),1)],1)],1)]),t._v(" "),a("div")])},staticRenderFns:[]};var Ii=a("VU/8")(Li,Ti,!1,function(t){a("GUuK")},"data-v-01e8045b",null).exports,Ri=a("Te8f"),ji={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"data",attrs:{id:"calendar"}},[a("table",{staticClass:"trs"},[a("tbody",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.problem,expression:"form.problem"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"question",id:"question"},domProps:{value:t.form.problem},on:{input:function(e){e.target.composing||t.$set(t.form,"problem",e.target.value)}}})])]),t._v(" "),t._m(3),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.last_exp,expression:"form.last_exp"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"event1",id:"event1"},domProps:{value:t.form.last_exp},on:{input:function(e){e.target.composing||t.$set(t.form,"last_exp",e.target.value)}}})])]),t._v(" "),t._m(4),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.grow_exp,expression:"form.grow_exp"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"event2",id:"event2"},domProps:{value:t.form.grow_exp},on:{input:function(e){e.target.composing||t.$set(t.form,"grow_exp",e.target.value)}}})])]),t._v(" "),t._m(5),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.target,expression:"form.target"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"purpose",id:"purpose"},domProps:{value:t.form.target},on:{input:function(e){e.target.composing||t.$set(t.form,"target",e.target.value)}}})])]),t._v(" "),t._m(6),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.other,expression:"form.other"}],staticClass:"text",staticStyle:{overflow:"hidden","word-wrap":"break-word",resize:"horizontal",height:"37px"},attrs:{name:"other",id:"other"},domProps:{value:t.form.other},on:{input:function(e){e.target.composing||t.$set(t.form,"other",e.target.value)}}})])]),t._v(" "),t._m(7),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("br"),t._v(" "),a("div",{staticClass:"dayevent"},[a("span",{ref:"toop",staticClass:"toop"},[t._v("提示:"+t._s(t.title))]),t._v(" "),a("Calendar",{attrs:{markDate:t.arr},on:{choseDay:t.clickDay,changeMonth:t.changeDate,isToday:t.clickToday}}),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"calendarbox"},[a("h3",{staticStyle:{backgroundColor:"#008000"}},[t._v("可预约时段")]),t._v(" "),a("div",{staticClass:"times"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.monthData.case1,"highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{property:"title",label:"选择咨询主题"}})],1)],1)])])],1),t._v(" "),a("div",{staticClass:"add",on:{click:t.makesure}},[t._v("提交预约")])])]),t._v(" "),t._m(8)])])]),t._v(" "),a("el-dialog",{attrs:{title:"咨询时间编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{width:"20",align:"right",valign:"top"}},[this._v("■")]),this._v(" "),e("td",[this._v("\n             说明：\n             "),e("br"),this._v("1、请详尽和真实的填写下面所有信息，特别是联系方式，以便及时与您取得联系；\n             "),e("br"),this._v("2、由于可用咨询时间变化很大，请在预约后等待接待人员与您核实具体咨询时间；\n             "),e("br"),this._v("3、心理咨询可能需要持续几周或者更长时间，请事先做好充分的准备。\n           ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("您现在最需要接受帮助的主要问题是什么？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("在近半年里，是否发生了对您有重大影响的事（如亲友的死亡、法律诉讼、失恋等）？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("在您的成长经历中，是否有对您来说有特殊意义的事情？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("您希望心理咨询能够帮助您达到什么样的目标？")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("其他您认为对咨询可能有帮助的事情：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{align:"right"}},[this._v("■")]),this._v(" "),e("td",[this._v("请点击选择您要预约的咨询师和咨询时间：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("br"),this._v(" "),e("hr"),this._v(" "),e("br")])])}]};var Pi=function(t){a("Us17")},Wi=a("VU/8")(Ri.a,ji,!1,Pi,"data-v-56de4e00",null).exports,Ni={data:function(){return{headson:["中心简介","咨询中心简介"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},created:function(){},methods:{},components:{headson:F.a,pagination:O.a}},Ui={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"container"},[e("div",{staticClass:"pa"},[e("img",{attrs:{src:a("4QAK"),alt:""}})]),this._v(" "),e("div",{staticClass:"p0"},[this._v("中心简介")]),this._v(" "),e("div",{staticClass:"p1"},[this._v("\n      我校心理健康中心于2015年建成，设计理念优秀，设施先进，由多个不同功能的功能室组成，满足解决来访学生的各种心理问题及心理需求的功能。 建校至今，已有87%的教师具备心理健康教育教师资格，其中3名教师获得南京市中小学心理咨询员资格，咨询师力量雄厚，有足够能力为众多学生提供心理上的帮助！\n      "),e("div",{staticClass:"jinji"},[e("span",[this._v("紧急联系方式:")]),this._v(" "),e("i",[this._v("如有紧急状况请与025-66118399联系。")])])])])])}]};var Bi=a("VU/8")(Ni,Ui,!1,function(t){a("Qyl8")},"data-v-96a400dc",null).exports,Oi={data:function(){return{dialogFormVisible:!1,dialogFormVisible1:!1,form:{name:"",unit_name:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"70px",headson:["问题留言","当前学生留言记录"],tableData:[],tableData3:[{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"},{a:"1",b:"与孩子相处模式",c:" 2019-04-20",d:" hshshhshshshhs",e:" 2019-04-20",f:"处理中"}],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null}},created:function(){this.getlist(this.page.currentpage,this.page.pagesize)},methods:{getlist:function(t,e){this.tableData=this.tableData3,0==this.tableData.length&&this.$message("没有确认的访谈邀请")},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t;t.id,t.name;console.log(t)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=this,n=[];e?n.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){n.push(t.id)}):this.$message("请确定选中了选项");var i=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.axios.post("/api/v1/admin/sand/group/delete",{id:n}).then(function(t){console.log(t),0==t.data.code?(i.$message("删除成功"),i.getlist(i.page.currentpage,i.page.pagesize)):i.$message(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;console.log(this.form),this.axios.post("/api/v1/user/message/add/msg",{content:t.form.unit_name,theme:t.form.name}).then(function(e){console.log(e),0==e.data.code?(t.$message("增加成功"),t.getlist(t.page.currentpage,t.page.pagesize)):t.$message(e.data.msg)})},handleDelAll:function(){}},components:{headson:F.a}},Mi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div"),t._v(" "),a("div",{staticClass:"add",on:{click:t.addnumber}},[t._v("我要留言")]),t._v(" "),a("el-dialog",{attrs:{title:"留言添加",visible:t.dialogFormVisible,width:"100%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"留言主题","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"留言内容","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",type:"textarea"},model:{value:t.form.unit_name,callback:function(e){t.$set(t.form,"unit_name",e)},expression:"form.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.makesure()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"留言编辑",visible:t.dialogFormVisible1},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[a("el-form",{attrs:{model:t.form1}},[a("el-form-item",{attrs:{label:"沙盘组名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"210px"},attrs:{autocomplete:"off"},model:{value:t.form1.unit_name,callback:function(e){t.$set(t.form1,"unit_name",e)},expression:"form1.unit_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var qi=a("VU/8")(Oi,Mi,!1,function(t){a("ISub")},"data-v-31e347b8",null).exports;a("9o6C");l()(function(){console.log(111111111),l()("#btn-word").on("click",function(){l()(".content").html2docx("文档")})});var Hi={data:function(){return{option:"",type:1,detail:"",id:this.$route.query.id,newsinfo:{},tableData:[],alldata:[],messagedata:[],zixundata:[],coachdata:[],scaledata:[],basedetail:{}}},created:function(){var t=this;this.alldata=JSON.parse(localStorage.getItem("alldata"));var e=JSON.parse(localStorage.getItem("checked")),a=[];e.map(function(e,n){t.alldata.map(function(t,n){e==t.idnumber&&a.push(t)})});var n=this;console.log(a),a.map(function(t,e){1==t.types?n.messagedata.push(t):2==t.types?n.zixundata.push(t):3==t.types?n.coachdata.push(t):n.scaledata.push(t)}),n.coachdata.map(function(t,e){1==t.type?t.type="团辅":t.type="个人",t.times=t.start_time+"—"+t.end_time;var a=new Date(t.start_time).getTime(),n=new Date(t.end_time).getTime(),i=(new Date).getTime();i<a&&a<=n?t.staus="未开始":i>n&&n>=a?t.staus="已结束":(console.log(a,n,i),t.staus="正在进行")}),n.zixundata.map(function(t,e){t.times=yt()(t.start_time).format("HH:mm:ss")+"至"+yt()(t.end_time).format("HH:mm:ss"),t.date=yt()(t.start_time).format("YYYY-MM-DD");var a=t.trace_type-0;switch(a){case 0:t.case="无需关注";break;case 1:t.case="学业问题";break;case 2:t.case="恋爱关系";break;case 3:t.case="人际交往";break;case 4:t.case="职业发展";break;case 5:t.case="情绪问题";break;case 6:t.case="躯体疾病"}t.dos=0==a?"未处理":"已处理"}),console.log(n.alldata,n.messagedata,e)},mounted:function(){this.baseinfo(this.$route.query.useid)},beforeCreated:function(){},methods:{ex:function(){console.log(l()(".content"),this.option),l()(".content").html2docx("个人档案",this.option)},getNewsInfo:function(){var t=this;this.$http.get("/api/getnew/"+this.id).then(function(e){0===e.body.status?t.newsinfo=e.body.message[0]:Toast("获取新闻失败！")})},print:function(t){this.type=1==t?1:2==t?2:3,this.draw()},getlist:function(){var t=this;this.axios.get("/api/v1/admin/scale/getTestResultDetail",{params:{id:19}}).then(function(e){0==e.data.code&&(t.detail=e.data.data)})},draw:function(){var t=this.$refs.chart;this.myChart&&this.myChart.clear(),this.myChart=this.$echarts.init(t);var e={title:{text:"危机干预综合信息"},color:["#3398DB"],legend:{data:["销量"]},tooltip:{trigger:"axis",formatter:function(t,e,a){console.log(t);for(var n="",i=t[0].name,s=0;s<t.length;s++){i=t.name;n+=t[s][3]+"--"+i+" 得分："+t[s][2]+"<br>"}return n}},grid:{left:"3%",right:"4%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:["潜在风险评估","自杀倾向评估","访谈评估","生活事件动态"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"2015",type:"bar",barWidth:"100",data:[10,52,200,334,390]}]};1==this.type?this.option={title:{text:"剖析图"},color:["#3398DB"],tooltip:{},legend:{x:"center",data:["销量"]},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"言语（sales）",max:6500},{name:"交际（Administration）",max:16e3},{name:"待人（Information Techology）",max:3e4},{name:"交谈（Customer Support）",max:38e3},{name:"交际（Development）",max:52e3},{name:"市场（Marketing）",max:25e3}]},series:[{name:"预算 vs 开销（Budget vs spending）",type:"radar",data:[{value:[4300,1e4,28e3,35e3,5e4,19e3],name:"预算分配（Allocated Budget）",label:{normal:{show:!0,formatter:function(t){return t.value}}}}]}]}:2==this.type?this.option={xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},tooltip:{},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}:this.option=e,this.myChart.setOption(this.option),this.myChart.resize();this.myChart.on("click",function(t){console.log(t),"潜在风险评估"==t.name||"自杀倾向评估"==t.name||t.name})},baseinfo:function(t){console.log(t);var e=this;e.axios.get("/api/v1/user/viewDetails").then(function(t){console.log(t);var a=t.data.data;a.except=a.auth_group_id,a.birth_day=a.birth_date,console.log(a),e.basedetail=a})}}},Yi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{attrs:{id:"print"}}),t._v(" "),a("div",{attrs:{id:"word-content"}},[a("h1",{staticStyle:{"text-align":"center"}},[t._v("中学管理系统平台版心理档案")]),t._v(" "),a("h2",[t._v("学生个人信息")]),t._v(" "),a("div",{attrs:{id:"english"}},[t._v("Report of Psychological Test")]),t._v(" "),a("div",{staticClass:"info"},[a("ul",[a("li",[t._v("姓名："+t._s(t.basedetail.name))]),t._v(" "),a("li",[t._v("出生："+t._s(t.basedetail.birth_date))]),t._v(" "),a("li",[t._v("性别："+t._s(1==t.basedetail.sex?"男":"女"))]),t._v(" "),a("li",[t._v("电话："+t._s(t.basedetail.phone))])])]),t._v(" "),a("div",{staticClass:"pagebreak"})]),t._v(" "),a("div",[a("h2",[t._v("测试结果记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.scaledata}},[a("el-table-column",{attrs:{prop:"scale_name",label:"量表名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stu_name",label:"学生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_test_time",label:"测试时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"耗时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"valid",label:"有效"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("咨询记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.zixundata,border:""}},[a("el-table-column",{attrs:{prop:"problem",label:"问题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"times",label:"咨询时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case",label:"问题类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proc_idea",label:"处理意见"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dos",label:"状态"}})],1)],1),t._v(" "),a("div",[a("h2",[t._v("问题留言记录")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.messagedata,border:""}},[a("el-table-column",{attrs:{prop:"theme",label:"留言主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"留言内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"replys_count",label:"回复数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"更新时间"}})],1)],1)])},staticRenderFns:[]};var Gi=a("VU/8")(Hi,Yi,!1,function(t){a("l23F")},"data-v-7b249e4e",null).exports,Zi={data:function(){return{dialogFormVisible:!1,headson:["心理咨询预约","可以预约想要的时间段和咨询师"],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{addnumber:function(){this.dialogFormVisible=!0},editsure:function(){this.dialogFormVisible=!1},submit:function(){}},components:{headson:F.a}},Xi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("headson",{attrs:{headson:t.headson}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"contain"},[t._m(1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"咨询师列表：",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:""}})],1),t._v(" "),a("div",{staticClass:"jinji"},[a("span",{on:{click:t.addnumber}},[t._v("点击选择咨询师和咨询时间:")]),t._v(" "),a("i",[t._v("咨询师：咨询师H，日期：2019-04-24，时间：08:55-11:22")])]),t._v(" "),a("div",{staticClass:"add",on:{click:t.submit}},[t._v("提交")]),t._v(" "),a("el-dialog",{attrs:{title:"沙盘添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editsure}},[t._v("确 定")])],1)])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"work"},[e("a",{staticClass:"del",attrs:{href:"javascript:history.back()"}},[e("i",{staticClass:"iconfont icon-chehuisekuai"}),this._v("\n返回")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tbody",[a("tr",[a("td",{attrs:{width:"20",align:"left",valign:"top"}},[t._v("■")]),t._v(" "),a("td",[t._v("\n              说明：\n              "),a("br"),t._v("1、请详尽和真实的填写下面所有信息，特别是联系方式，以便及时与您取得联系；\n              "),a("br"),t._v("2、由于可用咨询时间变化很大，请在预约后等待接待人员与您核实具体咨询时间；\n              "),a("br"),t._v("3、心理咨询可能需要持续几周或者更长时间，请事先做好充分的准备。\n            ")])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("您现在最需要接受帮助的主要问题是什么？")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{staticClass:"text",attrs:{name:"question",id:"question"}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("在近半年里，是否发生了对您有重大影响的事（如亲友的死亡、法律诉讼、失恋等）？")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("textarea",{staticClass:"text",attrs:{name:"question",id:"question"}})])]),t._v(" "),a("tr",[a("td",{attrs:{align:"right"}},[t._v("■")]),t._v(" "),a("td",[t._v("请把您最方便的联系方式写在下面：")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[a("input",{attrs:{type:"text",name:"",id:""}})])])])])}]};var Ji=a("VU/8")(Zi,Xi,!1,function(t){a("9fhA")},"data-v-6cd19c56",null).exports,Qi={data:function(){return{role:""}},created:function(){var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t,console.log(this.role),this.$store.getters.token&&this.$store.commit("column")},methods:{goArtical:function(t,e){this.$router.push({path:"/studentindex/gpartical",query:{id:t,index:e}})},goindex:function(){var t=JSON.parse(y.a.get("role"));1==t.type?t.college_name?this.$router.push({path:"/admin/teacherindex/teacherschool"}):this.$message("系统超管用户请从pc端登录"):3==t.type&&this.$message("学生用户请从pc端登录")},logincout:function(){y.a.set("userToken",""),this.$store.commit("setToken",""),this.$store.state.columns="",this.$store.state.loginsucess=!0},gologin:function(){this.$router.push({path:"/loginindex"})}}},Ki={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"top"},[n("el-button",{attrs:{type:"",icon:"iconfont icon-account",circle:""},on:{click:t.gologin}}),t._v(" "),n("span",[t._v("心理咨询管理系统")])],1),t._v(" "),n("div",{staticClass:"phone-banner"},[n("el-carousel",{attrs:{interval:5e3,arrow:"always",height:"300px"}},[n("el-carousel-item",[n("img",{attrs:{src:a("wByk"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("IYvL"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("F7fv"),alt:""}})])],1)],1),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"a1"},[n("div",{staticClass:"sons"},[n("ul",{staticClass:"son"},t._l(t.$store.state.columns,function(e,a){return n("li",{key:a,staticClass:"soli",on:{click:function(n){t.goArtical(e.id,a)}}},[t._v(t._s(e.name))])}),0)])])]),t._v(" "),t.$store.state.loginsucess?t._e():[n("div",{staticClass:"loginsucess"},[n("div",{staticClass:"longinhead"},[n("span",[t._v("心理咨询管理系统")]),t._v(" "),n("i",{on:{click:t.logincout}},[t._v("[注销登陆]")])]),t._v(" "),n("div",{staticClass:"loginbody"},[t._m(0),t._v(" "),n("div",{staticClass:"right"},[n("ul",[1!==t.role.sf?n("li",[t._v("学校："+t._s(t.role.college_name))]):t._e(),t._v(" "),n("li",[t._v("\n              账号：\n              "),n("i",[t._v(t._s(t.role.name))])]),t._v(" "),n("li",[t._v("\n              身份：\n              "),1==t.role.type&&t.role.college_name?n("i",[t._v("校级超级管理员")]):1==t.role.type?n("i",[t._v("总超级管理员")]):n("i",[t._v("普通管理员")])])])])]),t._v(" "),n("div",{staticClass:"loginout",on:{click:t.goindex}},[t._v("进入系统")])])]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("img",{attrs:{src:"",alt:""}})])}]};a("VU/8")(Qi,Ki,!1,function(t){a("gYBl")},"data-v-7ad5dfc5",null).exports;var ts={data:function(){return{role:""}},created:function(){var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t,console.log(this.role)},methods:{goArtical:function(t,e){this.$router.push({path:"/studentindex/gpartical",query:{id:t,index:e}})},goindex:function(){var t=JSON.parse(y.a.get("role"));1==t.type?t.college_name?this.$router.push({path:"/admin/teacherindex/teacherschool"}):this.$router.push({path:"/school/localadminschool"}):2==t.type&&this.$router.push({path:"/admin/teacherindex/teacherschool"})},logincout:function(){this.$store.commit("setToken",""),this.$store.state.loginsucess=!0},gologin:function(){this.$router.push({path:"/loginindex"})}}},es={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"top"},[n("el-button",{attrs:{type:"",icon:"iconfont icon-account",circle:""},on:{click:t.gologin}}),t._v(" "),n("span",[t._v("心理咨询管理系统")])],1),t._v(" "),n("div",{staticClass:"phone-banner"},[n("el-carousel",{attrs:{interval:5e3,arrow:"always",height:"300px"}},[n("el-carousel-item",[n("img",{attrs:{src:a("Txl5"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("UT21"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("U+2z"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("8y5t"),alt:""}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("QFQK"),alt:""}})])],1)],1),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{staticClass:"a1"},[n("div",{staticClass:"sons"},[n("ul",{staticClass:"son"},t._l(t.$store.state.columns,function(e,a){return n("li",{key:a,staticClass:"soli",on:{click:function(n){t.goArtical(e.id,a)}}},[t._v(t._s(e.name))])}),0)])])]),t._v(" "),t.$store.state.loginsucess?t._e():[n("div",{staticClass:"loginsucess"},[n("div",{staticClass:"longinhead"},[n("span",[t._v("心理咨询管理系统")]),t._v(" "),n("i",{on:{click:t.logincout}},[t._v("[注销登陆]")])]),t._v(" "),n("div",{staticClass:"loginbody"},[t._m(0),t._v(" "),n("div",{staticClass:"right"},[n("ul",[1!==t.role.sf?n("li",[t._v("学校："+t._s(t.role.college_name))]):t._e(),t._v(" "),n("li",[t._v("\n              姓名：\n              "),n("i",[t._v(t._s(t.role.name))])]),t._v(" "),n("li",[t._v("\n              身份：\n              "),1==t.role.type&&t.role.college_name?n("i",[t._v("校级超级管理员")]):1==t.role.type?n("i",[t._v("总超级管理员")]):n("i",[t._v("普通管理员")])])])])]),t._v(" "),n("div",{staticClass:"loginout",on:{click:t.goindex}},[t._v("进入系统")])])]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("img",{attrs:{src:"",alt:""}})])}]};var as=a("VU/8")(ts,es,!1,function(t){a("FcGx")},"data-v-86ed0c4c",null).exports,ns=(a("gAs1"),{data:function(){return{username:"",password:"",yzm:"",key:"",role:"",sf:"",imgurl:""}},created:function(){this.$store.commit("getToken"),this.getinfo(),this.getyzm(),console.log(this.$store.state.userInfo);var t=this.$store.state.userInfo;"string"==typeof t&&(t=JSON.parse(t)),this.role=t,console.log(this.role)},methods:{golin:function(){this.$router.go(-1)},getinfo:function(){var t=y.a.get("username"),e=y.a.get("password");this.username=t,this.password=e},getyzm:function(){var t=this;this.axios.get("/api/v1/verify",{}).then(function(e){console.log(e),200==e.status&&(t.key=e.data.data.key,t.imgurl=e.data.data.imgSrc,console.log(t.key))}).catch(function(t){console.log(t)})},login:function(){var t,e=this;t=q()(this.password);var a={account:this.username,pwd:this.password,code:this.yzm};console.log(a,this.key),this.username&&this.password?this.axios.post("/api/v1/admin/login",{account:this.username,pwd:t,code:this.yzm,key:this.key}).then(function(t){if(0==t.data.code){var a=t.data.data.token,n=t.data.data.role;e.role=n,1==n.type?n.college_name?e.role.ty=1.1:e.role.sf=1:2==n.type&&(e.role.sf=2),y.a.set("userToken",a,86400),y.a.set("role",n,86400),console.log(n),e.$store.commit("setToken",{token:a,role:n}),e.$store.commit("getToken"),1==n.type||2==n.type?n.college_name?e.$router.push({path:"/admin/teacherindex/teacherschool"}):e.$message("系统超管用户操作请从pc端登录"):3==n.type&&(e.$router.push({path:"/Evaluation/studentindex/studentschool"}),e.getyzm())}else e.getyzm(),alert(t.data.msg)}).catch(function(t){console.log(t)}):alert("请输入用户名或密码")}}}),is={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[a("span",{staticClass:"iconfont icon-angle-left",on:{click:t.golin}}),t._v(" "),a("span",[t._v("心理咨询管理系统")])]),t._v(" "),[a("div",{staticClass:"body"},[a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[a("template",{slot:"prepend"},[t._v("账号")])],2),t._v(" "),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入密码",type:"password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[a("template",{slot:"prepend"},[t._v("密码")])],2),t._v(" "),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入验证码",clearable:""},model:{value:t.yzm,callback:function(e){t.yzm=e},expression:"yzm"}},[a("template",{slot:"prepend"},[t._v("验证")]),t._v(" "),a("template",{slot:"append"},[a("span",{staticClass:"yPicture"},[a("img",{ref:"yzmimg",attrs:{src:t.imgurl,alt:""}})]),t._v(" "),a("span",{staticClass:"changeimg",on:{click:t.getyzm}},[t._v("换一张")])])],2),t._v(" "),a("div",[a("input",{attrs:{type:"button",name:"start",value:"马上开始"},on:{click:t.login}})]),t._v(" "),t._m(0)],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("label",{staticClass:"f4"})])}]};var ss=a("VU/8")(ns,is,!1,function(t){a("yMGv")},"data-v-ec4bb6d4",null).exports,os={data:function(){return{moduleName:"userInfo",loginloading:!1,logindesc:"",logintitle:"超级管理员心理系统",ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"}]}}},created:function(){sessionStorage.removeItem("zsylocalInfo"),sessionStorage.removeItem("zsylocalTabs"),console.clear()},methods:{submitForm:function(){var t=this;t.$refs.ruleForm.validate(function(e){if(e){t.loginloading=!0;var a=t.ruleForm;sessionStorage.setItem("zsylocalInfo",a.username)}})},resetForm:function(){this.$refs.ruleForm.resetFields()}}},ls={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loginloading,expression:"loginloading"}],staticClass:"login-content",attrs:{"element-loading-text":"正在登录..."}},[a("div",{staticClass:"ms-title"},[t._v(t._s(t.logintitle))]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{"label-position":"right",model:t.ruleForm,rules:t.rules,size:"mini","label-width":"0px"}},[a("el-form-item",{attrs:{label:"",prop:"username"}},[a("el-input",{staticClass:"inputwinth240",attrs:{maxlength:20},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}},[a("template",{slot:"prepend"},[t._v("帐号")])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:"password"}},[a("el-input",{staticClass:"inputwinth240",attrs:{type:"password",maxlength:20},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}},[a("template",{slot:"prepend"},[t._v("密码")])],2)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"inputwinth240 login-height",attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var rs=a("VU/8")(os,ls,!1,function(t){a("TkE9")},"data-v-b46f9326",null).exports;l()(function(){});var cs={data:function(){return{username:"",password:"",yzm:"",key:"",role:"",imgurl:""}},created:function(){this.$store.commit("getToken"),this.getinfo(),this.getyzm(),console.log(this.index,this.$refs.soli)},mounted:function(){console.log(this.loginsucess),this.$refs.soli1.style.cssText="position: relative;bottom: 0px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},methods:{getlist:function(t,e){this.axios.post("/api/v1/admin/article/column/list",{page:t,size:e}).then(function(t){t.data.code})},login:function(){var t=this,e={account:this.username,pwd:this.password,code:this.yzm};console.log(e),this.username&&this.password?(t.role=t.$refs.selects.value,console.log(t.role),"管理员"==t.role?this.axios.post("/api/v1/admin/login",{account:this.username,pwd:this.password,code:this.yzm,key:this.key}).then(function(e){if(console.log(e),0==e.data.code){var a=e.data.data.token;y.a.set("userToken",a),y.a.set("roleType",t.role),t.$store.commit("setToken",a),t.$store.commit("getToken"),t.$refs.rember.checked&&(y.a.set("username",t.username),y.a.set("password",t.password)),t.$store.state.loginsucess=!1}else t.getyzm(),alert(e.data.msg)}).catch(function(t){console.log(t)}):(y.a.set("roleType",t.role),console.log("学生"),t.$store.commit("setToken",1),this.goindex(),t.$store.state.loginsucess=!1)):alert("请输入用户名或密码")},getinfo:function(){var t=y.a.get("username"),e=y.a.get("password");this.username=t,this.password=e},goindex:function(){var t=y.a.get("roleType");console.log(t),"管理员"==t?(console.log(this.$router),this.$router.push({path:"/admin/teacherindex/teacherschool"})):this.$router.push({path:"/studentindex/studentschool"})},getyzm:function(){var t=this;this.axios.get("/api/v1/verify",{}).then(function(e){console.log(e),200==e.status&&(t.key=e.data.data.key,t.imgurl=e.data.data.imgSrc,console.log(t.key))}).catch(function(t){console.log(t)})},logincout:function(){this.$store.commit("setToken",""),this.$store.state.loginsucess=!0},first:function(t){"click"==t.type&&this.$router.push({path:"/login"}),this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',t.target.style.cssText="position: relative;bottom: 20px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},cli:function(t,e){this.$refs.soli.map(function(t){t.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";'}),this.$refs.soli1.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',this.$refs.soli2.style.cssText='position: relative;bottom: 0px;background-color: "";transition: all 1s ease; color: "";border-bottom: "";',"click"==t.type?(this.$router.push({path:"/studentindex/gpartical",query:{index:e}}),t.target.style.cssText="position: relative;bottom: 0px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"):t.target.style.cssText="position: relative;bottom: 20px; background-color: #aeaeae;transition: all 1s ease; color: #fff;border-bottom: 1px solied #fff"},handleCommand:function(t){this.$message("click on item "+t),this.$router.push({path:"/studentindex/gpartical"})},goArtical:function(){this.$router.push({path:"/studentindex/gpartical"})}}},us={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"head"},[a("div",{staticClass:"top1"},[a("ul",[a("li",{ref:"soli1",on:{click:function(e){return e.stopPropagation(),t.first(e)},mouseover:function(e){return e.stopPropagation(),t.first(e)}}},[t._v("首页")]),t._v(" "),t._l(t.$store.state.columns,function(e,n){return n<5?a("li",{key:n,ref:"soli",refInFor:!0,staticClass:"soli",on:{click:function(e){e.stopPropagation(),t.cli(e,n)},mouseover:function(e){e.stopPropagation(),t.cli(e)}}},[t._v(t._s(e.name))]):t._e()}),t._v(" "),a("li",{ref:"soli2",on:{click:function(e){return e.target!==e.currentTarget?null:t.first(e)},mouseover:function(e){return e.target!==e.currentTarget?null:t.first(e)}}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n              更多\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$store.state.columns,function(e,n){return n>=5?a("el-dropdown-item",{key:n,attrs:{icon:"el-icon-plus",command:n}},[t._v(t._s(e.name))]):t._e()}),1)],1)],1)],2)])]),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",[t._v("1")])],1)],1)},staticRenderFns:[]};a("VU/8")(cs,us,!1,function(t){a("W07F")},"data-v-338b8063",null).exports;var ds={data:function(){return{items:[{message:"用手机注册"},{message:"用邮箱注册"}],index:1,select:"",values:{person:"",password:"",againpass:"",ID:"",name:"",time:"",sex:"",family:"",pass:"",class:"",phone:"",college_id:""},pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.values.time=new Date,this.getList()},methods:{golin:function(){this.$router.go(-1)},getList:function(){var t=this;this.axios.get("/api/v1/admin/tool/select/college").then(function(e){0==e.data.code&&(t.select=e.data.data)})},show:function(t){this.index=t,1==t?(this.$refs.el[1].style.cssText="border-bottom:2px solid #E6E6E6;border-top:2px solid #E6E6E6;",this.$refs.el[0].style.cssText="border-bottom:none;border-top:3px solid #2E7DBF;"):(this.$refs.el[0].style.cssText="border-bottom:2px solid #E6E6E6;border-top:2px solid #E6E6E6;",this.$refs.el[1].style.cssText="border-bottom:none;border-top:3px solid #2E7DBF;")},getphone:function(){this.axios.get("////").then(function(){console.log(1)});var t=this.$refs.getyzm;t.setAttribute("disabled","disabled"),console.log(111),setTimeout(function(){t.style.opacity="0.7"},1e3);var e=60,a=setInterval(function(){t.value=+--e+"秒后获取",0==e&&(console.log(e),t.setAttribute("disabled",!1),clearInterval(a),t.value="重新获取验证码")},1e3)},checkSex:function(t){var e=t.target.value;this.values.sex="男"==e?0:1,this.$refs.sex1.style.backgroundColor="",this.$refs.sex2.style.backgroundColor="",t.target.style.backgroundColor="#5bb95a"},register:function(){var t=this.$refs.schoolcheck.item.id;this.values.class=t;var e=this.$refs.check.checked;if(this.values.person&&this.values.password&&this.values.againpass&&this.values.name&&this.values.class&&this.values.college_id)if(e)if(this.values.password===this.values.againpass){var a={},n={account:this.values.person,password:q()(this.values.password),password_confirm:q()(this.values.againpass),job_num:this.values.ID,name:this.values.name,unit_group:this.values.class,sex:this.values.sex,birth_date:this.values.time,nation:this.values.family,phone:this.values.phone,id_card:this.values.pass,college_id:this.values.college_id};for(var i in n)n[i]&&(a[i]=n[i]);console.log(a),this.axios.post("/api/v1/user/register",a).then(function(t){console.log(t),0==t.data.code?alert("注册成功"):alert(t.data.msg)})}else this.$message("两次输入密码不相同");else this.$message("请勾选用户服务协议");else this.$message("带*的输入框必须要填")},check:function(){var t=this.$refs.mmpwd.value,e=this.$refs.mmpd,a=this.$refs.lv1,n=this.$refs.lv2,i=this.$refs.lv3;if(0==t.length)e.innerHTML="密码由数字,字母或下划线组成";else if(t.length<4)e.innerHTML="密码长度不能小于4个字符!",a.style.borderTopColor="",n.style.borderTopColor="",i.style.borderTopColor="";else if(t.length>=4&&t.length<=20){e.innerHTML="";t.match(/^[0-9]{4,20}$|^[a-zA-Z]{4,20}$/)?(console.log(1),a.style.borderTopColor="red",n.style.borderTopColor="",i.style.borderTopColor=""):t.match(/^[A-Za-z0-9]{4,20}$/)?(a.style.borderTopColor="",n.style.borderTopColor="",i.style.borderTopColor="yellow"):t.match(/^\w{4,20}$/)&&(a.style.borderTopColor="",n.style.borderTopColor="",i.style.borderTopColor="green")}else t.length>20&&(e.innerHTML="密码长度不能大于20个字符!",a.style.borderTopColor="gainsboro",n.style.borderTopColor="gainsboro",i.style.borderTopColor="gainsboro")}},components:{schoolcheck:W}},hs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"back"},[a("div",{staticClass:"head"},[a("span",{staticClass:"iconfont icon-angle-left",staticStyle:{float:"left","margin-top":"5px"},on:{click:t.golin}}),a("i",[t._v("注册账号")])]),t._v(" "),a("div",{staticClass:"register"},[a("div",{staticClass:"box"},[a("ul",{staticClass:"body"},[[a("li",[a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("账号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.person,expression:"values.person"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.values.person},on:{input:function(e){e.target.composing||t.$set(t.values,"person",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.password,expression:"values.password"}],ref:"mmpwd",attrs:{type:"password",id:"mm-pwd",placeholder:"设置密码",name:"password"},domProps:{value:t.values.password},on:{keyup:function(e){t.check()},input:function(e){e.target.composing||t.$set(t.values,"password",e.target.value)}}}),t._v(" "),a("i",[t._v("*")]),t._v(" "),a("br"),t._v(" "),a("span",{ref:"mmpd",staticStyle:{color:"red","font-size":"12px","line-height":"30px"},attrs:{id:"mm-pd"}}),t._v(" "),a("div",{staticClass:"mm-btm"},[a("div",{ref:"lv1",attrs:{id:"lv1"}},[t._v("弱")]),t._v(" "),a("div",{ref:"lv2",attrs:{id:"lv2"}},[t._v("中")]),t._v(" "),a("div",{ref:"lv3",attrs:{id:"lv3"}},[t._v("强")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("确认密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.againpass,expression:"values.againpass"}],ref:"againpass",attrs:{type:"password",placeholder:"确认密码",name:"againpass"},domProps:{value:t.values.againpass},on:{input:function(e){e.target.composing||t.$set(t.values,"againpass",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("学号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.ID,expression:"values.ID"}],ref:"ID",attrs:{type:"text",placeholder:"请输入学号",name:"ID"},domProps:{value:t.values.ID},on:{input:function(e){e.target.composing||t.$set(t.values,"ID",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("姓名：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.name,expression:"values.name"}],ref:"name",attrs:{type:"text",placeholder:"请输入姓名",name:"name"},domProps:{value:t.values.name},on:{input:function(e){e.target.composing||t.$set(t.values,"name",e.target.value)}}}),t._v(" "),a("i",[t._v("*")])]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("出生日期：")]),t._v(" "),a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.values.time,callback:function(e){t.$set(t.values,"time",e)},expression:"values.time"}})],1),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("性别：")]),t._v(" "),a("input",{ref:"sex1",attrs:{type:"button",value:"男",name:"sex1"},on:{click:function(e){t.checkSex(e)}}}),t._v(" "),a("input",{ref:"sex2",attrs:{type:"button",value:"女",name:"sex2"},on:{click:function(e){t.checkSex(e)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("民族：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.family,expression:"values.family"}],ref:"name",attrs:{type:"text",placeholder:"请输入名族",name:"name"},domProps:{value:t.values.family},on:{input:function(e){e.target.composing||t.$set(t.values,"family",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("手机：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.phone,expression:"values.phone"}],ref:"phone",attrs:{type:"text",placeholder:"请输入手机",name:"phone"},domProps:{value:t.values.phone},on:{input:function(e){e.target.composing||t.$set(t.values,"phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("身份证：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.values.pass,expression:"values.pass"}],ref:"pass",attrs:{type:"text",placeholder:"请输入身份证",name:"pass"},domProps:{value:t.values.pass},on:{input:function(e){e.target.composing||t.$set(t.values,"pass",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("班级：")]),t._v(" "),a("div",{staticClass:"schoolcheck"},[a("schoolcheck",{ref:"schoolcheck"}),t._v(" "),a("i",[t._v("*")])],1)]),t._v(" "),a("div",{staticClass:"Regis"},[a("span",{staticClass:"names"},[t._v("所属学校：")]),t._v(" "),a("el-select",{staticStyle:{width:"202px"},model:{value:t.values.college_id,callback:function(e){t.$set(t.values,"college_id",e)},expression:"values.college_id"}},t._l(t.select,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("i",[t._v("*")])],1),t._v(" "),a("br"),t._v(" "),a("em",[t._v("注：带*为必填项")]),t._v(" "),a("br"),t._v(" "),a("input",{attrs:{type:"button",value:"提交",name:"btn"},on:{click:t.register}})])]],2)])]),t._v(" "),a("div",{staticClass:"bottom"})])},staticRenderFns:[]};var ms=a("VU/8")(ds,hs,!1,function(t){a("hP4b")},"data-v-279dfd2d",null).exports,ps={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n    找回密码\n")])},staticRenderFns:[]};var fs=a("VU/8")({},ps,!1,function(t){a("HzXQ")},"data-v-60c678f8",null).exports,gs={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"return"},[e("a",{attrs:{href:"javascript:history.back()"}},[this._v("返回")])]),this._v(" "),e("div",{staticClass:"body"},[e("img",{attrs:{src:a("ed9p"),alt:""}})])])}]};var vs=a("VU/8")({},gs,!1,function(t){a("mgJQ")},"data-v-06ed24fe",null).exports,_s={data:function(){var t;return t={activeName2:"first"},v()(t,"activeName2","first"),v()(t,"tableData3",[]),v()(t,"tableData1",[]),v()(t,"page",{currentpage:1,countpage:0,pagesize:20,flag:!1}),v()(t,"multipleSelection",[]),v()(t,"page1",{currentpage:1,countpage:0,pagesize:20,flag:!1}),v()(t,"multipleSelection1",[]),v()(t,"nameId",""),v()(t,"title",""),v()(t,"textarea",""),v()(t,"filter",""),t},created:function(){this.getmesage(this.page.currentpage,this.page.pagesize),this.sendmessage(this.page1.currentpage,this.page1.pagesize)},methods:{getmesage:function(t,e){var a=this;this.axios.post("/api/v1/mail/list?filter="+this.filter,{page:t,size:e}).then(function(t){var e=t.data.data.list;e.map(function(t,e){t.view_time?t.read="已读":t.read="未读"}),a.tableData3=e,a.page.countpage=t.data.data.total})},sendmessage:function(t,e){var a=this;this.axios.post("/api/v1/admin/mail/list",{page:t,size:e}).then(function(t){a.tableData1=t.data.data.list,a.page1.countpage=t.data.data.total})},change:function(){this.getmesage(this.page.currentpage,this.page.pagesize)},goback:function(){this.$router.go(-1)},handleClick:function(t,e){console.log(t,e)},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection(),console.log(this.multipleSelection)},handleSelectionChange:function(t){this.multipleSelection=t,this.getmesage(this.page.currentpage,this.page.pagesize)},handleSelectionChange1:function(t){this.multipleSelection1=t,this.sendmessage(this.page.currentpage,this.page.pagesize)},handleSizeChange:function(t){this.page.pagesize=t,this.getmesage(this.page.currentpage,this.page.pagesize)},handleCurrentChange:function(t){this.page.currentpage=t,this.getmesage(this.page.currentpage,this.page.pagesize)},handleSizeChange1:function(t){console.log("每页 "+t+" 条"),this.page1.pagesize=t,this.sendmessage(this.page1.currentpage,this.page1.pagesize)},handleCurrentChange1:function(t){console.log("当前页: "+t),this.page1.currentpage=t,this.sendmessage(this.page1.currentpage,this.page1.pagesize)},sendmsg:function(){var t=this;this.axios.post("/api/v1/admin/mail/send",{receiver:this.nameId,title:this.title,content:this.textarea}).then(function(e){console.log(e),0==e.data.code?(t.$message("发送成功"),t.getmesage(t.page.currentpage,t.page.pagesize),t.sendmessage(t.page1.currentpage,t.page1.pagesize)):t.$message(e.data.msg)})},del:function(){var t=this,e=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(t){e.push(t.id)});var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/v1/mail/delete",{id:e}).then(function(t){console.log(t),0==t.data.code?(a.getmesage(a.page.currentpage,a.page.pagesize),a.$message("删除成功")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else this.$message("请至少选择一个删除文件")},read:function(){var t=[];if(0!==this.multipleSelection.length){this.multipleSelection.map(function(e){t.push(e.id)});var e=this;this.axios.post("/api/v1/mail/read",{id:t}).then(function(t){console.log(t),0==t.data.code?(e.getmesage(e.page.currentpage,e.page.pagesize),e.$message("已阅读")):e.$message(t.data.msg)}).catch(function(t){e.$message(t)})}else this.$message("请至少选择一个阅读文件")},readSend:function(t){var e=t.id,a=this;this.axios.get("/api/v1/admin/mail/read?id="+e).then(function(t){console.log(t),0==t.data.code?(a.getmesage(a.page.currentpage,a.page.pagesize),a.$message("已阅读")):a.$message(t.data.msg)}).catch(function(t){a.$message(t)})}}},bs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contain"},[a("div",{staticClass:"top"},[a("i",{staticClass:"iconfont icon-angle-left",on:{click:t.goback}}),t._v(" "),a("span",[t._v("站内消息")])]),t._v(" "),a("el-tabs",{attrs:{type:"card",hidden:!1},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"收件箱",name:"first"}},[a("div",{staticClass:"mesg"},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择",size:"large"},on:{change:t.change},slot:"prepend",model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[a("el-option",{attrs:{label:"系统消息",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"用户消息",value:"2"}})],1),t._v(" "),a("div",{staticClass:"work"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return e.stopPropagation(),t.del(e)}}},[t._v("删除邮件")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return e.stopPropagation(),t.read(e)}}},[t._v("标记阅读")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[t._v("["+t._s(e.row.read)+"]")]),t._v(t._s(e.row.create_time))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"120"}})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.countpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"发件箱",name:"second"}},[a("div",{staticClass:"work"}),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange1}},[a("el-table-column",{attrs:{label:"日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.create_time))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":""}})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.page1.currentPage,"page-sizes":[10,20,30,40,50,60],"page-size":t.page1.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.page1.countpage},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"撰写",name:"third"}},[a("span",{staticClass:"send",on:{click:t.sendmsg}},[t._v("发送")]),t._v(" "),a("div",[t._v("\n                       接收者：\n                       "),a("el-input",{attrs:{placeholder:"输入接受者的ID,多人用逗号分隔"},model:{value:t.nameId,callback:function(e){t.nameId=e},expression:"nameId"}})],1),t._v(" "),a("div",[t._v("\n                       标题：\n                       "),a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),a("div",[t._v("\n                       内容：\n                       "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)])],1)],1)])},staticRenderFns:[]};var ys=a("VU/8")(_s,bs,!1,function(t){a("7LAQ")},"data-v-5d136549",null).exports;n.default.use(_.a);var xs=new _.a({routes:[{path:"/schools/message",name:"新消息",component:ys},{path:"/login",name:"登陆",component:ss},{path:"/login1",name:"登陆1",component:as},{path:"/loginindex",name:"登陆2",component:ss},{path:"/globalAdminLogin",name:"超级管理员登陆",component:rs},{path:"/liangbiao",name:"个人量表",component:vs},{path:"/register",name:"注册",component:ms},{path:"/getUserPassword",name:"设置密码",component:fs},{path:"/admin/teacherindex",name:"生涯测评",component:E,children:[{path:"teacherschool",name:"学校",component:T}]},{path:"/admin",name:"详情页面",component:E,children:[{path:"setdatadetail",name:"详情数据",component:On}]},{path:"/school",component:E,children:[{path:"adminschool",name:"学校管理",component:It,meta:{permission:[]}}]},{path:"/admin",component:E,children:[{path:"Groupsettings",name:"单位组别",component:B,meta:{permission:[]}},{path:"admindata",name:"管理数据",component:G,meta:{permission:[]}},v()({path:"grade/:id",name:"班级数据",component:Vt},"name","grade"),{path:"admintype",name:"管理类型",component:J,meta:{permission:[]}},{path:"adminlist",name:"管理列表",component:nt,meta:{permission:[]}},{path:"setdata",name:"学生资料录入",component:ot,meta:{permission:[]}},{path:"permission",name:"权限设置",component:ct},{path:"addAdmin",name:"管理员增加",component:ht},{path:"stucomment",name:"学生评价",component:ft,meta:{permission:[]}},{path:"comments",name:"学生评语",component:_t},{path:"resports",name:"成长报告",component:kt},{path:"settingStudent",name:"修改学生信息",component:zt},{path:"setAdmin",name:"修改管理员信息",component:Dt}]},{path:"/Gauge",name:"测评",component:E,children:[{path:"alltest",name:"测评量表",component:bn},{path:"selftestSheet",name:"自有量表",component:wn},{path:"warning",name:"量表预警",component:$n},{path:"result",name:"查看量表",component:Fn},{path:"resultdetail",name:"详情量表",component:En},{path:"testgroup",name:"量表分发",component:Tn},{path:"testdata/handdata",name:"手动录入",component:jn},{path:"testdata/import",name:"导入量表",component:Nn}]},{path:"/data/vrdata",name:"数据类",component:E,children:[{path:"presentation",name:"数据报告",component:Mt,meta:{permission:[]}},{path:"vrdetail",name:"个人数据",component:Yt}]},{path:"/data/game",name:"沙盘游戏",component:E,children:[{path:"gameCenter",name:"游戏中心",component:Pt,meta:{permission:[]}},{path:"gamedetail",name:"组内数据",component:Ut}]},{path:"/data",name:"rest",component:E,children:[{path:"Coachdata",name:"身体反馈",component:Xt,meta:{permission:[]}},{path:"Coachdetail",name:"身体反馈详情",component:Kt,meta:{permission:[]}},{path:"feedback",name:"身心放松数据",component:ae},{path:"feedbackdetail",name:"身心放松数据1",component:se,meta:{permission:[]}},{path:"relex",name:"团体辅导数据",component:re},{path:"relexdetail",name:"团体辅导数据1",component:de,meta:{permission:[]}},{path:"archives/monthwork",name:"月报表",component:ve,meta:{permission:[]}},{path:"archives/daywork",name:"操作日志",component:xe,meta:{permission:[]}},{path:"archives/phyArchive",name:"心理档案",component:pe,meta:{permission:[]}}]},{path:"/artical",name:"文章类",component:E,children:[{path:"column",name:"文章管理",component:Ce,meta:{permission:[]}},{path:"articalList",name:"文章列表",component:De,meta:{permission:[]}},{path:"publish",name:"发布文章",component:Ve,meta:{permission:[]}},{path:"read",name:"阅读情况",component:Ie,meta:{permission:[]}},{path:"books",name:"心理图书",component:Pe,meta:{permission:[]}}]},{path:"/Consultation",name:"咨询中心",component:E,children:[{path:"appointment",name:"预约时间",component:qe},{path:"rackdetail",name:"个案详情",component:ya},{path:"history",name:"咨询记录",component:Ge},{path:"manageTime",name:"咨询时间",component:Je},{path:"message",name:"留言消息",component:ta},{path:"arrangement",name:"访谈时间",component:oa},{path:"invitation",name:"邀请记录",component:na},{path:"historyview",name:"访谈记录",component:ca},{path:"use",name:"功能室使用",component:ha},{path:"setting",name:"功能室设置",component:fa},{path:"racking",name:"个案追踪",component:_a}]},{path:"/crisis",name:"危机干预",component:E,children:[{path:"Assessment",name:"评估管理",component:Ia},{path:"asses/check",name:"鉴别评估",component:ja},{path:"asses/danger",name:"潜在风险评估",component:Wa},{path:"asses/diebefore",name:"自杀倾向评估",component:Ba},{path:"asses/lifeThing",name:"生活事件动态",component:Ma},{path:"strategy",name:"应对策略指导",component:cn},{path:"manageTime",name:"咨询时间",component:Je},{path:"prowarn",name:"预警触发",component:on},{path:"safeplan",name:"安全计划",component:hn},{path:"preTeam",name:"危机预防小组",component:an},{path:"environment",name:"环境安全管理",component:Ka},{path:"cases",name:"个案总结",component:Ya},{path:"setting",name:"功能室设置",component:fa},{path:"DeathNotice",name:"学生死亡通知模板",component:Xa}]},{path:"/system",name:"学生模块",component:E,children:[{path:"setpramas",name:"系统参数",component:ka},{path:"measure",name:"测量参数",component:za},{path:"Consultation",name:"咨询参数",component:Va},{path:"personinfo",name:"个人信息",component:Da}]},{path:"/Evaluation/studentindex",name:"学生测评",component:Xn,children:[{path:"studentschool",name:"学生",component:Kn}]},{path:"/studentindex/gpartical",name:"文章详情",component:si},{path:"/studentindex/comnonartical",name:"文章详情",component:ri},{path:"/Evaluation",name:"测评中心",component:Xn,children:[{path:"survey",name:"心理普查",component:di},{path:"zice",name:"心理自测",component:pi},{path:"jilu",name:"心理记录",component:vi},{path:"caleresult",name:"量表结果",component:ki}]},{path:"/test",name:"测试题",component:yi},{path:"/student",name:"咨询中心",component:Xn,children:[{path:"jianjie",name:"中心简介",component:Bi},{path:"history",name:"咨询记录",component:Wi},{path:"yaoqing",name:"访谈邀请",component:Gi},{path:"message",name:"问题留言",component:qi},{path:"addyuyue",name:"增加预约",component:Ji}]},{path:"/group",name:"团体辅导",component:Xn,children:[{path:"courselist",name:"课程列表",component:Di},{path:"course",name:"心理课程",component:zi}]},{path:"/Growup",name:"成长档案",component:Xn,children:[{path:"record",name:"自我成长报告",component:Ii},{path:"comment",name:"评价中心",component:Vi}]},{path:"/",redirect:"/login"}]}),ws=a("NYxO");n.default.use(ws.a);var ks=new ws.a.Store({state:{uid:y.a.get("userId"),token:y.a.get("userToken"),userInfo:y.a.get("role"),roles:[],adminGroup:"",list:[],btnList:["permission"],sandgroups:"",loginsucess:!0,columns:"",navdata:JSON.parse(localStorage.getItem("content"))||{}},mutations:{setnav:function(t,e){t.navdata=e.content},setToken:function(t,e){t.token=e.token,t.userInfo=e.role},getToken:function(t){},loginout:function(t,e){},SET_ROLES:function(t,e){t.roles=e,console.log(e)},setList:function(t,e){t.list=e},setGroup:function(t){zs.get("/api/v1/admin/user/roleGroup").then(function(e){var a=e.data.data;t.adminGroup=a,console.log(a)}).catch(function(t){alert(t)})},sandgroup:function(t){zs.post("/api/v1/admin/sand/group/select").then(function(e){console.log(e),0==e.data.code&&(t.sandgroups=e.data.data)})},column:function(t){zs.post("/api/v1/admin/tool/select/article/column").then(function(e){t.columns=e.data})}},actions:{getpermission:function(t){t.commit;zs.get("/api/v1/admin/user/roleGroup").then(function(t){ks.commit("setList",[1,2])}).catch(function(t){alert(t)})},sandgroup:function(){zs.post("/api/v1/admin/sand/group/select").then(function(t){console.log(t)})}},getters:{uid:function(t){return t.uid},token:function(t){return t.token},userInfo:function(t){return t.userInfo},roles:function(t){return t.roles}}}),Cs=ks,$s=f.a.create({timeout:2e4,withCredentials:!0,headers:{"Content-Type":"application/json;charset=UTF-8"}});$s.interceptors.request.use(function(t){return Cs.state.token&&(console.log(Cs.state.token),t.headers["X-Token"]=""+Cs.state.token),"post"===t.method?t.data=m()({},t.data,{t:Date.parse(new Date)/1e3}):"get"===t.method&&(t.params=m()({t:Date.parse(new Date)/1e3},t.params)),console.log(t),t},function(t){return console.log(22),d.a.reject(t)}),$s.interceptors.response.use(function(t){return console.log(t),-1==t.data.code&&"Expired token"==t.data.msg&&(y.a.set("userToken",""),Cs.state.loginsucess=!0,console.log(Cs.state.loginsucess),xs.replace("/login"),-10004==t.data.code&&alert(t.data.msg)),t},function(t){if(t)switch(console.log(t,14),t.response.status){case 401:Cs.commit(loginout),"login"!==xs.currentRoute.path&&xs.replace({path:"/login",query:{redirect:xs.currentRoute.path}})}});var zs=$s,Ss={setGroup:function(){zs.get("/api/v1/admin/roleGroup").then(function(t){var e=t.data.data;localStorage.setItem("roleGroup",e)}).catch(function(t){alert(t)})},handleDownload:function(t,e,n){a.e(0).then(function(){var i=a("zWO4").export_json_to_excel;if(0!=n.length){var s=Ss.formatJson(e,n);i(t,s,"导出的列表excel")}else alert("请至少一条数据导入")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},NestedToFlat:function(t){var e=[];for(var a in t)e.push({id:t[a].id,name:t[a].name,pid:t[a].pid}),0!==t[a].items.length&&(e=e.concat(Ss.NestedToFlat(t[a].items)));return e},treeData:function(t,e,a,n){var i=JSON.parse(c()(t));return i.filter(function(t){var s=i.filter(function(n){return t[e]==n[a]});return s.length>0&&(t[n]=s),0==t[a]})},actioncheck:function(t){return Cs.state.btnList.indexOf(t)>-1},assecsshave:function(t){Cs.state.btnList.indexOf(t)}},Fs=(a("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app2"}},[e("router-view")],1)},staticRenderFns:[]});var Ds=a("VU/8")({name:"App"},Fs,!1,function(t){a("LcKl")},null,null).exports,As=a("Myac"),Es=a.n(As),Vs=a("XLwt"),Ls=a.n(Vs);a("erWL"),a("2bHb");n.default.prototype.$layer=Es()(n.default),n.default.prototype.$echarts=Ls.a,n.default.prototype.axios=zs,n.default.use(s.a),n.default.prototype.axios=zs,n.default.config.productionTip=!1,xs.beforeEach(function(t,e,a){if(Cs.getters.token){a();var n=Cs.state.userInfo;"string"==typeof n&&(n=JSON.parse(n)),console.log(n.type),1!=n.type&&2!=n.type||(Cs.state.loginsucess=!1)}else-1!==["/login","/loginindex","/register","/getUserPassword","/studentindex/gpartical"].indexOf(t.path)?(Cs.state.loginsucess=!0,a()):(Cs.state.loginsucess=!0,a("/login"),alert("没有登陆，请去登陆"),console.log(e,t))}),Cs.commit("setGroup"),Cs.getters.token&&Cs.commit("column");var Ts=new n.default;new n.default({el:"#app",data:{Bus:Ts},router:xs,store:Cs,components:{App:Ds},template:"<App/>"})},"OE/Q":function(t,e){},OKV3:function(t,e){},Owfc:function(t,e){},Q8hc:function(t,e){},QFQK:function(t,e,a){t.exports=a.p+"static/img/6.ab597e5.png"},QJWm:function(t,e,a){"use strict";(function(t){var e,n=a("pFYg"),i=a.n(n),s=a("XLwt"),o=a.n(s),l=a("+aSx"),r=a.n(l);a("3TXs");(e=t).fn.html2docx=function(t,a){if(console.log(window,r.a,t,a),a=a,e(this).length){t=t||"未命名";var n=620,s=0,l=null,c=e(this).first();"undefined"!=typeof layer?layer.msg("正在生成，请稍候...",{icon:16,time:0,shade:[.1,"#000"]}):"object"===("undefined"==typeof AMUI?"undefined":i()(AMUI))?e("#btn-word").prop("disabled",!0).find("i").attr("class","am-icon-circle-o-notch am-icon-spin"):e("#btn-word").prop("disabled",!0).data("value",e("#btn-word").val()).val("请稍候...");var u=[];c.find("svg").length&&"undefined"==typeof html2canvas&&u.push(e.ajax("//cdn.psy.com.cn/scripts/html2canvas.min.js",{dataType:"script",cache:!0})),e.when.apply(null,u).done(function(){var t=c.find("svg");if(t.length){console.log(1111);var a=[];t.each(function(){var t=e(this);a.push(html2canvas(this).then(function(e){t.after('<img src="'+e.toDataURL("image/png")+'">'),t.remove()}))}),e.when.apply(null,a).done(d)}else console.log(1111),d()})}return this;function d(){l=c.clone(!0),console.log(c),l.find("iframe,embed,style").remove(),l.contents().each(function(){var t=e(this);(8===this.nodeType||t.is('input[type="hidden"]')||t.is(".word-hidden")||t.is(".no-word"))&&t.remove()});var t=l.find("img");if(s=t.length,console.log(s),0===s)h();else{var a=document.createElement("canvas"),i=a.getContext("2d");t.each(function(){var t=e(this),s=t.attr("src"),o=c.find('img[src="'+s+'"]').get(0);if(0===s.indexOf("data:"))h();else{var l=Math.min(o.width,n);if(0===l)t.remove(),h();else{var r=o.height*(l/o.width),u=document.createElement("a"),d="";if(u.href=s,u.host===window.location.host)i.clearRect(0,0,a.width,a.height),a.width=l,a.height=r,i.drawImage(o,0,0,l,r),d=a.toDataURL(),t.attr("src",d).removeAttr("width"),h();else{var m="";s=s.replace(/^(http:\/\/|https:\/\/|\/\/)/gi,""),m="images.weserv.nl"===u.host?s+"&encoding=base64":"//images.weserv.nl/?url="+s+"&w="+l+"&encoding=base64",e.get(m,function(e){t.attr("src",e).removeAttr("width"),h()})}u.remove()}}}),a.remove()}}function h(){if(s>1)s--;else{l.find("div.chart").has("canvas,svg").each(function(){var t=e(this).data("option"),a=e(this).attr("id"),i=c.find("#"+a).data("theme");if(console.log(e(this),t),t){console.log(111111111,t,o.a),"string"==typeof t&&(t=JSON.parse(t));var s=e('<div style="width:'+n+'px;height:500px;"></div>'),l=s.get(0);e.extend(!0,t,{animation:!1,toolbox:{show:!1},tooltip:{show:!1,trigger:"none"}}),e(this).after(s);var r=o.a.init(l,i);r.setOption(t);var u=r.getDataURL({backgroundColor:"#fff",excludeComponents:["toolbox","tooltip"]});console.log(0x27797f26d671c8),s.replaceWith('<div style="text-align:center;"><img src="'+u+'"></div>'),r.dispose()}e(this).remove()}),l.find("h1").css({"text-align":"center"}),l.find("p").css({"text-indent":"2em"}),l.find("table").css({"border-collapse":"collapse",width:"100%"}).removeAttr("class"),l.find("th").css({border:"1px solid #000","text-align":"center","background-color":"#e8e8e8"}),l.find("td").css({border:"1px solid #000","text-align":"center"}),l.find(".am-text-primary").css({color:"#5085FF"}).removeClass("am-text-primary"),l.find(".text-left,.am-text-left").css({"text-align":"left"}).removeClass("text-left am-text-left"),l.find(".text-center,.am-text-center").css({"text-align":"center"}).removeClass("text-center am-text-center"),l.find(".text-right,.am-text-right").css({"text-align":"right"}).removeClass("text-right am-text-right"),l.find(".text-top").css({"vertical-align":"top"}).removeClass("text-top"),l.find('[class=""]').removeAttr("class"),l.find("[contenteditable]").removeAttr("contenteditable"),l.find("script").remove();var a="<!DOCTYPE html><html><body>"+l.html()+"</body></html>",u=window.htmlDocx.asBlob(a);l.remove(),"undefined"!=typeof layer?layer.closeAll():"object"===("undefined"==typeof AMUI?"undefined":i()(AMUI))?e("#btn-word").prop("disabled",!1).find("i").attr("class","am-icon-file-word-o"):e("#btn-word").prop("disabled",!1).val(e("#btn-word").data("value")),r.a.saveAs(u,t+".docx")}}}}).call(e,a("7t+N"))},Qyl8:function(t,e){},THAh:function(t,e){},Te8f:function(t,e,a){"use strict";(function(t){var n=a("2T5n"),i=a("spLH"),s=a("QaH6"),o=a("E0VQ"),l=(a.n(o),a("qPaF")),r=a.n(l),c=a("PJh5"),u=a.n(c);e.a={data:function(){return{arr:["2019/6/2","2019/6/3"],title:"",Mouseoverflag:!0,dialogFormVisible:!1,dialogFormVisible1:!1,form:{theme_id:"",problem:"",last_exp:"",grow_exp:"",target:"",other:""},form1:{id:"",name:"",unit_name:""},formLabelWidth:"100px",config:{locale:"zh-cn",header:{left:"month",center:"title",right:"today prev,next,prevYear,nextYear "},allDay:!0,defaultView:"month",displayEventTime:!1,eventLimit:4,eventLimitText:"更多",allDayDefault:!1,eventLimitClick:"popover"},monthData:[],timecontent:"",headson:["心理咨询安排","学生咨询预约"],multipleSelection:[],page:{currentpage:1,countpage:0,pagesize:"10",flag:!1},currentRow:null,spanArr:[],pos:""}},created:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();console.log(e),this.viewrender(e,a,n)},methods:{abs:function(){},viewrender:function(t,e,a){var n=this;n.monthData={case1:[],case2:[],case3:[],case4:[]},this.axios.post("/api/v1/admin/counsel/monthList",{year:t,month:e}).then(function(t){t.data.data.map(function(t,e){var i=u()(t.start_time).get("date");if(a==i){console.log(i),t.times=u()(t.start_time).format("HH:mm:ss")+"至"+u()(t.end_time).format("HH:mm:ss")+"， 咨询师："+t.name+" ，功能室："+t.funcname;var s={};s.id=t.id,s.title=t.times,s.start=t.start_time,s.end=t.end_time;var o=t.status;if(1==o)u()().isBetween(t.start_time,t.end_time)&&(o=4);switch(o-0){case 0:n.monthData.case1.push(s);break;case 1:n.monthData.case2.push(s);break;case 3:n.monthData.case3.push(s);break;case 4:n.monthData.case4.push(s)}}})})},clickDay:function(t){var e=this;setTimeout(function(){e.showflag=!1},800),console.log(t);var a=u()(t).get("year"),n=u()(t).get("month")+1,i=u()(t).get("date");this.viewrender(a,n,i)},changeDate:function(t){console.log(t)},clickToday:function(t){console.log(t)},changeobj:function(t){if(null!=t){for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].id===t[e-1].id?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e);console.log(this.spanArr)}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),console.log(t)},handleCurrentChange:function(t){this.currentRow=t,console.log(t),this.form.theme_id=t.id},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.page.pagesize=t,this.getlist(this.page.currentpage,this.page.pagesize)},pageCurrentChange:function(t){console.log("当前页: "+t),this.page.currentpage=t,this.getlist(this.page.currentpage,this.page.pagesize)},handleEdit:function(t,e){this.dialogFormVisible1=!0,this.form1.id=e.id,this.form1.name=e.name,this.form1.unit_name=e.unit_name},editsure:function(){this.axios.post("/api/v1/admin/sand/group/edit",{id:this.form1.id,name:this.form1.name,unit_name:this.form1.unit_name}).then(function(t){console.log(t),0==t.data.code?(that.$message("编辑成功"),that.getlist(that.page.currentpage,that.page.pagesize)):that.$message(t.data.msg)})},handleDelete:function(t,e){var a=[];e?a.push(e.id):0!==this.multipleSelection.length?this.multipleSelection.map(function(t){a.push(t.id)}):this.$message("请确定选中了选项");var n=this;this.axios.post("/api/v1/admin/sand/group/delete",{id:a}).then(function(t){console.log(t),0==t.data.code?(n.$message("删除成功"),n.getlist(n.page.currentpage,n.page.pagesize)):n.$message(t.data.msg)})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},addnumber:function(){this.dialogFormVisible=!0},makesure:function(){this.dialogFormVisible=!1;var t=this;for(var e in this.form)if(!this.form[e])return void this.$message("请填写完整详细基本问题信息和选择咨询时间主题");this.form.problem.length<10||this.form.problem.length>1024?this.$message("主要问题字数过少或者过多，在10个字到1024个区间"):(console.log(this.form),this.axios.post("/api/v1/counsel/addAppointment",t.form).then(function(e){console.log(e),0==e.data.code?t.$message("增加成功"):t.$message(e.data.msg)}))},handleDelAll:function(){},changevalue:function(){},changeMonth:function(t,e,a){},eventClick:function(e,a,n){this.timecontent=e.content,this.form.theme_id=e.id;for(var i=0;i<t(".test-fc .fc-title").length;i++)t(".test-fc .fc-title")[i].style.color="#fff";a.target.style.color="red"},dayClick:function(t,e){},moreClick:function(t,e,a){console.log("moreCLick",t,e,a)},eventMouseover:function(t,e,a){if(this.Mouseoverflag){this.$refs.toop.style.display="block";var n=document.documentElement.scrollTop||document.body.scrollTop;this.$refs.toop.style.left=e.clientX+"px",this.$refs.toop.style.top=e.clientY+n+"px",this.title=t.title,this.Mouseoverflag=!1}},eventmouseout:function(){this.Mouseoverflag=!0,this.$refs.toop.style.display="none"},eventLimitClick:function(){console.log("ssss")}},components:{headson:n.a,pagination:i.a,"full-calendar":s.a,Calendar:r.a}}}).call(e,a("7t+N"))},TkE9:function(t,e){},Txl5:function(t,e,a){t.exports=a.p+"static/img/1.c25c8a2.png"},"U+2z":function(t,e,a){t.exports=a.p+"static/img/3.99d1c66.png"},U7XW:function(t,e){},UT21:function(t,e,a){t.exports=a.p+"static/img/2.7ff1a80.png"},Us17:function(t,e){},V3Hv:function(t,e){},VGSF:function(t,e){},W07F:function(t,e){},XNcQ:function(t,e){},"Xh+0":function(t,e){t.exports={1:{sort:1,id:1,pid:0,menu_route:"Evaluation",icon:"icon-baobei",menu_name:"测评中心",items:[{id:4,pid:1,menu_route:"Evaluation/survey",icon:null,menu_name:"心理普测",items:[]},{id:7,pid:1,menu_route:"Evaluation/zice",icon:null,menu_name:"心理自测",items:[]},{id:7,pid:1,menu_route:"Evaluation/jilu",icon:null,menu_name:"测评记录",items:[]}]},2:{sort:2,id:2,pid:0,menu_route:"student",icon:"icon-zixun",menu_name:"咨询中心",items:[{id:3,pid:2,menu_route:"student/jianjie",icon:null,menu_name:"中心简介",items:[]},{id:7,pid:2,menu_route:"student/history",icon:null,menu_name:"预约咨询",items:[]},{id:7,pid:2,menu_route:"student/message",icon:null,menu_name:"问题留言",items:[]}]},4:{sort:4,id:2,pid:0,menu_route:"Growup",icon:"icon-edit",menu_name:"成长档案",items:[{id:3,pid:2,menu_route:"Growup/record",icon:null,menu_name:"个人档案",items:[]},{id:7,pid:1,menu_route:"Growup/comment",icon:null,menu_name:"个人中心",items:[]}]}}},"a1/t":function(t,e){},a5oA:function(t,e){},aL9x:function(t,e){},bj0a:function(t,e){},"cVg+":function(t,e){},d0Cb:function(t,e){},dMWO:function(t,e){},ed9p:function(t,e,a){t.exports=a.p+"static/img/测评报告-翟宇轩(2017080) - www.psy.com.cn.63a3c88.png"},erWL:function(t,e){},eyv3:function(t,e){},f4Ga:function(t,e,a){t.exports=a.p+"static/img/2019-04-25_133454.b326fc0.png"},fuYE:function(t,e){},g5uV:function(t,e){},"gJe/":function(t,e){},gYBl:function(t,e){},ge42:function(t,e){},"gqE+":function(t,e){},"h+in":function(t,e){},hBiN:function(t,e){},hP4b:function(t,e){},hmOG:function(t,e){},iYrm:function(t,e){},"is/C":function(t,e){},iuUh:function(t,e){},j9SJ:function(t,e){},jI9P:function(t,e){},l23F:function(t,e){},mQb5:function(t,e){},mgJQ:function(t,e){},nLf5:function(t,e){},oENk:function(t,e){},oNSV:function(t,e){},"qZ+F":function(t,e){},qqTw:function(t,e){},"rP++":function(t,e){},rtUK:function(t,e){},s1w8:function(t,e){},sEOj:function(t,e){},sHYe:function(t,e){},shb3:function(t,e){},spLH:function(t,e,a){"use strict";var n=a("pFYg"),i=a.n(n),s={data:function(){return{currentpage:this.page.currentpage,countpage:this.page.countpage,pagesize:this.page.pagesize,flag:this.page.flag}},created:function(){console.log(this.page)},methods:{show:function(){this.flag=!this.flag},check:function(){var t=event.target;this.flag=!1,this.currentpage=t.innerHTML},updatepage:function(){console.log(1,this.countpage),this.flag=!1},first:function(){this.currentpage=1},last:function(){this.currentpage=this.countpage},prev:function(){this.currentpage>1&&(this.currentpage=this.currentpage-1,console.log(this.currentpage))},nex:function(){this.currentpage<this.countpage&&(this.currentpage=this.currentpage-0+1,console.log(i()(this.currentpage)))}},props:["page"]},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagi"},[a("div",{staticClass:"pagination"},[a("span",{staticClass:"first iconfont icon-fenyezuiqianye",on:{click:t.first}}),t._v(" "),a("span",{staticClass:"pre iconfont icon-fenyeshangyiye",on:{click:t.prev}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentpage,expression:"currentpage"}],staticClass:"page",attrs:{type:"text"},domProps:{value:t.currentpage},on:{click:t.show,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.updatepage(e):null},input:function(e){e.target.composing||(t.currentpage=e.target.value)}}}),t._v(" "),a("span",{staticClass:"check iconfont icon-xuanzekuang",on:{click:t.show}}),t._v(" "),a("span",{staticClass:"next iconfont icon-pagernext",on:{click:t.nex}}),t._v(" "),a("span",{staticClass:"end iconfont icon-fenyezuihouye",on:{click:t.last}}),t._v(" "),t.flag?a("ul",{staticClass:"pages",on:{click:function(e){t.check()}}},t._l(t.countpage,function(e){return a("li",{key:e},[t._v(t._s(e))])}),0):t._e()])])},staticRenderFns:[]};var l=a("VU/8")(s,o,!1,function(t){a("6GXs")},"data-v-fc3f328e",null);e.a=l.exports},tqUv:function(t,e){},tvR6:function(t,e){},uq8w:function(t,e){},uslO:function(t,e,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="uslO"},vD6u:function(t,e){},wByk:function(t,e,a){t.exports=a.p+"static/img/11.9ef1f11.png"},wJwX:function(t,e){},x1Lg:function(t,e){},xuGA:function(t,e){},y5V3:function(t,e){},yMGv:function(t,e){},ySDD:function(t,e){},yfqu:function(t,e){},yiMv:function(t,e){},"yk+g":function(t,e){},zhqg:function(t,e){},zkvg:function(t,e){}},[0]);
//# sourceMappingURL=app.ae0622dec9678c9af300.js.map